{"url": "https://developers-watch.vivo.com.cn/reference/app-service/data-binding/", "category": "tutorial", "crawl_time": "2025-11-24T02:22:10.120564", "status": "success", "title": "数据绑定", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"数据绑定\" style=\"position:relative;\"><a aria-label=\"数据绑定 permalink\" class=\"anchor before\" href=\"#%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>数据绑定</h1><p class=\"update-time\">更新时间：<time datetime=\"2024-03-08 15:34:54\">2024-03-08 15:34:54</time></p>\n<p>蓝河应用提供了数据绑定 UI 组件的方式，当数据发生变化时，会自动触发 UI 组件的更新。</p>\n<h2 id=\"绑定方法\" style=\"position:relative;\"><a aria-label=\"绑定方法 permalink\" class=\"anchor before\" href=\"#%E7%BB%91%E5%AE%9A%E6%96%B9%E6%B3%95\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>绑定方法</h2>\n<p>用法上，开发者可以在组件上使用 <strong>\"{{varname}}\"</strong> ，即双大括号内放置变量的形式，即可将变量绑定在 UI 组件上。</p>\n<h3 id=\"示例如下\" style=\"position:relative;\"><a aria-label=\"示例如下 permalink\" class=\"anchor before\" href=\"#%E7%A4%BA%E4%BE%8B%E5%A6%82%E4%B8%8B\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>示例如下</h3>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn0\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{title}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>changeTitle<span class=\"token punctuation\">\"</span></span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\">changeTitle</span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token punctuation\">/&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">'Hello World!'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">changeTitle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token string\">'Hello 蓝河应用'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<h2 id=\"注意事项\" style=\"position:relative;\"><a aria-label=\"注意事项 permalink\" class=\"anchor before\" href=\"#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>注意事项</h2>\n<p>响应式数据必须先在 data 上静态声明或者使用 <code class=\"language-text\">this.$set</code> 动态添加，不能直接使用 <code class=\"language-text\">this.title = 'hello'</code> 添加。</p>\n<h3 id=\"错误示例\" style=\"position:relative;\"><a aria-label=\"错误示例 permalink\" class=\"anchor before\" href=\"#%E9%94%99%E8%AF%AF%E7%A4%BA%E4%BE%8B\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>错误示例</h3>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn1\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token string\">'Hello 蓝河应用'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div></body></html></div>", "content_text": "数据绑定\n更新时间：\n2024-03-08 15:34:54\n蓝河应用提供了数据绑定 UI 组件的方式，当数据发生变化时，会自动触发 UI 组件的更新。\n绑定方法\n用法上，开发者可以在组件上使用\n\"{{varname}}\"\n，即双大括号内放置变量的形式，即可将变量绑定在 UI 组件上。\n示例如下\n<\ntemplate\n>\n<\ndiv\n>\n<\ntext\n>\n{{title}}\n</\ntext\n>\n<\ninput\ntype\n=\n\"\nbutton\n\"\nvalue\n=\n\"\nchangeTitle\n\"\nonclick\n=\n\"\nchangeTitle\n\"\n/>\n</\ndiv\n>\n</\ntemplate\n>\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\ntitle\n:\n'Hello World!'\n,\n}\n,\nchangeTitle\n(\n)\n{\nthis\n.\ntitle\n=\n'Hello 蓝河应用'\n}\n,\n}\n</\nscript\n>\n复制代码\n注意事项\n响应式数据必须先在 data 上静态声明或者使用\nthis.$set\n动态添加，不能直接使用\nthis.title = 'hello'\n添加。\n错误示例\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\n}\n,\nonInit\n(\n)\n{\nthis\n.\ntitle\n=\n'Hello 蓝河应用'\n}\n,\n}\n</\nscript\n>\n复制代码", "code_examples": [{"code": "<template>\n  <div>\n    <text>{{title}}</text>\n    <input type=\"button\" value=\"changeTitle\" onclick=\"changeTitle\" />\n  </div>\n</template>\n\n<script>\n  export default {\n    data: {\n      title: 'Hello World!',\n    },\n    changeTitle() {\n      this.title = 'Hello 蓝河应用'\n    },\n  }\n</script>", "language": "html", "index": 0}, {"code": "<script>\n  export default {\n    data: {},\n    onInit() {\n      this.title = 'Hello 蓝河应用'\n    },\n  }\n</script>", "language": "html", "index": 1}], "frontmatter": {"title": "数据绑定"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/app-service/event-on/", "category": "tutorial", "crawl_time": "2025-11-24T02:22:12.577590", "status": "success", "title": "概述", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"概述\" style=\"position:relative;\"><a aria-label=\"概述 permalink\" class=\"anchor before\" href=\"#%E6%A6%82%E8%BF%B0\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>概述</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-08-13 20:11:57\">2025-08-13 20:11:57</time></p>\n<p>通过在 UI 组件上绑定事件，开发者可以实现蓝河应用与用户之间的交互。</p>\n<h2 id=\"绑定事件\" style=\"position:relative;\"><a aria-label=\"绑定事件 permalink\" class=\"anchor before\" href=\"#%E7%BB%91%E5%AE%9A%E4%BA%8B%E4%BB%B6\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>绑定事件</h2>\n<p>用法上，开发者可以使用 on (可以用@简写代替) 来绑定事件，如：onclick,onchange 可简写成 @click,@change，并在事件触发时执行对应的 JavaScript 业务代码。</p>\n<h3 id=\"示例如下\" style=\"position:relative;\"><a aria-label=\"示例如下 permalink\" class=\"anchor before\" href=\"#%E7%A4%BA%E4%BE%8B%E5%A6%82%E4%B8%8B\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>示例如下</h3>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn0\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tutorial-page<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>elNode1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{ elClassName + 1 }}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">disabled</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>false<span class=\"token punctuation\">\"</span></span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\">onClickHandler</span><span class=\"token punctuation\">\"</span></span></span>\n      <span class=\"token punctuation\">&gt;</span></span>组件节点1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span>\n    <span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span>\n      <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>elNode2<span class=\"token punctuation\">\"</span></span>\n      <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>class-static-1 {{ elClassName + 2 }}<span class=\"token punctuation\">\"</span></span>\n      <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\"><span class=\"token function\">onClickHandler2</span><span class=\"token punctuation\">(</span><span class=\"token string\">'参数1'</span><span class=\"token punctuation\">,</span> argName<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">\"</span></span></span>\n      <span class=\"token punctuation\">&gt;</span></span>组件节点2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span>\n    <span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>less<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token selector\">.tutorial-page</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">flex-direction</span><span class=\"token punctuation\">:</span> column<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">elClassName</span><span class=\"token operator\">:</span> <span class=\"token string\">'class-dynamic'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">argName</span><span class=\"token operator\">:</span> <span class=\"token string\">'动态参数'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">onClickHandler</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">evt</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">触发事件</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">onClickHandler2</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arg1<span class=\"token punctuation\">,</span> arg2<span class=\"token punctuation\">,</span> evt</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">触发事件，参数： </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>arg1<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>arg2<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<h3 id=\"事件传参\" style=\"position:relative;\"><a aria-label=\"事件传参 permalink\" class=\"anchor before\" href=\"#%E4%BA%8B%E4%BB%B6%E4%BC%A0%E5%8F%82\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>事件传参</h3>\n<p>UI 组件可以向绑定的事件方法传递自定义参数。</p>\n<h4 id=\"示例如下-1\" style=\"position:relative;\"><a aria-label=\"示例如下 1 permalink\" class=\"anchor before\" href=\"#%E7%A4%BA%E4%BE%8B%E5%A6%82%E4%B8%8B-1\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>示例如下</h4>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn1\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>demo-page<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{list}}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">key</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{$idx}}<span class=\"token punctuation\">\"</span></span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\"><span class=\"token function\">handle</span><span class=\"token punctuation\">(</span>$idx<span class=\"token punctuation\">,</span>$item<span class=\"token punctuation\">,</span>total<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>{{$item}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">list</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">total</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">handle</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">idx<span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">,</span> total<span class=\"token punctuation\">,</span> $evt</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>idx<span class=\"token punctuation\">)</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>total<span class=\"token punctuation\">)</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>$evt<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<p>回调函数被调用时，会在参数列表末尾自动添加一个 evt 参数，通过 evt 参数开发者可以访问回调事件相关上下文数据。</p>\n<br/>\n<p>UI 组件还支持许多其他的事件绑定，如果您想进一步了解，请移步<a href=\"/component/common/common-events/\">通用事件</a>。</p></body></html></div>", "content_text": "概述\n更新时间：\n2025-08-13 20:11:57\n通过在 UI 组件上绑定事件，开发者可以实现蓝河应用与用户之间的交互。\n绑定事件\n用法上，开发者可以使用 on (可以用@简写代替) 来绑定事件，如：onclick,onchange 可简写成 @click,@change，并在事件触发时执行对应的 JavaScript 业务代码。\n示例如下\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\ntutorial-page\n\"\n>\n<\ntext\nid\n=\n\"\nelNode1\n\"\nclass\n=\n\"\n{{ elClassName + 1 }}\n\"\ndisabled\n=\n\"\nfalse\n\"\nonclick\n=\n\"\nonClickHandler\n\"\n>\n组件节点1\n</\ntext\n>\n<\ntext\nid\n=\n\"\nelNode2\n\"\nclass\n=\n\"\nclass-static-1 {{ elClassName + 2 }}\n\"\nonclick\n=\n\"\nonClickHandler2\n(\n'参数1'\n,\nargName\n)\n\"\n>\n组件节点2\n</\ntext\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nstyle\nlang\n=\n\"\nless\n\"\n>\n.tutorial-page\n{\nflex-direction\n:\ncolumn\n;\n}\n</\nstyle\n>\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\nelClassName\n:\n'class-dynamic'\n,\nargName\n:\n'动态参数'\n,\n}\n,\nonClickHandler\n(\nevt\n)\n{\nconsole\n.\ninfo\n(\n`\n触发事件\n`\n)\n}\n,\nonClickHandler2\n(\narg1\n,\narg2\n,\nevt\n)\n{\nconsole\n.\ninfo\n(\n`\n触发事件，参数：\n${\narg1\n}\n,\n${\narg2\n}\n`\n)\n}\n,\n}\n</\nscript\n>\n复制代码\n事件传参\nUI 组件可以向绑定的事件方法传递自定义参数。\n示例如下\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\ndemo-page\n\"\n>\n<\ntext\nfor\n=\n\"\n{{list}}\n\"\nkey\n=\n\"\n{{$idx}}\n\"\nonclick\n=\n\"\nhandle\n(\n$idx\n,\n$item\n,\ntotal\n)\n\"\n>\n{{$item}}\n</\ntext\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\nlist\n:\n[\n1\n,\n2\n,\n3\n,\n4\n,\n5\n]\n,\ntotal\n:\n0\n,\n}\n,\nhandle\n(\nidx\n,\nitem\n,\ntotal\n,\n$evt\n)\n{\nconsole\n.\nlog\n(\nidx\n)\nconsole\n.\nlog\n(\nitem\n)\nconsole\n.\nlog\n(\ntotal\n)\nconsole\n.\nlog\n(\n$evt\n)\n}\n,\n}\n</\nscript\n>\n复制代码\n回调函数被调用时，会在参数列表末尾自动添加一个 evt 参数，通过 evt 参数开发者可以访问回调事件相关上下文数据。\nUI 组件还支持许多其他的事件绑定，如果您想进一步了解，请移步\n通用事件\n。", "code_examples": [{"code": "<template>\n  <div class=\"tutorial-page\">\n    <text id=\"elNode1\" class=\"{{ elClassName + 1 }}\" disabled=\"false\" onclick=\"onClickHandler\"\n      >组件节点1</text\n    >\n    <text\n      id=\"elNode2\"\n      class=\"class-static-1 {{ elClassName + 2 }}\"\n      onclick=\"onClickHandler2('参数1', argName)\"\n      >组件节点2</text\n    >\n  </div>\n</template>\n\n<style lang=\"less\">\n  .tutorial-page {\n    flex-direction: column;\n  }\n</style>\n\n<script>\n  export default {\n    data: {\n      elClassName: 'class-dynamic',\n      argName: '动态参数',\n    },\n    onClickHandler(evt) {\n      console.info(`触发事件`)\n    },\n    onClickHandler2(arg1, arg2, evt) {\n      console.info(`触发事件，参数： ${arg1}, ${arg2}`)\n    },\n  }\n</script>", "language": "html", "index": 0}, {"code": "<template>\n  <div class=\"demo-page\">\n    <text for=\"{{list}}\" key=\"{{$idx}}\" onclick=\"handle($idx,$item,total)\">{{$item}}</text>\n  </div>\n</template>\n\n<script>\n  export default {\n    data: {\n      list: [1, 2, 3, 4, 5],\n      total: 0,\n    },\n    handle(idx, item, total, $evt) {\n      console.log(idx)\n      console.log(item)\n      console.log(total)\n      console.log($evt)\n    },\n  }\n</script>", "language": "html", "index": 1}], "frontmatter": {"title": "概述"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/app-service/for/", "category": "tutorial", "crawl_time": "2025-11-24T02:22:14.740588", "status": "success", "title": "列表渲染", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"列表渲染\" style=\"position:relative;\"><a aria-label=\"列表渲染 permalink\" class=\"anchor before\" href=\"#%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>列表渲染</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-06-17 15:55:14\">2025-06-17 15:55:14</time></p>\n<p>使用 <code class=\"language-text\">for</code> 指令可循环渲染数组数据。其语法支持多种形式（<code class=\"language-text\">{{}}</code> 可省略）：</p>\n<h2 id=\"基础写法\" style=\"position:relative;\"><a aria-label=\"基础写法 permalink\" class=\"anchor before\" href=\"#%E5%9F%BA%E7%A1%80%E5%86%99%E6%B3%95\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>基础写法</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><div id=\"copyBtn0\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">for</span><span class=\"token operator\">=</span><span class=\"token string\">\"{{list}}\"</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<ul>\n<li>\n<p><code class=\"language-text\">list</code> 是数组类型数据。</p>\n</li>\n<li>\n<p>默认数组元素变量为 <code class=\"language-text\">$item</code>，索引为 <code class=\"language-text\">$idx</code>。</p>\n</li>\n</ul>\n<h2 id=\"自定义变量名\" style=\"position:relative;\"><a aria-label=\"自定义变量名 permalink\" class=\"anchor before\" href=\"#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F%E5%90%8D\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>自定义变量名</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><div id=\"copyBtn1\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">for</span><span class=\"token operator\">=</span><span class=\"token string\">\"{{value in list}}\"</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<ul>\n<li>\n<p><code class=\"language-text\">value</code> 是自定义的数组元素变量名。</p>\n</li>\n<li>\n<p>索引仍默认为 <code class=\"language-text\">$idx</code>。</p>\n</li>\n</ul>\n<h2 id=\"自定义索引和元素变量名\" style=\"position:relative;\"><a aria-label=\"自定义索引和元素变量名 permalink\" class=\"anchor before\" href=\"#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B4%A2%E5%BC%95%E5%92%8C%E5%85%83%E7%B4%A0%E5%8F%98%E9%87%8F%E5%90%8D\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>自定义索引和元素变量名</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><div id=\"copyBtn2\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">for</span><span class=\"token operator\">=</span><span class=\"token string\">\"{{(index, value) in list}}\"</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn2\">复制代码</div></div>\n<ul>\n<li><code class=\"language-text\">index</code> 是索引变量名，<code class=\"language-text\">value</code> 是元素变量名。</li>\n</ul>\n<h2 id=\"使用常数作为循环次数\" style=\"position:relative;\"><a aria-label=\"使用常数作为循环次数 permalink\" class=\"anchor before\" href=\"#%E4%BD%BF%E7%94%A8%E5%B8%B8%E6%95%B0%E4%BD%9C%E4%B8%BA%E5%BE%AA%E7%8E%AF%E6%AC%A1%E6%95%B0\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>使用常数作为循环次数</h2>\n<p>你还可以使用一个常数作为数据源，表示循环执行的次数。等价于遍历从 <code class=\"language-text\">0</code> 到 <code class=\"language-text\">n - 1</code> 的索引。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><div id=\"copyBtn3\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">for</span><span class=\"token operator\">=</span><span class=\"token string\">\"{{value in 10}}\"</span>\n<span class=\"token assign-left variable\">for</span><span class=\"token operator\">=</span><span class=\"token string\">\"{{(index, value) in 5}}\"</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn3\">复制代码</div></div>\n<ul>\n<li>\n<p>等价于遍历 <code class=\"language-text\">[0, 1, 2, ..., n - 1]</code>。</p>\n</li>\n<li>\n<p>可以搭配 <code class=\"language-text\">index</code> 和 <code class=\"language-text\">value</code> 使用。</p>\n</li>\n</ul>\n<h2 id=\"tid-属性\" style=\"position:relative;\"><a aria-label=\"tid 属性 permalink\" class=\"anchor before\" href=\"#tid-%E5%B1%9E%E6%80%A7\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>tid 属性</h2>\n<p>用于指定每个循环项的唯一 ID，用于 DOM 节点复用和性能优化。若未指定，默认使用 <code class=\"language-text\">$idx</code>。</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><div id=\"copyBtn4\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>value in list<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">tid</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>uniqueId<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{$idx}}.{{value.name}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n  export default {\n    data: {\n      list: [\n        { name: 'aa', uniqueId: 1 },\n        { name: 'bb', uniqueId: 2 },\n        { name: 'cc', uniqueId: 3 },\n      ],\n    },\n    onInit() {\n      console.log('指令for')\n    },\n  }\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn4\">复制代码</div></div>\n<h2 id=\"示例\" style=\"position:relative;\"><a aria-label=\"示例 permalink\" class=\"anchor before\" href=\"#%E7%A4%BA%E4%BE%8B\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>示例</h2>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn5\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tutorial-page<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 方式1：默认$item代表数组中的元素, $idx代表数组中的索引 --&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tutorial-row<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{list}}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">tid</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>uniqueId<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{$idx}}.{{$item.name}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 方式2：自定义元素变量名称 --&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tutorial-row<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>value in list<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">tid</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>uniqueId<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{$idx}}.{{value.name}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 方式3：自定义元素、索引的变量名称 --&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tutorial-row<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>(personIndex, personItem) in list<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">tid</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>uniqueId<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{personIndex}}.{{personItem.name}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>less<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token selector\">.tutorial-page</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">flex-direction</span><span class=\"token punctuation\">:</span> column<span class=\"token punctuation\">;</span>\n    <span class=\"token selector\">.tutorial-row</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 85%<span class=\"token punctuation\">;</span>\n      <span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span>\n      <span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">list</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'aa'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">uniqueId</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'bb'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">uniqueId</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'cc'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">uniqueId</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'指令for'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn5\">复制代码</div></div>\n<p>示例代码中，在渲染页面时，<code class=\"language-text\">div.tutorial-row</code>的结构，会根据 script 中的数据 list 的定义，被循环的生成多个。tid=\"uniqueId\"，数组元素的某个属性名，不一定叫 uniqueId。 它类似于 React 的 key={item.uniqueId}或 vue 的 track-by={ uniqueId }, 用于优化渲染速度。当数据修改时，数据不改变的 dom 不会被重新渲染，已经改变的数据所在的 dom 才会被重新渲染， 因此我们必须保证 uniqueId 这个属性值在每个数组元素都不一样。</p>\n<h2 id=\"注意事项\" style=\"position:relative;\"><a aria-label=\"注意事项 permalink\" class=\"anchor before\" href=\"#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>注意事项</h2>\n<blockquote>\n<p>for 指令只能循环数组，不能循环对象。当 for 指令与 if 指令共存于一个标签时， if 指令的优先级优于 for 指令。为了方便未看文档的新人快速上手项目，不建议这两个指令共存于同一个标签。自定义变量表示 for 指令的数组索引和数组元素时，变量名不可以用<code class=\"language-text\">$</code>或<code class=\"language-text\">_</code>开头；使用<code class=\"language-text\">tid属性</code>时应注意：</p>\n</blockquote>\n<ul>\n<li><code class=\"language-text\">tid属性</code>指定的数据属性必须存在，否则可能导致运行异常</li>\n<li><code class=\"language-text\">tid属性</code>指定的数据属性要保证唯一，否则可能导致性能问题</li>\n<li><code class=\"language-text\">tid属性</code>目前不支持表达式。</li>\n</ul></body></html></div>", "content_text": "列表渲染\n更新时间：\n2025-06-17 15:55:14\n使用\nfor\n指令可循环渲染数组数据。其语法支持多种形式（\n{{}}\n可省略）：\n基础写法\nfor\n=\n\"{{list}}\"\n复制代码\nlist\n是数组类型数据。\n默认数组元素变量为\n$item\n，索引为\n$idx\n。\n自定义变量名\nfor\n=\n\"{{value in list}}\"\n复制代码\nvalue\n是自定义的数组元素变量名。\n索引仍默认为\n$idx\n。\n自定义索引和元素变量名\nfor\n=\n\"{{(index, value) in list}}\"\n复制代码\nindex\n是索引变量名，\nvalue\n是元素变量名。\n使用常数作为循环次数\n你还可以使用一个常数作为数据源，表示循环执行的次数。等价于遍历从\n0\n到\nn - 1\n的索引。\nfor\n=\n\"{{value in 10}}\"\nfor\n=\n\"{{(index, value) in 5}}\"\n复制代码\n等价于遍历\n[0, 1, 2, ..., n - 1]\n。\n可以搭配\nindex\n和\nvalue\n使用。\ntid 属性\n用于指定每个循环项的唯一 ID，用于 DOM 节点复用和性能优化。若未指定，默认使用\n$idx\n。\n<\ndiv\nfor\n=\n\"\nvalue in list\n\"\ntid\n=\n\"\nuniqueId\n\"\n>\n<\ntext\n>\n{{$idx}}.{{value.name}}\n</\ntext\n>\n</\ndiv\n>\n<\nscript\n>\nexport default {\n    data: {\n      list: [\n        { name: 'aa', uniqueId: 1 },\n        { name: 'bb', uniqueId: 2 },\n        { name: 'cc', uniqueId: 3 },\n      ],\n    },\n    onInit() {\n      console.log('指令for')\n    },\n  }\n</\nscript\n>\n复制代码\n示例\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\ntutorial-page\n\"\n>\n<!-- 方式1：默认$item代表数组中的元素, $idx代表数组中的索引 -->\n<\ndiv\nclass\n=\n\"\ntutorial-row\n\"\nfor\n=\n\"\n{{list}}\n\"\ntid\n=\n\"\nuniqueId\n\"\n>\n<\ntext\n>\n{{$idx}}.{{$item.name}}\n</\ntext\n>\n</\ndiv\n>\n<!-- 方式2：自定义元素变量名称 -->\n<\ndiv\nclass\n=\n\"\ntutorial-row\n\"\nfor\n=\n\"\nvalue in list\n\"\ntid\n=\n\"\nuniqueId\n\"\n>\n<\ntext\n>\n{{$idx}}.{{value.name}}\n</\ntext\n>\n</\ndiv\n>\n<!-- 方式3：自定义元素、索引的变量名称 -->\n<\ndiv\nclass\n=\n\"\ntutorial-row\n\"\nfor\n=\n\"\n(personIndex, personItem) in list\n\"\ntid\n=\n\"\nuniqueId\n\"\n>\n<\ntext\n>\n{{personIndex}}.{{personItem.name}}\n</\ntext\n>\n</\ndiv\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nstyle\nlang\n=\n\"\nless\n\"\n>\n.tutorial-page\n{\nflex-direction\n:\ncolumn\n;\n.tutorial-row\n{\nwidth\n:\n85%\n;\nmargin-top\n:\n10px\n;\nmargin-bottom\n:\n10px\n;\n}\n}\n</\nstyle\n>\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\nlist\n:\n[\n{\nname\n:\n'aa'\n,\nuniqueId\n:\n1\n}\n,\n{\nname\n:\n'bb'\n,\nuniqueId\n:\n2\n}\n,\n{\nname\n:\n'cc'\n,\nuniqueId\n:\n3\n}\n,\n]\n,\n}\n,\nonInit\n(\n)\n{\nconsole\n.\nlog\n(\n'指令for'\n)\n}\n,\n}\n</\nscript\n>\n复制代码\n示例代码中，在渲染页面时，\ndiv.tutorial-row\n的结构，会根据 script 中的数据 list 的定义，被循环的生成多个。tid=\"uniqueId\"，数组元素的某个属性名，不一定叫 uniqueId。 它类似于 React 的 key={item.uniqueId}或 vue 的 track-by={ uniqueId }, 用于优化渲染速度。当数据修改时，数据不改变的 dom 不会被重新渲染，已经改变的数据所在的 dom 才会被重新渲染， 因此我们必须保证 uniqueId 这个属性值在每个数组元素都不一样。\n注意事项\nfor 指令只能循环数组，不能循环对象。当 for 指令与 if 指令共存于一个标签时， if 指令的优先级优于 for 指令。为了方便未看文档的新人快速上手项目，不建议这两个指令共存于同一个标签。自定义变量表示 for 指令的数组索引和数组元素时，变量名不可以用\n$\n或\n_\n开头；使用\ntid属性\n时应注意：\ntid属性\n指定的数据属性必须存在，否则可能导致运行异常\ntid属性\n指定的数据属性要保证唯一，否则可能导致性能问题\ntid属性\n目前不支持表达式。", "code_examples": [{"code": "for=\"{{list}}\"", "language": "bash", "index": 0}, {"code": "for=\"{{value in list}}\"", "language": "bash", "index": 1}, {"code": "for=\"{{(index, value) in list}}\"", "language": "bash", "index": 2}, {"code": "for=\"{{value in 10}}\"\nfor=\"{{(index, value) in 5}}\"", "language": "bash", "index": 3}, {"code": "<div for=\"value in list\" tid=\"uniqueId\">\n  <text>{{$idx}}.{{value.name}}</text>\n</div>\n<script>\n  export default {\n    data: {\n      list: [\n        { name: 'aa', uniqueId: 1 },\n        { name: 'bb', uniqueId: 2 },\n        { name: 'cc', uniqueId: 3 },\n      ],\n    },\n    onInit() {\n      console.log('指令for')\n    },\n  }\n</script>", "language": "xml", "index": 4}, {"code": "<template>\n  <div class=\"tutorial-page\">\n    <!-- 方式1：默认$item代表数组中的元素, $idx代表数组中的索引 -->\n    <div class=\"tutorial-row\" for=\"{{list}}\" tid=\"uniqueId\">\n      <text>{{$idx}}.{{$item.name}}</text>\n    </div>\n    <!-- 方式2：自定义元素变量名称 -->\n    <div class=\"tutorial-row\" for=\"value in list\" tid=\"uniqueId\">\n      <text>{{$idx}}.{{value.name}}</text>\n    </div>\n    <!-- 方式3：自定义元素、索引的变量名称 -->\n    <div class=\"tutorial-row\" for=\"(personIndex, personItem) in list\" tid=\"uniqueId\">\n      <text>{{personIndex}}.{{personItem.name}}</text>\n    </div>\n  </div>\n</template>\n\n<style lang=\"less\">\n  .tutorial-page {\n    flex-direction: column;\n    .tutorial-row {\n      width: 85%;\n      margin-top: 10px;\n      margin-bottom: 10px;\n    }\n  }\n</style>\n\n<script>\n  export default {\n    data: {\n      list: [\n        { name: 'aa', uniqueId: 1 },\n        { name: 'bb', uniqueId: 2 },\n        { name: 'cc', uniqueId: 3 },\n      ],\n    },\n    onInit() {\n      console.log('指令for')\n    },\n  }\n</script>", "language": "html", "index": 5}], "frontmatter": {"title": "列表渲染"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/app-service/if-show/", "category": "tutorial", "crawl_time": "2025-11-24T02:22:17.735557", "status": "success", "title": "条件渲染", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"条件渲染\" style=\"position:relative;\"><a aria-label=\"条件渲染 permalink\" class=\"anchor before\" href=\"#%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>条件渲染</h1><p class=\"update-time\">更新时间：<time datetime=\"2023-10-31 15:05:28\">2023-10-31 15:05:28</time></p>\n<blockquote>\n<p>条件渲染有 2 种：if/elif/else 和 show。它们的区别在于：if 为 false 时，组件会从 DOM 中移除，而 show 仅仅是渲染时不可见，组件依然存在于 DOM 中;</p>\n</blockquote>\n<h2 id=\"if-指令\" style=\"position:relative;\"><a aria-label=\"if 指令 permalink\" class=\"anchor before\" href=\"#if-%E6%8C%87%E4%BB%A4\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>if 指令</h2>\n<p>if 条件渲染，是指 if/elif/else 这 3 个相关指令，用于控制是否增加或者删除组件；</p>\n<p>if/elif/else 节点必须是相邻的兄弟节点</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn0\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{display}}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Hello-1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">elif</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{display}}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Hello-2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">else</span><span class=\"token punctuation\">&gt;</span></span>Hello-3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<h2 id=\"show-指令\" style=\"position:relative;\"><a aria-label=\"show 指令 permalink\" class=\"anchor before\" href=\"#show-%E6%8C%87%E4%BB%A4\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>show 指令</h2>\n<p>show 指令，是指是否显示组件，用于控制组件的显示状态，并不会从 DOM 结构中删除;</p>\n<p>show 等同于 visible=none, 主要用于在原生组件上声明；</p>\n<p>show 指令开始支持在自定义组件上进行声明，当这样使用时，等同于在该自定义子组件的根节点上使用 show 指令；</p>\n<p>对于之前版本，自定义组件不支持 show 指令的需求，可以通过 props 传入参数，在自己内部使用 show 来控制是否可见；</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn1\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">show</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{visible}}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Hello<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">visible</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<h2 id=\"if-与-show-区别\" style=\"position:relative;\"><a aria-label=\"if 与 show 区别 permalink\" class=\"anchor before\" href=\"#if-%E4%B8%8E-show-%E5%8C%BA%E5%88%AB\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>if 与 show 区别</h2>\n<ul>\n<li>\n<p>当 if/elif 指令的值为 false 时，节点会从页面中移除，当 if/elif 指令值为 true，组件会动态插入节点中；</p>\n</li>\n<li>\n<p>当 show 指令的值为 true 时，节点可见， 当其值为 false 时，组件不可见，但节点仍会保留在页面 DOM 结构中</p>\n</li>\n</ul></body></html></div>", "content_text": "条件渲染\n更新时间：\n2023-10-31 15:05:28\n条件渲染有 2 种：if/elif/else 和 show。它们的区别在于：if 为 false 时，组件会从 DOM 中移除，而 show 仅仅是渲染时不可见，组件依然存在于 DOM 中;\nif 指令\nif 条件渲染，是指 if/elif/else 这 3 个相关指令，用于控制是否增加或者删除组件；\nif/elif/else 节点必须是相邻的兄弟节点\n<\ntemplate\n>\n<\ndiv\n>\n<\ntext\nif\n=\n\"\n{{display}}\n\"\n>\nHello-1\n</\ntext\n>\n<\ntext\nelif\n=\n\"\n{{display}}\n\"\n>\nHello-2\n</\ntext\n>\n<\ntext\nelse\n>\nHello-3\n</\ntext\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\ndisplay\n:\nfalse\n,\n}\n,\n}\n</\nscript\n>\n复制代码\nshow 指令\nshow 指令，是指是否显示组件，用于控制组件的显示状态，并不会从 DOM 结构中删除;\nshow 等同于 visible=none, 主要用于在原生组件上声明；\nshow 指令开始支持在自定义组件上进行声明，当这样使用时，等同于在该自定义子组件的根节点上使用 show 指令；\n对于之前版本，自定义组件不支持 show 指令的需求，可以通过 props 传入参数，在自己内部使用 show 来控制是否可见；\n<\ntemplate\n>\n<\ntext\nshow\n=\n\"\n{{visible}}\n\"\n>\nHello\n</\ntext\n>\n</\ntemplate\n>\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\nvisible\n:\nfalse\n,\n}\n,\n}\n</\nscript\n>\n复制代码\nif 与 show 区别\n当 if/elif 指令的值为 false 时，节点会从页面中移除，当 if/elif 指令值为 true，组件会动态插入节点中；\n当 show 指令的值为 true 时，节点可见， 当其值为 false 时，组件不可见，但节点仍会保留在页面 DOM 结构中", "code_examples": [{"code": "<template>\n  <div>\n    <text if=\"{{display}}\">Hello-1</text>\n    <text elif=\"{{display}}\">Hello-2</text>\n    <text else>Hello-3</text>\n  </div>\n</template>\n\n<script>\n  export default {\n    data: {\n      display: false,\n    },\n  }\n</script>", "language": "html", "index": 0}, {"code": "<template>\n  <text show=\"{{visible}}\">Hello</text>\n</template>\n\n<script>\n  export default {\n    data: {\n      visible: false,\n    },\n  }\n</script>", "language": "html", "index": 1}], "frontmatter": {"title": "条件渲染"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/app-service/page-style-and-layout/", "category": "tutorial", "crawl_time": "2025-11-24T02:22:19.557102", "status": "success", "title": "页面布局", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"页面布局\" style=\"position:relative;\"><a aria-label=\"页面布局 permalink\" class=\"anchor before\" href=\"#%E9%A1%B5%E9%9D%A2%E5%B8%83%E5%B1%80\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>页面布局</h1><p class=\"update-time\">更新时间：<time datetime=\"2024-01-10 16:04:30\">2024-01-10 16:04:30</time></p>\n<p>蓝河应用使用的是 Flex 布局方式。</p>\n<h2 id=\"盒模型a-id盒模型a\" style=\"position:relative;\"><a aria-label=\"盒模型a id盒模型a permalink\" class=\"anchor before\" href=\"#%E7%9B%92%E6%A8%A1%E5%9E%8Ba-id%E7%9B%92%E6%A8%A1%E5%9E%8Ba\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>盒模型<a id=\"盒模型\"></a></h2>\n<p>蓝河应用布局框架使用 border-box 模型，具体表现与宽高边距计算可参考 MDN 文档 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/box-sizing\" target=\"_blank\">box-sizing</a>， 暂不支持 content-box 模型与手动指定 box-sizing 属性。</p>\n<!-- ![](./img/border-box.png) -->\n<p>布局所占宽度 Width：</p>\n<p><code class=\"language-text\">Width = width(包含padding-left + padding-right + border-left + border-right)</code></p>\n<p>布局所占高度 Height:</p>\n<p><code class=\"language-text\">Height = height(包含padding-top + padding-bottom + border-top + border-bottom)</code></p>\n<h2 id=\"长度单位a-id长度单位a\" style=\"position:relative;\"><a aria-label=\"长度单位a id长度单位a permalink\" class=\"anchor before\" href=\"#%E9%95%BF%E5%BA%A6%E5%8D%95%E4%BD%8Da-id%E9%95%BF%E5%BA%A6%E5%8D%95%E4%BD%8Da\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>长度单位<a id=\"长度单位\"></a></h2>\n<h3 id=\"px\" style=\"position:relative;\"><a aria-label=\"px permalink\" class=\"anchor before\" href=\"#px\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>px</h3>\n<p>与传统 web 页面不同，<code class=\"language-text\">px</code>是相对于<code class=\"language-text\">项目配置基准宽度</code>的单位，已经适配了移动端屏幕，其原理类似于<code class=\"language-text\">rem</code></p>\n<p>开发者只需按照设计稿确定框架样式中的 px 值即可。</p>\n<p>首先，我们需要定义<code class=\"language-text\">项目配置基准宽度</code>，它是项目的配置文件（<code class=\"language-text\">&lt;ProjectName&gt;/src/manifest.json</code>）中<code class=\"language-text\">config.designWidth</code>的值</p>\n<p>然后， <code class=\"language-text\">设计稿1px</code>与<code class=\"language-text\">框架样式1px</code>转换公式如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><div id=\"copyBtn0\"><pre class=\"language-text\"><code class=\"language-text\">设计稿1px / 设计稿基准宽度 = 框架样式1px / 项目配置基准宽度</code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<p><strong>示例如下：</strong></p>\n<p>若设计稿宽度为 640px，元素 A 在设计稿上的宽度为 100px，实现的两种方案如下：</p>\n<p><strong>方案一：</strong></p>\n<p>修改<code class=\"language-text\">项目配置基准宽度</code>：将<code class=\"language-text\">项目配置基准宽度</code>设置为<code class=\"language-text\">设计稿基准宽度</code>，则<code class=\"language-text\">框架样式1px</code>等于<code class=\"language-text\">设计稿1px</code></p>\n<ul>\n<li>设置<code class=\"language-text\">项目配置基准宽度</code>，在项目的配置文件（<code class=\"language-text\">&lt;ProjectName&gt;/src/manifest.json</code>）中，修改<code class=\"language-text\">config.designWidth</code>：</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn1\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"config\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"designWidth\"</span><span class=\"token operator\">:</span> <span class=\"token number\">640</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<ul>\n<li>设置元素 A 对应的框架样式：</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"css\"><div id=\"copyBtn2\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100px<span class=\"token punctuation\">;</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn2\">复制代码</div></div>\n<p><strong>方案二：</strong></p>\n<p>不修改<code class=\"language-text\">项目配置基准宽度</code>：若当前项目配置的<code class=\"language-text\">项目配置基准宽度</code>为 466，设元素 A 的框架样式 x<code class=\"language-text\">px</code>，由转换公式得：<code class=\"language-text\">100 / 640 = x / 466</code></p>\n<ul>\n<li>设置元素 A 对应的框架样式：</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"css\"><div id=\"copyBtn3\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 73px<span class=\"token punctuation\">;</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn3\">复制代码</div></div>\n<h2 id=\"设置定位a-id设置定位a\" style=\"position:relative;\"><a aria-label=\"设置定位a id设置定位a permalink\" class=\"anchor before\" href=\"#%E8%AE%BE%E7%BD%AE%E5%AE%9A%E4%BD%8Da-id%E8%AE%BE%E7%BD%AE%E5%AE%9A%E4%BD%8Da\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>设置定位<a id=\"设置定位\"></a></h2>\n<p>position 将支持三种属性值：relative、absolute 和 fixed，并且默认值为 relative，入门可以参考<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/position\" target=\"_blank\">MDN 文档</a></p>\n<h2 id=\"设置样式a-id设置样式a\" style=\"position:relative;\"><a aria-label=\"设置样式a id设置样式a permalink\" class=\"anchor before\" href=\"#%E8%AE%BE%E7%BD%AE%E6%A0%B7%E5%BC%8Fa-id%E8%AE%BE%E7%BD%AE%E6%A0%B7%E5%BC%8Fa\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>设置样式<a id=\"设置样式\"></a></h2>\n<p>开发者可以使用<code class=\"language-text\">内联样式</code>、<code class=\"language-text\">tag选择器</code>、<code class=\"language-text\">class选择器</code>、<code class=\"language-text\">id选择器</code>来为组件设置样式</p>\n<p>同时也可以使用<code class=\"language-text\">并列选择</code>、<code class=\"language-text\">后代选择器</code>设置样式</p>\n<p>详细的文档可以查看<a href=\"/component/common/common-styles\">此处</a></p>\n<p><strong>注意:</strong> template 的样式读取范围，只包括内联样式与当前 ux 文件的<code class=\"language-text\">&lt;style&gt;</code>标签内的样式与引入的 css/less/scss，如果一个 ux 文件被包装成自定义组件并被其他父组件引用，其样式并不能响应父组件的样式。</p>\n<p><strong>示例如下：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn4\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tutorial-page<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #FF0000<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>内联样式<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>ID选择器<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>class选择器<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>tag选择器<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token selector\">.tutorial-page</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">flex-direction</span><span class=\"token punctuation\">:</span> column<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">/* tag选择器 */</span>\n  <span class=\"token selector\">text</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #0000ff<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">/* class选择器（推荐） */</span>\n  <span class=\"token selector\">.title</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #00ff00<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">/* ID选择器 */</span>\n  <span class=\"token selector\">#title</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #00a000<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">/* 并列选择 */</span>\n  <span class=\"token selector\">.title,\n  #title</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> bold<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">/* 后代选择器 */</span>\n  <span class=\"token selector\">.tutorial-page text</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 42px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">/* 直接后代选择器 */</span>\n  <span class=\"token selector\">.tutorial-page &gt; text</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> underline<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn4\">复制代码</div></div>\n<h2 id=\"通用样式a-id通用样式a\" style=\"position:relative;\"><a aria-label=\"通用样式a id通用样式a permalink\" class=\"anchor before\" href=\"#%E9%80%9A%E7%94%A8%E6%A0%B7%E5%BC%8Fa-id%E9%80%9A%E7%94%A8%E6%A0%B7%E5%BC%8Fa\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>通用样式<a id=\"通用样式\"></a></h2>\n<p>通用样式如 margin,padding 等属性可以点击<a href=\"/component/common/common-styles\">此处</a></p>\n<h2 id=\"flex-布局示例a-idflex布局示例a\" style=\"position:relative;\"><a aria-label=\"flex 布局示例a idflex布局示例a permalink\" class=\"anchor before\" href=\"#flex-%E5%B8%83%E5%B1%80%E7%A4%BA%E4%BE%8Ba-idflex%E5%B8%83%E5%B1%80%E7%A4%BA%E4%BE%8Ba\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>Flex 布局示例<a id=\"Flex布局示例\"></a></h2>\n<p>框架使用<code class=\"language-text\">Flex布局</code>，关于<code class=\"language-text\">Flex布局</code>可以参考外部文档<a href=\"https://css-tricks.com/snippets/css/a-guide-to-flexbox/\" target=\"_blank\">A Complete Guide to Flexbox</a></p>\n<p>flex 布局的支持也可以在官网文档的<a href=\"/component/common/common-styles\">通用样式</a>查询</p>\n<p>div 组件为最常用的 Flex 容器组件，具有 Flex 布局的特性；text、a、span、label 组件为文本容器组件，<strong>其它组件不能直接放置文本内容</strong></p>\n<p><strong>示例如下：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn5\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tutorial-page<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>item1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>item2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token selector\">.tutorial-page</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/* 交叉轴居中 */</span>\n    <span class=\"token property\">align-items</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">/* 纵向排列 */</span>\n    <span class=\"token property\">flex-direction</span><span class=\"token punctuation\">:</span> column<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">.tutorial-page &gt; .item</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/* 有剩余空间时，允许被拉伸 */</span>\n    <span class=\"token comment\">/*flex-grow: 1;*/</span>\n    <span class=\"token comment\">/* 空间不够用时，不允许被压缩 */</span>\n    <span class=\"token property\">flex-shrink</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">/* 主轴居中 */</span>\n    <span class=\"token property\">justify-content</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 200px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #ff0000<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn5\">复制代码</div></div>\n<!-- ## 使用 postcss 解析 css<a id=\"使用postcss解析css\"></a>\n\nvivo手表应用支持 postcss 来解析 css，看 postcss 的官方文档都知道，postcss 可以采用类似 less，sass 的语法来解析 css 了，比如支持变量，嵌套，定义函数等功能了。\n\n使用 postcss 解析 css 分为 3 个步骤：\n\n1.安装对应的 loader\n\n> npm i postcss-loader precss@3.1.2 -D\n\n2.在项目的根目录新建一个 postcss.config.js，增加如下内容：\n\n```js\nmodule.exports = {\n  plugins: [require('precss')]\n}\n```\n\n其中 precss 为 postcss 的插件。\n\n3.在页面对应的 style 标签上增加 lang=\"postcss\"，如下\n\n```html\n<style lang=\"postcss\">\n\n  /* 使用postcss */\n  .tutorial-page {\n    justify-content: center;\n    background-color: #00beaf;\n    #title {\n      color: #FF0000;\n    }\n  }\n</style>\n```\n\n这样你就可以在 css 里面书写对应的代码了。\n\n说明：\n\n如果你想支持更多的语法格式，可以在 postcss.config.js 文件里面添加更多的插件，关于 postcss 的插件见[插件地址](https://github.com/postcss/postcss/blob/master/docs/plugins.md)。 --></body></html></div>", "content_text": "页面布局\n更新时间：\n2024-01-10 16:04:30\n蓝河应用使用的是 Flex 布局方式。\n盒模型\n蓝河应用布局框架使用 border-box 模型，具体表现与宽高边距计算可参考 MDN 文档\nbox-sizing\n， 暂不支持 content-box 模型与手动指定 box-sizing 属性。\n布局所占宽度 Width：\nWidth = width(包含padding-left + padding-right + border-left + border-right)\n布局所占高度 Height:\nHeight = height(包含padding-top + padding-bottom + border-top + border-bottom)\n长度单位\npx\n与传统 web 页面不同，\npx\n是相对于\n项目配置基准宽度\n的单位，已经适配了移动端屏幕，其原理类似于\nrem\n开发者只需按照设计稿确定框架样式中的 px 值即可。\n首先，我们需要定义\n项目配置基准宽度\n，它是项目的配置文件（\n<ProjectName>/src/manifest.json\n）中\nconfig.designWidth\n的值\n然后，\n设计稿1px\n与\n框架样式1px\n转换公式如下：\n设计稿1px / 设计稿基准宽度 = 框架样式1px / 项目配置基准宽度\n复制代码\n示例如下：\n若设计稿宽度为 640px，元素 A 在设计稿上的宽度为 100px，实现的两种方案如下：\n方案一：\n修改\n项目配置基准宽度\n：将\n项目配置基准宽度\n设置为\n设计稿基准宽度\n，则\n框架样式1px\n等于\n设计稿1px\n设置\n项目配置基准宽度\n，在项目的配置文件（\n<ProjectName>/src/manifest.json\n）中，修改\nconfig.designWidth\n：\n{\n\"config\"\n:\n{\n\"designWidth\"\n:\n640\n}\n}\n复制代码\n设置元素 A 对应的框架样式：\nwidth\n:\n100px\n;\n复制代码\n方案二：\n不修改\n项目配置基准宽度\n：若当前项目配置的\n项目配置基准宽度\n为 466，设元素 A 的框架样式 x\npx\n，由转换公式得：\n100 / 640 = x / 466\n设置元素 A 对应的框架样式：\nwidth\n:\n73px\n;\n复制代码\n设置定位\nposition 将支持三种属性值：relative、absolute 和 fixed，并且默认值为 relative，入门可以参考\nMDN 文档\n设置样式\n开发者可以使用\n内联样式\n、\ntag选择器\n、\nclass选择器\n、\nid选择器\n来为组件设置样式\n同时也可以使用\n并列选择\n、\n后代选择器\n设置样式\n详细的文档可以查看\n此处\n注意:\ntemplate 的样式读取范围，只包括内联样式与当前 ux 文件的\n<style>\n标签内的样式与引入的 css/less/scss，如果一个 ux 文件被包装成自定义组件并被其他父组件引用，其样式并不能响应父组件的样式。\n示例如下：\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\ntutorial-page\n\"\n>\n<\ntext\nstyle\n=\n\"\ncolor\n:\n#FF0000\n;\n\"\n>\n内联样式\n</\ntext\n>\n<\ntext\nid\n=\n\"\ntitle\n\"\n>\nID选择器\n</\ntext\n>\n<\ntext\nclass\n=\n\"\ntitle\n\"\n>\nclass选择器\n</\ntext\n>\n<\ntext\n>\ntag选择器\n</\ntext\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nstyle\n>\n.tutorial-page\n{\nflex-direction\n:\ncolumn\n;\n}\n/* tag选择器 */\ntext\n{\ncolor\n:\n#0000ff\n;\n}\n/* class选择器（推荐） */\n.title\n{\ncolor\n:\n#00ff00\n;\n}\n/* ID选择器 */\n#title\n{\ncolor\n:\n#00a000\n;\n}\n/* 并列选择 */\n.title,\n  #title\n{\nfont-weight\n:\nbold\n;\n}\n/* 后代选择器 */\n.tutorial-page text\n{\nfont-size\n:\n42px\n;\n}\n/* 直接后代选择器 */\n.tutorial-page > text\n{\ntext-decoration\n:\nunderline\n;\n}\n</\nstyle\n>\n复制代码\n通用样式\n通用样式如 margin,padding 等属性可以点击\n此处\nFlex 布局示例\n框架使用\nFlex布局\n，关于\nFlex布局\n可以参考外部文档\nA Complete Guide to Flexbox\nflex 布局的支持也可以在官网文档的\n通用样式\n查询\ndiv 组件为最常用的 Flex 容器组件，具有 Flex 布局的特性；text、a、span、label 组件为文本容器组件，\n其它组件不能直接放置文本内容\n示例如下：\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\ntutorial-page\n\"\n>\n<\ndiv\nclass\n=\n\"\nitem\n\"\n>\n<\ntext\n>\nitem1\n</\ntext\n>\n</\ndiv\n>\n<\ndiv\nclass\n=\n\"\nitem\n\"\n>\n<\ntext\n>\nitem2\n</\ntext\n>\n</\ndiv\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nstyle\n>\n.tutorial-page\n{\n/* 交叉轴居中 */\nalign-items\n:\ncenter\n;\n/* 纵向排列 */\nflex-direction\n:\ncolumn\n;\n}\n.tutorial-page > .item\n{\n/* 有剩余空间时，允许被拉伸 */\n/*flex-grow: 1;*/\n/* 空间不够用时，不允许被压缩 */\nflex-shrink\n:\n0\n;\n/* 主轴居中 */\njustify-content\n:\ncenter\n;\nwidth\n:\n200px\n;\nheight\n:\n100px\n;\nmargin\n:\n10px\n;\nbackground-color\n:\n#ff0000\n;\n}\n</\nstyle\n>\n复制代码", "code_examples": [{"code": "设计稿1px / 设计稿基准宽度 = 框架样式1px / 项目配置基准宽度", "language": "text", "index": 0}, {"code": "{\n  \"config\": {\n    \"designWidth\": 640\n  }\n}", "language": "json", "index": 1}, {"code": "width: 100px;", "language": "css", "index": 2}, {"code": "width: 73px;", "language": "css", "index": 3}, {"code": "<template>\n  <div class=\"tutorial-page\">\n    <text style=\"color: #FF0000;\">内联样式</text>\n    <text id=\"title\">ID选择器</text>\n    <text class=\"title\">class选择器</text>\n    <text>tag选择器</text>\n  </div>\n</template>\n\n<style>\n  .tutorial-page {\n    flex-direction: column;\n  }\n  /* tag选择器 */\n  text {\n    color: #0000ff;\n  }\n  /* class选择器（推荐） */\n  .title {\n    color: #00ff00;\n  }\n  /* ID选择器 */\n  #title {\n    color: #00a000;\n  }\n  /* 并列选择 */\n  .title,\n  #title {\n    font-weight: bold;\n  }\n  /* 后代选择器 */\n  .tutorial-page text {\n    font-size: 42px;\n  }\n  /* 直接后代选择器 */\n  .tutorial-page > text {\n    text-decoration: underline;\n  }\n</style>", "language": "html", "index": 4}, {"code": "<template>\n  <div class=\"tutorial-page\">\n    <div class=\"item\">\n      <text>item1</text>\n    </div>\n    <div class=\"item\">\n      <text>item2</text>\n    </div>\n  </div>\n</template>\n\n<style>\n  .tutorial-page {\n    /* 交叉轴居中 */\n    align-items: center;\n    /* 纵向排列 */\n    flex-direction: column;\n  }\n  .tutorial-page > .item {\n    /* 有剩余空间时，允许被拉伸 */\n    /*flex-grow: 1;*/\n    /* 空间不够用时，不允许被压缩 */\n    flex-shrink: 0;\n    /* 主轴居中 */\n    justify-content: center;\n    width: 200px;\n    height: 100px;\n    margin: 10px;\n    background-color: #ff0000;\n  }\n</style>", "language": "html", "index": 5}], "frontmatter": {"title": "页面布局"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/app-service/parent-child-component-communication/", "category": "tutorial", "crawl_time": "2025-11-24T02:22:21.585366", "status": "success", "title": "自定义组件", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"自定义组件\" style=\"position:relative;\"><a aria-label=\"自定义组件 permalink\" class=\"anchor before\" href=\"#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>自定义组件</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-06-23 10:14:39\">2025-06-23 10:14:39</time></p>\n<blockquote>\n<p>熟悉自定义组件的开发，了解父子组件之间的通信方式，如：props，data。</p>\n</blockquote>\n<h2 id=\"组件自定义\" style=\"position:relative;\"><a aria-label=\"组件自定义 permalink\" class=\"anchor before\" href=\"#%E7%BB%84%E4%BB%B6%E8%87%AA%E5%AE%9A%E4%B9%89\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>组件自定义</h2>\n<p>开发页面时开发者必须用到各种 UI 组件，如：<code class=\"language-text\">text</code>、<code class=\"language-text\">div</code>，这些组件是由蓝河系统提供的；如果开发一个复杂的页面，开发者把所有的 UI 部分写在一个文件的<code class=\"language-text\">&lt;template&gt;</code>，那代码的可维护性将会很低，并且模块之间容易产生不必要的耦合关系。</p>\n<p>为了更好的组织逻辑与代码，可以把页面按照功能拆成多个模块，每个模块负责其中的一个功能部分，最后页面将这些模块引入管理起来，传递业务与配置数据完成代码分离，那么这就是<code class=\"language-text\">自定义组件</code>的意义。</p>\n<p>自定义组件是开发者使用 <code class=\"language-text\">.ux</code> 文件编写的 UI 组件，可以对数据、事件、方法进行个性化管理。</p>\n<p><strong>示例如下：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn0\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tutorial-page<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tutorial-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>自定义组件:<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{ say }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{ obj.name }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>less<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token selector\">.tutorial-page</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">flex-direction</span><span class=\"token punctuation\">:</span> column<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">padding-top</span><span class=\"token punctuation\">:</span> 20px<span class=\"token punctuation\">;</span>\n\n    <span class=\"token selector\">.tutorial-title</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> bold<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token comment\">// 子组件</span>\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">say</span><span class=\"token operator\">:</span> <span class=\"token string\">'hello'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">obj</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'蓝河应用'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">/*\n      data（）{\n      return {\n          say:'hello',\n          obj:{\n            name:'vivo手表应用'\n          }\n      }\n      },\n    */</span>\n    <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'我是子组件'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<p>自定义组件中数据模型只能使用<strong>data 属性</strong>，data 类型可以是 Object 或 Function。如果是函数，返回结果必须是对象。</p>\n<h2 id=\"组件使用\" style=\"position:relative;\"><a aria-label=\"组件使用 permalink\" class=\"anchor before\" href=\"#%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>组件使用</h2>\n<h3 id=\"组件引入\" style=\"position:relative;\"><a aria-label=\"组件引入 permalink\" class=\"anchor before\" href=\"#%E7%BB%84%E4%BB%B6%E5%BC%95%E5%85%A5\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>组件引入</h3>\n<p>蓝河应用中是通过<code class=\"language-text\">&lt;import&gt;标签</code>引入组件,如下面代码所示</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn1\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>import</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>XXX<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>XXX<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>import</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<p><code class=\"language-text\">&lt;import&gt;标签</code>中的的<code class=\"language-text\">src</code>属性指定自定义组件的地址，<code class=\"language-text\">name</code>属性指定在父组件中引用该组件时使用的<strong>标签名称</strong></p>\n<p><strong>示例如下：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn2\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>import</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>comp-part1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>./part1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>import</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tutorial-page<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tutorial-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>引入组件：<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>comp-part1</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>comp-part1</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>less<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token selector\">.tutorial-page</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">flex-direction</span><span class=\"token punctuation\">:</span> column<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 20px 10px<span class=\"token punctuation\">;</span>\n\n    <span class=\"token selector\">.tutorial-title</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> bold<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token comment\">// 父组件</span>\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'引入组件'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn2\">复制代码</div></div>\n<!-- ### 将行内样式绑定到组件\n\n如你只想简单调整组件样式，你只需要直接在组件上使用行内样式。\n\n```html\n<import name=\"my-button\" src=\"./button\"></import>\n\n<template>\n  <my-button style=\"margin-bottom: 10px;\"></my-button>\n</template>\n``` -->\n<h2 id=\"自定义组件的生命周期\" style=\"position:relative;\"><a aria-label=\"自定义组件的生命周期 permalink\" class=\"anchor before\" href=\"#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>自定义组件的生命周期</h2>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>参数</th>\n<th>返回值</th>\n<th>描述</th>\n<th>触发时机</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>onInit</td>\n<td>Function</td>\n<td>无</td>\n<td>无</td>\n<td>监听初始化</td>\n<td>当数据驱动化完成时触发</td>\n</tr>\n<tr>\n<td>onReady</td>\n<td>Function</td>\n<td>无</td>\n<td>无</td>\n<td>监听模板创建完成</td>\n<td>当模板创建完成时触发</td>\n</tr>\n<tr>\n<td>onDestroy</td>\n<td>Function</td>\n<td>无</td>\n<td>无</td>\n<td>监听组件销毁</td>\n<td>当销毁时触发</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"父子组件通信\" style=\"position:relative;\"><a aria-label=\"父子组件通信 permalink\" class=\"anchor before\" href=\"#%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>父子组件通信</h2>\n<h3 id=\"父组件通过-prop-向子组件传递数据\" style=\"position:relative;\"><a aria-label=\"父组件通过 prop 向子组件传递数据 permalink\" class=\"anchor before\" href=\"#%E7%88%B6%E7%BB%84%E4%BB%B6%E9%80%9A%E8%BF%87-prop-%E5%90%91%E5%AD%90%E7%BB%84%E4%BB%B6%E4%BC%A0%E9%80%92%E6%95%B0%E6%8D%AE\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>父组件通过 Prop 向子组件传递数据</h3>\n<p>父组件向子组件传递数据，通过在子组件的<code class=\"language-text\">props</code>属性中声明对外暴露的属性名称，然后在<code class=\"language-text\">组件引用标签</code>上声明传递的父组件数据，详见<a href=\"/reference/app-service/props\">Props</a></p>\n<p><strong>示例如下：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn3\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- 子组件 --&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>child-demo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>子组件:<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{ say }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{ propObject.name }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">props</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">say</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">propObject</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">外部传递的数据：</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>say<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>propObject<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn3\">复制代码</div></div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn4\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- 父组件 --&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>import</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>comp<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>./comp<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>import</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>parent-demo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>comp</span> <span class=\"token attr-name\">say</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{say}}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">prop-object</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{obj}}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>comp</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">say</span><span class=\"token operator\">:</span><span class=\"token string\">'hello'</span>\n      <span class=\"token literal-property property\">obj</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span><span class=\"token string\">'child-demo'</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn4\">复制代码</div></div>\n<h3 id=\"子组件对父组件通信\" style=\"position:relative;\"><a aria-label=\"子组件对父组件通信 permalink\" class=\"anchor before\" href=\"#%E5%AD%90%E7%BB%84%E4%BB%B6%E5%AF%B9%E7%88%B6%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>子组件对父组件通信</h3>\n<p>当子组件对数据进行改造后，把最终数据交给父组件甚至往上，往往有以下办法</p>\n<ul>\n<li>父组件传递的数据本身就是对象，子组件<strong>直接修改对象中的属性</strong>，父组件的值也会发生改变，不推荐这种;</li>\n<li>子组件通过<code class=\"language-text\">$emit()</code>触发在 UI 组件上绑定的自定义事件来执行父组件的方法</li>\n</ul>\n<h4 id=\"emit-示例如下\" style=\"position:relative;\"><a aria-label=\"emit 示例如下 permalink\" class=\"anchor before\" href=\"#emit-%E7%A4%BA%E4%BE%8B%E5%A6%82%E4%B8%8B\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>emit 示例如下</h4>\n<p>父组件监听子组件事件</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn5\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>import</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>comp<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>./comp.ux<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>import</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>parent-demo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>我是父组件count:{{count}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>comp</span> <span class=\"token attr-name\">count</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{count}}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">@child-evt</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>emitEvt<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>comp</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">count</span><span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">emitEvt</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">evt</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>count <span class=\"token operator\">=</span> evt<span class=\"token punctuation\">.</span>count\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn5\">复制代码</div></div>\n<p>子组件触发事件</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn6\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>child-demo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>我是子组件一count:{{compCount}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>addHandler<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>add<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>input</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">props</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">count</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span><span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">compCount</span><span class=\"token operator\">:</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>count\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">addHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>compCount <span class=\"token operator\">++</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'childEvt'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">count</span><span class=\"token operator\">:</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>compCount\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn6\">复制代码</div></div></body></html></div>", "content_text": "自定义组件\n更新时间：\n2025-06-23 10:14:39\n熟悉自定义组件的开发，了解父子组件之间的通信方式，如：props，data。\n组件自定义\n开发页面时开发者必须用到各种 UI 组件，如：\ntext\n、\ndiv\n，这些组件是由蓝河系统提供的；如果开发一个复杂的页面，开发者把所有的 UI 部分写在一个文件的\n<template>\n，那代码的可维护性将会很低，并且模块之间容易产生不必要的耦合关系。\n为了更好的组织逻辑与代码，可以把页面按照功能拆成多个模块，每个模块负责其中的一个功能部分，最后页面将这些模块引入管理起来，传递业务与配置数据完成代码分离，那么这就是\n自定义组件\n的意义。\n自定义组件是开发者使用\n.ux\n文件编写的 UI 组件，可以对数据、事件、方法进行个性化管理。\n示例如下：\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\ntutorial-page\n\"\n>\n<\ntext\nclass\n=\n\"\ntutorial-title\n\"\n>\n自定义组件:\n</\ntext\n>\n<\ntext\n>\n{{ say }}\n</\ntext\n>\n<\ntext\n>\n{{ obj.name }}\n</\ntext\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nstyle\nlang\n=\n\"\nless\n\"\n>\n.tutorial-page\n{\nflex-direction\n:\ncolumn\n;\npadding-top\n:\n20px\n;\n.tutorial-title\n{\nfont-weight\n:\nbold\n;\n}\n}\n</\nstyle\n>\n<\nscript\n>\n// 子组件\nexport\ndefault\n{\ndata\n:\n{\nsay\n:\n'hello'\n,\nobj\n:\n{\nname\n:\n'蓝河应用'\n,\n}\n,\n}\n,\n/*\n      data（）{\n      return {\n          say:'hello',\n          obj:{\n            name:'vivo手表应用'\n          }\n      }\n      },\n    */\nonInit\n(\n)\n{\nconsole\n.\nlog\n(\n'我是子组件'\n)\n}\n,\n}\n</\nscript\n>\n复制代码\n自定义组件中数据模型只能使用\ndata 属性\n，data 类型可以是 Object 或 Function。如果是函数，返回结果必须是对象。\n组件使用\n组件引入\n蓝河应用中是通过\n<import>标签\n引入组件,如下面代码所示\n<\nimport\nname\n=\n\"\nXXX\n\"\nsrc\n=\n\"\nXXX\n\"\n>\n</\nimport\n>\n复制代码\n<import>标签\n中的的\nsrc\n属性指定自定义组件的地址，\nname\n属性指定在父组件中引用该组件时使用的\n标签名称\n示例如下：\n<\nimport\nname\n=\n\"\ncomp-part1\n\"\nsrc\n=\n\"\n./part1\n\"\n>\n</\nimport\n>\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\ntutorial-page\n\"\n>\n<\ntext\nclass\n=\n\"\ntutorial-title\n\"\n>\n引入组件：\n</\ntext\n>\n<\ncomp-part1\n>\n</\ncomp-part1\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nstyle\nlang\n=\n\"\nless\n\"\n>\n.tutorial-page\n{\nflex-direction\n:\ncolumn\n;\npadding\n:\n20px 10px\n;\n.tutorial-title\n{\nfont-weight\n:\nbold\n;\n}\n}\n</\nstyle\n>\n<\nscript\n>\n// 父组件\nexport\ndefault\n{\ndata\n:\n{\n}\n,\nonInit\n(\n)\n{\nconsole\n.\nlog\n(\n'引入组件'\n)\n}\n,\n}\n</\nscript\n>\n复制代码\n自定义组件的生命周期\n属性\n类型\n参数\n返回值\n描述\n触发时机\nonInit\nFunction\n无\n无\n监听初始化\n当数据驱动化完成时触发\nonReady\nFunction\n无\n无\n监听模板创建完成\n当模板创建完成时触发\nonDestroy\nFunction\n无\n无\n监听组件销毁\n当销毁时触发\n父子组件通信\n父组件通过 Prop 向子组件传递数据\n父组件向子组件传递数据，通过在子组件的\nprops\n属性中声明对外暴露的属性名称，然后在\n组件引用标签\n上声明传递的父组件数据，详见\nProps\n示例如下：\n<!-- 子组件 -->\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\nchild-demo\n\"\n>\n<\ntext\nclass\n=\n\"\ntitle\n\"\n>\n子组件:\n</\ntext\n>\n<\ntext\n>\n{{ say }}\n</\ntext\n>\n<\ntext\n>\n{{ propObject.name }}\n</\ntext\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nscript\n>\nexport\ndefault\n{\nprops\n:\n{\nsay\n:\n{\n}\n,\npropObject\n:\n{\n}\n}\nonInit\n(\n)\n{\nconsole\n.\ninfo\n(\n`\n外部传递的数据：\n`\n,\nthis\n.\nsay\n,\nthis\n.\npropObject\n)\n}\n,\n}\n</\nscript\n>\n复制代码\n<!-- 父组件 -->\n<\nimport\nname\n=\n\"\ncomp\n\"\nsrc\n=\n\"\n./comp\n\"\n>\n</\nimport\n>\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\nparent-demo\n\"\n>\n<\ncomp\nsay\n=\n\"\n{{say}}\n\"\nprop-object\n=\n\"\n{{obj}}\n\"\n>\n</\ncomp\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\nsay\n:\n'hello'\nobj\n:\n{\nname\n:\n'child-demo'\n}\n}\n}\n</\nscript\n>\n复制代码\n子组件对父组件通信\n当子组件对数据进行改造后，把最终数据交给父组件甚至往上，往往有以下办法\n父组件传递的数据本身就是对象，子组件\n直接修改对象中的属性\n，父组件的值也会发生改变，不推荐这种;\n子组件通过\n$emit()\n触发在 UI 组件上绑定的自定义事件来执行父组件的方法\nemit 示例如下\n父组件监听子组件事件\n<\nimport\nname\n=\n\"\ncomp\n\"\nsrc\n=\n\"\n./comp.ux\n\"\n>\n</\nimport\n>\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\nparent-demo\n\"\n>\n<\ntext\n>\n我是父组件count:{{count}}\n</\ntext\n>\n<\ncomp\ncount\n=\n\"\n{{count}}\n\"\n@child-evt\n=\n\"\nemitEvt\n\"\n>\n</\ncomp\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\ncount\n:\n20\n,\n}\n,\nemitEvt\n(\nevt\n)\n{\nthis\n.\ncount\n=\nevt\n.\ncount\n}\n,\n}\n</\nscript\n>\n复制代码\n子组件触发事件\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\nchild-demo\n\"\n>\n<\ntext\n>\n我是子组件一count:{{compCount}}\n</\ntext\n>\n<\ninput\ntype\n=\n\"\nbutton\n\"\n@click\n=\n'\naddHandler\n'\nvalue\n=\n'\nadd\n'\n>\n</\ninput\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nscript\n>\nexport\ndefault\n{\nprops\n:\n{\ncount\n:\n{\n}\n}\n,\ndata\n(\n)\n{\nreturn\n{\ncompCount\n:\nthis\n.\ncount\n}\n}\n,\naddHandler\n(\n)\n{\nthis\n.\ncompCount\n++\nthis\n.\n$emit\n(\n'childEvt'\n,\n{\ncount\n:\nthis\n.\ncompCount\n}\n)\n}\n,\n}\n</\nscript\n>\n复制代码", "code_examples": [{"code": "<template>\n  <div class=\"tutorial-page\">\n    <text class=\"tutorial-title\">自定义组件:</text>\n    <text>{{ say }}</text>\n    <text>{{ obj.name }}</text>\n  </div>\n</template>\n\n<style lang=\"less\">\n  .tutorial-page {\n    flex-direction: column;\n    padding-top: 20px;\n\n    .tutorial-title {\n      font-weight: bold;\n    }\n  }\n</style>\n\n<script>\n  // 子组件\n  export default {\n    data: {\n      say: 'hello',\n      obj: {\n        name: '蓝河应用',\n      },\n    },\n    /*\n      data（）{\n      return {\n          say:'hello',\n          obj:{\n            name:'vivo手表应用'\n          }\n      }\n      },\n    */\n    onInit() {\n      console.log('我是子组件')\n    },\n  }\n</script>", "language": "html", "index": 0}, {"code": "<import name=\"XXX\" src=\"XXX\"></import>", "language": "html", "index": 1}, {"code": "<import name=\"comp-part1\" src=\"./part1\"></import>\n\n<template>\n  <div class=\"tutorial-page\">\n    <text class=\"tutorial-title\">引入组件：</text>\n    <comp-part1></comp-part1>\n  </div>\n</template>\n\n<style lang=\"less\">\n  .tutorial-page {\n    flex-direction: column;\n    padding: 20px 10px;\n\n    .tutorial-title {\n      font-weight: bold;\n    }\n  }\n</style>\n\n<script>\n  // 父组件\n  export default {\n    data: {},\n    onInit() {\n      console.log('引入组件')\n    },\n  }\n</script>", "language": "html", "index": 2}, {"code": "<!-- 子组件 -->\n<template>\n  <div class=\"child-demo\">\n    <text class=\"title\">子组件:</text>\n    <text>{{ say }}</text>\n    <text>{{ propObject.name }}</text>\n  </div>\n</template>\n<script>\n  export default {\n    props: {\n      say:{},\n      propObject:{}\n    }\n\n    onInit() {\n      console.info(`外部传递的数据：`, this.say, this.propObject)\n    },\n  }\n</script>", "language": "html", "index": 3}, {"code": "<!-- 父组件 -->\n<import name=\"comp\" src=\"./comp\"></import>\n<template>\n  <div class=\"parent-demo\">\n    <comp say=\"{{say}}\" prop-object=\"{{obj}}\"></comp>\n  </div>\n</template>\n<script>\n  export default {\n    data: {\n      say:'hello'\n      obj:{\n        name:'child-demo'\n      }\n    }\n  }\n</script>", "language": "html", "index": 4}, {"code": "<import name=\"comp\" src=\"./comp.ux\"></import>\n<template>\n  <div class=\"parent-demo\">\n    <text>我是父组件count:{{count}}</text>\n    <comp count=\"{{count}}\" @child-evt=\"emitEvt\"></comp>\n  </div>\n</template>\n\n<script>\n  export default {\n    data: {\n      count: 20,\n    },\n    emitEvt(evt) {\n      this.count = evt.count\n    },\n  }\n</script>", "language": "html", "index": 5}, {"code": "<template>\n  <div class=\"child-demo\">\n    <text>我是子组件一count:{{compCount}}</text>\n    <input type=\"button\" @click='addHandler' value='add'></input>\n  </div>\n</template>\n<script>\n  export default {\n    props: {\n      count:{}\n    },\n    data(){\n        return{\n            compCount:this.count\n        }\n    },\n    addHandler(){\n        this.compCount ++\n        this.$emit('childEvt',{\n            count:this.compCount\n        })\n    },\n  }\n</script>", "language": "html", "index": 6}], "frontmatter": {"title": "自定义组件"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/app-service/props/", "category": "tutorial", "crawl_time": "2025-11-24T02:22:22.856717", "status": "success", "title": "props", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"props\" style=\"position:relative;\"><a aria-label=\"props permalink\" class=\"anchor before\" href=\"#props\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>props</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-07-10 10:44:44\">2025-07-10 10:44:44</time></p>\n<h2 id=\"prop-写法\" style=\"position:relative;\"><a aria-label=\"prop 写法 permalink\" class=\"anchor before\" href=\"#prop-%E5%86%99%E6%B3%95\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>Prop 写法</h2>\n<p>Prop 属性名称使用 camelCase(驼峰命名法)命名法，在外部传递数据时请转化为以 kebab-case (短横线分隔命名) propObject 转换为 prop-object。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn0\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- 子组件 --&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>child-demo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{ propObject.name }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">props</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">propObject</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn1\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- 父组件 --&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>import</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>comp<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>./comp<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>import</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>parent-demo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>comp</span> <span class=\"token attr-name\">prop-object</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{obj}}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>comp</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">obj</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'child-demo'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<h2 id=\"属性默认值\" style=\"position:relative;\"><a aria-label=\"属性默认值 permalink\" class=\"anchor before\" href=\"#%E5%B1%9E%E6%80%A7%E9%BB%98%E8%AE%A4%E5%80%BC\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>属性默认值</h2>\n<p>子组件声明属性时，可以设置默认值。当调用子组件没有传入该数据时，将会自动设为默认值。</p>\n<p>如果需要设置默认值，<code class=\"language-text\">props</code> 属性的写法必须要要写成 Object 形式，<strong>不能</strong>写成 Array 形式。</p>\n<p><strong>示例如下：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn2\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token comment\">// 子组件</span>\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">props</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">prop1</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token string\">'Hello'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//默认值</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">prop2Object</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//不设置默认值</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">外部传递的数据：</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>prop1<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>prop2Object<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn2\">复制代码</div></div>\n<h2 id=\"数据单向性\" style=\"position:relative;\"><a aria-label=\"数据单向性 permalink\" class=\"anchor before\" href=\"#%E6%95%B0%E6%8D%AE%E5%8D%95%E5%90%91%E6%80%A7\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>数据单向性</h2>\n<p>父子间的数据传输是单向性的，父组件 prop 数据更新，子组件的数据会刷新为最新值;子组件的 prop 值发生改变，并不会改变父组件中值。</p>\n<p>但是<strong>prop 类型事数组或者对象，自组件变化会影响到父组件的值</strong>，这意味着你不应该在一个子组件内部改变 prop 的值，这是危险性操作。</p>\n<p>常见的三种操作 prop 值的方法：</p>\n<p><strong>1.将 prop 传入的值作为初始值，用 data 接收</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn3\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">props</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">say</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">propObject</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">obj</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>propObject<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">外部传递的数据：</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>say<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>propObject<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn3\">复制代码</div></div>\n<p><strong>提示：</strong></p>\n<ul>\n<li>如果你想用 data 直接接收 propObject 这个对象，可以采用<strong>JSON.parse(JSON.stringify(propObject))</strong>，将 prop 深度克隆。</li>\n</ul>\n<p><strong>2.$watch 监控数据改变</strong></p>\n<p>如果是监听对象中的属性，参数请使用<code class=\"language-text\">.</code>分割，如：<code class=\"language-text\">this.$watch('propSay.name', 'watchPropsChange') 才能生效</code></p>\n<p><strong>注意使用$watch,一般用于处理 data 里面的数据监听</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn4\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">propSay</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'app'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 监听数据变化</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$watch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'propSay.name'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'watchPropsChange'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">/**\n     * 监听数据变化，你可以对数据处理后，设置值到data上\n     * @param newV\n     * @param oldV\n     */</span>\n    <span class=\"token function\">watchPropsChange</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">newV<span class=\"token punctuation\">,</span> oldV</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">监听数据变化：</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> newV<span class=\"token punctuation\">,</span> oldV<span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>propSay <span class=\"token operator\">=</span> newV <span class=\"token operator\">&amp;&amp;</span> newV<span class=\"token punctuation\">.</span><span class=\"token function\">toUpperCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn4\">复制代码</div></div>\n<!--\n**3.computed 属性**\n\n```html\n<script>\n  export default {\n    props: [\n      'say',\n      'propObject'\n    ],\n    computed:{\n      obj(){\n          return this.say.toUpperCase()\n      }\n    }\n  }\n</script>\n``` -->\n<!-- ## 属性校验\n\n子组件声明属性时，可以指定校验规格。如果传入的数据不符合规格，devtool 会发出警告。当组件给其他开发者使用时，这将会很有用处。\n\n校验方式包括必填项检查、类型检查和函数检查。验证顺序是 必填项检查 -> 类型检查 -> 函数检查，如有警告，仅报告最前置的检查项目。\n\n类型检查支持的类型包括 [`String`、`Number`、`Boolean`、`Function`、`Object`、`Array`]。\n\n如果需要设置验证规格，`props` 属性的写法必须要要写成 Object 形式，**不能**写成 Array 形式。\n\n```html\n<script>\n  // 子组件\n  export default {\n    props: {\n      prop1: Number, // 仅类型检查\n      prop2Object: {\n        type: String, // 类型检查\n        required: true, // 必填项检查\n        validator: function(value) {\n          //函数检查\n          // 这个值必须匹配下列字符串中的一个\n          return ['success', 'warning', 'danger'].indexOf(value) !== -1\n        }\n      }\n    },\n    onInit() {\n      console.info(`外部传递的数据：`, this.prop1, this.prop2Object)\n    }\n  }\n</script>\n``` --></body></html></div>", "content_text": "props\n更新时间：\n2025-07-10 10:44:44\nProp 写法\nProp 属性名称使用 camelCase(驼峰命名法)命名法，在外部传递数据时请转化为以 kebab-case (短横线分隔命名) propObject 转换为 prop-object。\n<!-- 子组件 -->\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\nchild-demo\n\"\n>\n<\ntext\n>\n{{ propObject.name }}\n</\ntext\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nscript\n>\nexport\ndefault\n{\nprops\n:\n{\npropObject\n:\n{\n}\n,\n}\n,\n}\n</\nscript\n>\n复制代码\n<!-- 父组件 -->\n<\nimport\nname\n=\n\"\ncomp\n\"\nsrc\n=\n\"\n./comp\n\"\n>\n</\nimport\n>\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\nparent-demo\n\"\n>\n<\ncomp\nprop-object\n=\n\"\n{{obj}}\n\"\n>\n</\ncomp\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\nobj\n:\n{\nname\n:\n'child-demo'\n,\n}\n,\n}\n,\n}\n</\nscript\n>\n复制代码\n属性默认值\n子组件声明属性时，可以设置默认值。当调用子组件没有传入该数据时，将会自动设为默认值。\n如果需要设置默认值，\nprops\n属性的写法必须要要写成 Object 形式，\n不能\n写成 Array 形式。\n示例如下：\n<\nscript\n>\n// 子组件\nexport\ndefault\n{\nprops\n:\n{\nprop1\n:\n{\ndefault\n:\n'Hello'\n,\n//默认值\n}\n,\nprop2Object\n:\n{\n}\n,\n//不设置默认值\n}\n,\nonInit\n(\n)\n{\nconsole\n.\ninfo\n(\n`\n外部传递的数据：\n`\n,\nthis\n.\nprop1\n,\nthis\n.\nprop2Object\n)\n}\n,\n}\n</\nscript\n>\n复制代码\n数据单向性\n父子间的数据传输是单向性的，父组件 prop 数据更新，子组件的数据会刷新为最新值;子组件的 prop 值发生改变，并不会改变父组件中值。\n但是\nprop 类型事数组或者对象，自组件变化会影响到父组件的值\n，这意味着你不应该在一个子组件内部改变 prop 的值，这是危险性操作。\n常见的三种操作 prop 值的方法：\n1.将 prop 传入的值作为初始值，用 data 接收\n<\nscript\n>\nexport\ndefault\n{\nprops\n:\n{\nsay\n:\n{\n}\n,\npropObject\n:\n{\n}\n,\n}\n,\ndata\n(\n)\n{\nreturn\n{\nobj\n:\nthis\n.\npropObject\n.\ncount\n,\n}\n}\n,\nonInit\n(\n)\n{\nconsole\n.\ninfo\n(\n`\n外部传递的数据：\n`\n,\nthis\n.\nsay\n,\nthis\n.\npropObject\n)\n}\n,\n}\n</\nscript\n>\n复制代码\n提示：\n如果你想用 data 直接接收 propObject 这个对象，可以采用\nJSON.parse(JSON.stringify(propObject))\n，将 prop 深度克隆。\n2.$watch 监控数据改变\n如果是监听对象中的属性，参数请使用\n.\n分割，如：\nthis.$watch('propSay.name', 'watchPropsChange') 才能生效\n注意使用$watch,一般用于处理 data 里面的数据监听\n<\nscript\n>\nexport\ndefault\n{\ndata\n(\n)\n{\nreturn\n{\npropSay\n:\n{\nname\n:\n'app'\n,\n}\n,\n}\n}\n,\nonInit\n(\n)\n{\n// 监听数据变化\nthis\n.\n$watch\n(\n'propSay.name'\n,\n'watchPropsChange'\n)\n}\n,\n/**\n     * 监听数据变化，你可以对数据处理后，设置值到data上\n     * @param newV\n     * @param oldV\n     */\nwatchPropsChange\n(\nnewV\n,\noldV\n)\n{\nconsole\n.\ninfo\n(\n`\n监听数据变化：\n`\n,\nnewV\n,\noldV\n)\nthis\n.\npropSay\n=\nnewV\n&&\nnewV\n.\ntoUpperCase\n(\n)\n}\n,\n}\n</\nscript\n>\n复制代码", "code_examples": [{"code": "<!-- 子组件 -->\n<template>\n  <div class=\"child-demo\">\n    <text>{{ propObject.name }}</text>\n  </div>\n</template>\n<script>\n  export default {\n    props: {\n      propObject: {},\n    },\n  }\n</script>", "language": "html", "index": 0}, {"code": "<!-- 父组件 -->\n<import name=\"comp\" src=\"./comp\"></import>\n<template>\n  <div class=\"parent-demo\">\n    <comp prop-object=\"{{obj}}\"></comp>\n  </div>\n</template>\n<script>\n  export default {\n    data: {\n      obj: {\n        name: 'child-demo',\n      },\n    },\n  }\n</script>", "language": "html", "index": 1}, {"code": "<script>\n  // 子组件\n  export default {\n    props: {\n      prop1: {\n        default: 'Hello', //默认值\n      },\n      prop2Object: {}, //不设置默认值\n    },\n    onInit() {\n      console.info(`外部传递的数据：`, this.prop1, this.prop2Object)\n    },\n  }\n</script>", "language": "html", "index": 2}, {"code": "<script>\n  export default {\n    props: {\n      say: {},\n      propObject: {},\n    },\n    data() {\n      return {\n        obj: this.propObject.count,\n      }\n    },\n    onInit() {\n      console.info(`外部传递的数据：`, this.say, this.propObject)\n    },\n  }\n</script>", "language": "html", "index": 3}, {"code": "<script>\n  export default {\n    data() {\n      return {\n        propSay: {\n          name: 'app',\n        },\n      }\n    },\n    onInit() {\n      // 监听数据变化\n      this.$watch('propSay.name', 'watchPropsChange')\n    },\n    /**\n     * 监听数据变化，你可以对数据处理后，设置值到data上\n     * @param newV\n     * @param oldV\n     */\n    watchPropsChange(newV, oldV) {\n      console.info(`监听数据变化：`, newV, oldV)\n      this.propSay = newV && newV.toUpperCase()\n    },\n  }\n</script>", "language": "html", "index": 4}], "frontmatter": {"title": "props"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/app-service/switching-pages/", "category": "tutorial", "crawl_time": "2025-11-24T02:22:25.605558", "status": "success", "title": "页面路由", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"页面路由\" style=\"position:relative;\"><a aria-label=\"页面路由 permalink\" class=\"anchor before\" href=\"#%E9%A1%B5%E9%9D%A2%E8%B7%AF%E7%94%B1\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>页面路由</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-10-09 11:25:10\">2025-10-09 11:25:10</time></p>\n<blockquote>\n<p>了解如何打开页面、回退，并传递参数</p>\n</blockquote>\n<h2 id=\"组件-a-切换页面\" style=\"position:relative;\"><a aria-label=\"组件 a 切换页面 permalink\" class=\"anchor before\" href=\"#%E7%BB%84%E4%BB%B6-a-%E5%88%87%E6%8D%A2%E9%A1%B5%E9%9D%A2\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>组件 a 切换页面</h2>\n<h3 id=\"切换页面\" style=\"position:relative;\"><a aria-label=\"切换页面 permalink\" class=\"anchor before\" href=\"#%E5%88%87%E6%8D%A2%E9%A1%B5%E9%9D%A2\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>切换页面</h3>\n<p>组件 a 可通过配置 href 属性跳转到应用内的页面</p>\n<p><strong>示例如下：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn0\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tutorial-page<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 以'/'开头的应用内页面的路径 --&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/PageParams/receiveparams<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>跳转到接收参数页面<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 以非'/'开头的应用内页面的名称 --&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>PageParams/receiveparams<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>跳转到接收参数页面<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 特殊的,如果uri的值是'/',则跳转到path为'/'的页,没有则跳转到首页--&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>跳转到首页<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<!-- 此外，组件 a 还提供调起电话、短信、邮件的功能和加载网页的能力 -->\n<!-- **示例如下：** -->\n<h3 id=\"传递参数\" style=\"position:relative;\"><a aria-label=\"传递参数 permalink\" class=\"anchor before\" href=\"#%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>传递参数</h3>\n<p>通过组件 a 实现页面切换时，可以通过'?key=value'的方式添加参数，支持参数为变量</p>\n<p><strong>示例如下：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn1\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">'Hello, world!'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'组件a切换页面并传递参数'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>flex flex-col justify-center items-center<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 添加参数 --&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/PageParams/receiveparams?key=Hello, world!<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mt-[75px] text-[30px] text-[#09ba07] underline<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>携带参数key1跳转<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 添加变量参数 --&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/PageParams/receiveparams?key={{title}}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mt-[75px] text-[30px] text-[#09ba07] underline<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>携带参数key2跳转<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n<span class=\"token atrule\"><span class=\"token rule\">@tailwind</span> utilities<span class=\"token punctuation\">;</span></span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<h2 id=\"接口-router-切换页面\" style=\"position:relative;\"><a aria-label=\"接口 router 切换页面 permalink\" class=\"anchor before\" href=\"#%E6%8E%A5%E5%8F%A3-router-%E5%88%87%E6%8D%A2%E9%A1%B5%E9%9D%A2\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>接口 router 切换页面</h2>\n<h3 id=\"切换页面-1\" style=\"position:relative;\"><a aria-label=\"切换页面 1 permalink\" class=\"anchor before\" href=\"#%E5%88%87%E6%8D%A2%E9%A1%B5%E9%9D%A2-1\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>切换页面</h3>\n<p>router 接口在使用前，需要先导入模块</p>\n<p><code class=\"language-text\">router.push(OBJECT)</code> / <code class=\"language-text\">router.replace(OBJECT)</code> 支持的参数 uri 与组件 a 的 href 属性完全一致</p>\n<!-- router.replace(OBJECT)的支持的参数 uri 不支持调起电话、短信、邮件，其他与 push 一致 -->\n<p><strong>示例如下：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn2\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token comment\">// 导入模块</span>\n  <span class=\"token keyword\">import</span> router <span class=\"token keyword\">from</span> <span class=\"token string\">'@blueos.app.router'</span>\n\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">onInit</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'接口router切换页面'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">routePagePush</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 跳转到应用内的某个页面</span>\n      router<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">uri</span><span class=\"token operator\">:</span> <span class=\"token string\">'/PageParams/receiveparams'</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">routePageReplace</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 跳转到应用内的某个页面，当前页面无法返回</span>\n      router<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">uri</span><span class=\"token operator\">:</span> <span class=\"token string\">'/PageParams/receiveparams'</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">routePageBack</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 返回上一页面</span>\n      router<span class=\"token punctuation\">.</span><span class=\"token function\">back</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">routePageClear</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 清空所有历史页面记录，仅保留当前页面</span>\n      router<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>flex flex-col justify-center items-center<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>w-[550px] h-[86px] mt-[75px] rounded-[43px] bg-[#09ba07] text-[30px] text-white<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>跳转到接收参数页面<span class=\"token punctuation\">\"</span></span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\">routePagePush</span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>input</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>w-[550px] h-[86px] mt-[75px] rounded-[43px] bg-[#09ba07] text-[30px] text-white<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>跳转到接收参数页面，当前页面无法返回<span class=\"token punctuation\">\"</span></span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\">routePageReplace</span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>input</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>w-[550px] h-[86px] mt-[75px] rounded-[43px] bg-[#09ba07] text-[30px] text-white<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>返回上一页<span class=\"token punctuation\">\"</span></span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\">routePageBack</span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>input</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>w-[550px] h-[86px] mt-[75px] rounded-[43px] bg-[#09ba07] text-[30px] text-white<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>清空页面记录，仅保留当前页面<span class=\"token punctuation\">\"</span></span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\">routePageClear</span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>input</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n<span class=\"token atrule\"><span class=\"token rule\">@tailwind</span> utilities<span class=\"token punctuation\">;</span></span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn2\">复制代码</div></div>\n<h3 id=\"传递参数-1\" style=\"position:relative;\"><a aria-label=\"传递参数 1 permalink\" class=\"anchor before\" href=\"#%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0-1\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>传递参数</h3>\n<p>router 接口的参数 params 可配置页面跳转时需要传递的参数</p>\n<p><strong>示例如下：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn3\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token comment\">// 导入模块</span>\n  <span class=\"token keyword\">import</span> router <span class=\"token keyword\">from</span> <span class=\"token string\">'@blueos.app.router'</span>\n\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">'Hello, world!'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">onInit</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'接口router切换页面并传递参数'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">routePagePushWithParams</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 跳转到应用内的某个页面</span>\n      router<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">uri</span><span class=\"token operator\">:</span> <span class=\"token string\">'/PageParams/receiveparams'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">params</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>title <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">routePageReplaceWithParams</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 跳转到应用内的某个页面，当前页面无法返回</span>\n      router<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">uri</span><span class=\"token operator\">:</span> <span class=\"token string\">'/PageParams/receiveparams'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">params</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>title <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>flex flex-col justify-center items-center<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>w-[550px] h-[86px] mt-[75px] rounded-[43px] bg-[#09ba07] text-[30px] text-white<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>携带参数跳转页面<span class=\"token punctuation\">\"</span></span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\">routePagePushWithParams</span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>input</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>w-[550px] h-[86px] mt-[75px] rounded-[43px] bg-[#09ba07] text-[30px] text-white<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>携带参数跳转页面，当前页面无法返回<span class=\"token punctuation\">\"</span></span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\">routePageReplaceWithParams</span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>input</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n<span class=\"token atrule\"><span class=\"token rule\">@tailwind</span> utilities<span class=\"token punctuation\">;</span></span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn3\">复制代码</div></div>\n<h2 id=\"接收参数\" style=\"position:relative;\"><a aria-label=\"接收参数 permalink\" class=\"anchor before\" href=\"#%E6%8E%A5%E6%94%B6%E5%8F%82%E6%95%B0\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>接收参数</h2>\n<p>现在，开发者已经掌握了通过组件 a 和接口 router 在页面之间传递参数的方法，如何接收参数呢？</p>\n<p>其实很简单，组件 a 和接口 router 传递的参数的接收方法完全一致：在页面的 ViewModel 的<code class=\"language-text\">data属性</code>中声明使用的属性</p>\n<!-- **注意：**\n\n- protected 内定义的属性，允许被应用内部页面请求传递的数据覆盖，不允许被应用外部请求传递的数据覆盖\n- 若希望参数允许被应用外部请求传递的数据覆盖，请在页面的 ViewModel 的`public属性`中声明使用的属性 -->\n<p><strong>示例如下：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn4\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'接收参数'</span><span class=\"token punctuation\">)</span>\n\n      <span class=\"token comment\">// js中输出页面传递的参数</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">'key: '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>key<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>flex flex-col justify-center items-center<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>page<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- template中显示页面传递的参数 --&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{key}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n<span class=\"token atrule\"><span class=\"token rule\">@tailwind</span> utilities<span class=\"token punctuation\">;</span></span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn4\">复制代码</div></div>\n<!-- ## 回传参数\n\n开发者可能会遇到需要在页面之间回传参数的需求\n\n**示例如下：**\n\n假设存在页面 A 和页面 B，先从页面 A 跳转至页面 B，然后从页面 B 返回到页面 A 时，需要传递参数\n\n此时，组件 a 和接口 router 传参不能满足需求，可以借助于 app 实现：\n\n在 app 中增加缓存的数据，并提供读写缓存数据的能力。app 实现代码如下：\n\n```html\n<script>\n  export default {\n    onCreate () {\n      // 初始化 app 缓存的数据\n      this.dataCache = {}\n    },\n    /**\n     * 获取 app 缓存的数据\n     * @param key\n     */\n    getAppData (key) {\n      return this.dataCache[key]\n    },\n    /**\n     * 设置 app 缓存的数据\n     * @param key\n     * @param val\n     */\n    setAppData (key, val) {\n      this.dataCache[key] = val\n    }\n  }\n</script>\n```\n\n页面 A 和页面 B 通过 app 缓存数据传递参数：\n\n在页面 A 中，当页面显示时，读取 app 缓存数据，获取参数。页面 A 实现代码如下：\n\n```html\n<template>\n  <div class=\"tutorial-page\">\n    <a href=\"/PageParams/returnParams/pageb\">跳转到页面B</a>\n    <text>{{msg}}</text>\n  </div>\n</template>\n\n<style>\n  .tutorial-page {\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n  a {\n    margin-top: 75px;\n    font-size: 30px;\n    color: #09ba07;\n    text-decoration: underline;\n  }\n</style>\n\n<script>\n  export default {\n    data: {\n      msg: ''\n    },\n    onInit () {\n      this.$page.setTitleBar({ text: '页面A' })\n    },\n    onShow () {\n      // 页面被切换显示时，从数据中检查是否有页面B传递来的数据\n      const data = this.$app.getAppData('dataFromB')\n      if (data && data.destPageName === 'pageA') {\n        // 获取回传给本页面的数据\n        this.msg = data.params && data.params.msg\n      }\n    }\n  }\n</script>\n```\n\n在页面 B 中，当页面隐藏时，设置 app 缓存数据，写入参数。页面 B 实现代码如下：\n\n```html\n<template>\n  <div class=\"tutorial-page\">\n    <text>页面B</text>\n    <input style=\"width: 450px;\" placeholder=\"请输入回传给页面A的信息\" onchange=\"updateMsg\"/>\n  </div>\n</template>\n\n<style>\n  .tutorial-page {\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n</style>\n\n<script>\n  export default {\n    data: {\n      msg: ''\n    },\n    onInit () {\n      this.$page.setTitleBar({ text: '页面B' })\n    },\n    onHide () {\n      // 页面被切换隐藏时，将要传递的数据对象写入\n      this.$app.setAppData('dataFromB', {\n        destPageName: 'pageA',\n        params: {\n          msg: this.msg\n        }\n      })\n    },\n    updateMsg (evt) {\n      // 更新input输入的信息文本\n      this.msg = evt.text\n    }\n  }\n</script>\n``` --></body></html></div>", "content_text": "页面路由\n更新时间：\n2025-10-09 11:25:10\n了解如何打开页面、回退，并传递参数\n组件 a 切换页面\n切换页面\n组件 a 可通过配置 href 属性跳转到应用内的页面\n示例如下：\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\ntutorial-page\n\"\n>\n<!-- 以'/'开头的应用内页面的路径 -->\n<\na\nhref\n=\n\"\n/PageParams/receiveparams\n\"\n>\n跳转到接收参数页面\n</\na\n>\n<!-- 以非'/'开头的应用内页面的名称 -->\n<\na\nhref\n=\n\"\nPageParams/receiveparams\n\"\n>\n跳转到接收参数页面\n</\na\n>\n<!-- 特殊的,如果uri的值是'/',则跳转到path为'/'的页,没有则跳转到首页-->\n<\na\nhref\n=\n\"\n/\n\"\n>\n跳转到首页\n</\na\n>\n</\ndiv\n>\n</\ntemplate\n>\n复制代码\n传递参数\n通过组件 a 实现页面切换时，可以通过'?key=value'的方式添加参数，支持参数为变量\n示例如下：\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\ntitle\n:\n'Hello, world!'\n,\n}\n,\nonInit\n(\n)\n{\nconsole\n.\nlog\n(\n'组件a切换页面并传递参数'\n)\n}\n,\n}\n</\nscript\n>\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\nflex flex-col justify-center items-center\n\"\n>\n<!-- 添加参数 -->\n<\na\nhref\n=\n\"\n/PageParams/receiveparams?key=Hello, world!\n\"\nclass\n=\n\"\nmt-[75px] text-[30px] text-[#09ba07] underline\n\"\n>\n携带参数key1跳转\n</\na\n>\n<!-- 添加变量参数 -->\n<\na\nhref\n=\n\"\n/PageParams/receiveparams?key={{title}}\n\"\nclass\n=\n\"\nmt-[75px] text-[30px] text-[#09ba07] underline\n\"\n>\n携带参数key2跳转\n</\na\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nstyle\n>\n@tailwind\nutilities\n;\n</\nstyle\n>\n复制代码\n接口 router 切换页面\n切换页面\nrouter 接口在使用前，需要先导入模块\nrouter.push(OBJECT)\n/\nrouter.replace(OBJECT)\n支持的参数 uri 与组件 a 的 href 属性完全一致\n示例如下：\n<\nscript\n>\n// 导入模块\nimport\nrouter\nfrom\n'@blueos.app.router'\nexport\ndefault\n{\nonInit\n(\n)\n{\nconsole\n.\nlog\n(\n'接口router切换页面'\n)\n}\n,\nroutePagePush\n(\n)\n{\n// 跳转到应用内的某个页面\nrouter\n.\npush\n(\n{\nuri\n:\n'/PageParams/receiveparams'\n}\n)\n}\n,\nroutePageReplace\n(\n)\n{\n// 跳转到应用内的某个页面，当前页面无法返回\nrouter\n.\nreplace\n(\n{\nuri\n:\n'/PageParams/receiveparams'\n}\n)\n}\n,\nroutePageBack\n(\n)\n{\n// 返回上一页面\nrouter\n.\nback\n(\n)\n}\n,\nroutePageClear\n(\n)\n{\n// 清空所有历史页面记录，仅保留当前页面\nrouter\n.\nclear\n(\n)\n}\n}\n</\nscript\n>\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\nflex flex-col justify-center items-center\n\"\n>\n<\ninput\nclass\n=\n\"\nw-[550px] h-[86px] mt-[75px] rounded-[43px] bg-[#09ba07] text-[30px] text-white\n\"\ntype\n=\n\"\nbutton\n\"\nvalue\n=\n\"\n跳转到接收参数页面\n\"\nonclick\n=\n\"\nroutePagePush\n\"\n>\n</\ninput\n>\n<\ninput\nclass\n=\n\"\nw-[550px] h-[86px] mt-[75px] rounded-[43px] bg-[#09ba07] text-[30px] text-white\n\"\ntype\n=\n\"\nbutton\n\"\nvalue\n=\n\"\n跳转到接收参数页面，当前页面无法返回\n\"\nonclick\n=\n\"\nroutePageReplace\n\"\n>\n</\ninput\n>\n<\ninput\nclass\n=\n\"\nw-[550px] h-[86px] mt-[75px] rounded-[43px] bg-[#09ba07] text-[30px] text-white\n\"\ntype\n=\n\"\nbutton\n\"\nvalue\n=\n\"\n返回上一页\n\"\nonclick\n=\n\"\nroutePageBack\n\"\n>\n</\ninput\n>\n<\ninput\nclass\n=\n\"\nw-[550px] h-[86px] mt-[75px] rounded-[43px] bg-[#09ba07] text-[30px] text-white\n\"\ntype\n=\n\"\nbutton\n\"\nvalue\n=\n\"\n清空页面记录，仅保留当前页面\n\"\nonclick\n=\n\"\nroutePageClear\n\"\n>\n</\ninput\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nstyle\n>\n@tailwind\nutilities\n;\n</\nstyle\n>\n复制代码\n传递参数\nrouter 接口的参数 params 可配置页面跳转时需要传递的参数\n示例如下：\n<\nscript\n>\n// 导入模块\nimport\nrouter\nfrom\n'@blueos.app.router'\nexport\ndefault\n{\ndata\n:\n{\ntitle\n:\n'Hello, world!'\n}\n,\nonInit\n(\n)\n{\nconsole\n.\nlog\n(\n'接口router切换页面并传递参数'\n)\n}\n,\nroutePagePushWithParams\n(\n)\n{\n// 跳转到应用内的某个页面\nrouter\n.\npush\n(\n{\nuri\n:\n'/PageParams/receiveparams'\n,\nparams\n:\n{\nkey\n:\nthis\n.\ntitle\n}\n}\n)\n}\n,\nroutePageReplaceWithParams\n(\n)\n{\n// 跳转到应用内的某个页面，当前页面无法返回\nrouter\n.\nreplace\n(\n{\nuri\n:\n'/PageParams/receiveparams'\n,\nparams\n:\n{\nkey\n:\nthis\n.\ntitle\n}\n}\n)\n}\n}\n</\nscript\n>\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\nflex flex-col justify-center items-center\n\"\n>\n<\ninput\nclass\n=\n\"\nw-[550px] h-[86px] mt-[75px] rounded-[43px] bg-[#09ba07] text-[30px] text-white\n\"\ntype\n=\n\"\nbutton\n\"\nvalue\n=\n\"\n携带参数跳转页面\n\"\nonclick\n=\n\"\nroutePagePushWithParams\n\"\n>\n</\ninput\n>\n<\ninput\nclass\n=\n\"\nw-[550px] h-[86px] mt-[75px] rounded-[43px] bg-[#09ba07] text-[30px] text-white\n\"\ntype\n=\n\"\nbutton\n\"\nvalue\n=\n\"\n携带参数跳转页面，当前页面无法返回\n\"\nonclick\n=\n\"\nroutePageReplaceWithParams\n\"\n>\n</\ninput\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nstyle\n>\n@tailwind\nutilities\n;\n</\nstyle\n>\n复制代码\n接收参数\n现在，开发者已经掌握了通过组件 a 和接口 router 在页面之间传递参数的方法，如何接收参数呢？\n其实很简单，组件 a 和接口 router 传递的参数的接收方法完全一致：在页面的 ViewModel 的\ndata属性\n中声明使用的属性\n示例如下：\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\nkey\n:\n''\n,\n}\n,\nonInit\n(\n)\n{\nconsole\n.\nlog\n(\n'接收参数'\n)\n// js中输出页面传递的参数\nconsole\n.\ninfo\n(\n'key: '\n+\nthis\n.\nkey\n)\n}\n,\n}\n</\nscript\n>\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\nflex flex-col justify-center items-center\n\"\n>\n<\ntext\n>\npage\n</\ntext\n>\n<!-- template中显示页面传递的参数 -->\n<\ntext\n>\n{{key}}\n</\ntext\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nstyle\n>\n@tailwind\nutilities\n;\n</\nstyle\n>\n复制代码", "code_examples": [{"code": "<template>\n  <div class=\"tutorial-page\">\n    <!-- 以'/'开头的应用内页面的路径 -->\n    <a href=\"/PageParams/receiveparams\">跳转到接收参数页面</a>\n    <!-- 以非'/'开头的应用内页面的名称 -->\n    <a href=\"PageParams/receiveparams\">跳转到接收参数页面</a>\n    <!-- 特殊的,如果uri的值是'/',则跳转到path为'/'的页,没有则跳转到首页-->\n    <a href=\"/\">跳转到首页</a>\n  </div>\n</template>", "language": "html", "index": 0}, {"code": "<script>\n  export default {\n    data: {\n      title: 'Hello, world!',\n    },\n    onInit() {\n      console.log('组件a切换页面并传递参数')\n    },\n  }\n</script>\n\n<template>\n  <div class=\"flex flex-col justify-center items-center\">\n    <!-- 添加参数 -->\n    <a href=\"/PageParams/receiveparams?key=Hello, world!\" class=\"mt-[75px] text-[30px] text-[#09ba07] underline\">携带参数key1跳转</a>\n    <!-- 添加变量参数 -->\n    <a href=\"/PageParams/receiveparams?key={{title}}\" class=\"mt-[75px] text-[30px] text-[#09ba07] underline\">携带参数key2跳转</a>\n  </div>\n</template>\n\n<style>\n@tailwind utilities;\n</style>", "language": "html", "index": 1}, {"code": "<script>\n  // 导入模块\n  import router from '@blueos.app.router'\n\n  export default {\n    onInit () {\n      console.log('接口router切换页面')\n    },\n    routePagePush () {\n      // 跳转到应用内的某个页面\n      router.push({\n        uri: '/PageParams/receiveparams'\n      })\n    },\n    routePageReplace () {\n      // 跳转到应用内的某个页面，当前页面无法返回\n      router.replace({\n        uri: '/PageParams/receiveparams'\n      })\n    },\n    routePageBack () {\n      // 返回上一页面\n      router.back()\n    },\n    routePageClear () {\n      // 清空所有历史页面记录，仅保留当前页面\n      router.clear()\n    }\n  }\n</script>\n\n<template>\n  <div class=\"flex flex-col justify-center items-center\">\n    <input class=\"w-[550px] h-[86px] mt-[75px] rounded-[43px] bg-[#09ba07] text-[30px] text-white\" type=\"button\" value=\"跳转到接收参数页面\" onclick=\"routePagePush\"></input>\n    <input class=\"w-[550px] h-[86px] mt-[75px] rounded-[43px] bg-[#09ba07] text-[30px] text-white\" type=\"button\" value=\"跳转到接收参数页面，当前页面无法返回\" onclick=\"routePageReplace\"></input>\n    <input class=\"w-[550px] h-[86px] mt-[75px] rounded-[43px] bg-[#09ba07] text-[30px] text-white\" type=\"button\" value=\"返回上一页\" onclick=\"routePageBack\"></input>\n    <input class=\"w-[550px] h-[86px] mt-[75px] rounded-[43px] bg-[#09ba07] text-[30px] text-white\" type=\"button\" value=\"清空页面记录，仅保留当前页面\" onclick=\"routePageClear\"></input>\n  </div>\n</template>\n\n<style>\n@tailwind utilities;\n</style>", "language": "html", "index": 2}, {"code": "<script>\n  // 导入模块\n  import router from '@blueos.app.router'\n\n  export default {\n    data: {\n      title: 'Hello, world!'\n    },\n    onInit () {\n      console.log('接口router切换页面并传递参数')\n    },\n    routePagePushWithParams () {\n      // 跳转到应用内的某个页面\n      router.push({\n        uri: '/PageParams/receiveparams',\n        params: { key: this.title }\n      })\n    },\n    routePageReplaceWithParams () {\n      // 跳转到应用内的某个页面，当前页面无法返回\n      router.replace({\n        uri: '/PageParams/receiveparams',\n        params: { key: this.title }\n      })\n    }\n  }\n</script>\n\n<template>\n  <div class=\"flex flex-col justify-center items-center\">\n    <input class=\"w-[550px] h-[86px] mt-[75px] rounded-[43px] bg-[#09ba07] text-[30px] text-white\" type=\"button\" value=\"携带参数跳转页面\" onclick=\"routePagePushWithParams\"></input>\n    <input class=\"w-[550px] h-[86px] mt-[75px] rounded-[43px] bg-[#09ba07] text-[30px] text-white\" type=\"button\" value=\"携带参数跳转页面，当前页面无法返回\" onclick=\"routePageReplaceWithParams\"></input>\n  </div>\n</template>\n\n<style>\n@tailwind utilities;\n</style>", "language": "html", "index": 3}, {"code": "<script>\n  export default {\n    data: {\n      key: '',\n    },\n    onInit() {\n      console.log('接收参数')\n\n      // js中输出页面传递的参数\n      console.info('key: ' + this.key)\n    },\n  }\n</script>\n\n<template>\n  <div class=\"flex flex-col justify-center items-center\">\n    <text>page</text>\n    <!-- template中显示页面传递的参数 -->\n    <text>{{key}}</text>\n  </div>\n</template>\n\n<style>\n@tailwind utilities;\n</style>", "language": "html", "index": 4}], "frontmatter": {"title": "页面路由"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/configuration/file-organization/", "category": "tutorial", "crawl_time": "2025-11-24T02:22:27.444934", "status": "success", "title": "文件组织", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"文件组织\" style=\"position:relative;\"><a aria-label=\"文件组织 permalink\" class=\"anchor before\" href=\"#%E6%96%87%E4%BB%B6%E7%BB%84%E7%BB%87\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>文件组织</h1><p class=\"update-time\">更新时间：<time datetime=\"2024-01-10 16:04:30\">2024-01-10 16:04:30</time></p>\n<blockquote>\n<p>本文对项目的文件目录及相关内容进行了介绍，包括蓝河应用文件结构讲解，配置信息、新增页面等</p>\n</blockquote>\n<h2 id=\"项目介绍\" style=\"position:relative;\"><a aria-label=\"项目介绍 permalink\" class=\"anchor before\" href=\"#%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>项目介绍</h2>\n<p>通过 BlueOS Studio 新建一个项目，这个项目已经包含了<strong>项目配置</strong>与<strong>示例页面</strong>的初始代码，项目根目录主要结构如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><div id=\"copyBtn0\"><pre class=\"language-text\"><code class=\"language-text\">├── scripts                   工具脚本文件\n├── src\n│   ├── assets                公用资源\n│   │   ├── images            图片资源\n│   │   └── styles            应用样式\n│   ├── pages                 页面目录\n│   │   ├── Demo              应用首页\n│   │   └── DemoDetail        应用详情页\n│   ├── app.ux                app.ux文件。\n│   └── manifest.json         项目配置文件，配置应用图标、页面路由等\n└── jsconfig.json             js 配置文件，用于语法校验\n└── package.json              定义项目需要的各种模块及配置信息</code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<h3 id=\"目录的简要说明如下\" style=\"position:relative;\"><a aria-label=\"目录的简要说明如下 permalink\" class=\"anchor before\" href=\"#%E7%9B%AE%E5%BD%95%E7%9A%84%E7%AE%80%E8%A6%81%E8%AF%B4%E6%98%8E%E5%A6%82%E4%B8%8B\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>目录的简要说明如下：</h3>\n<ul>\n<li><strong>src</strong>：项目源文件夹</li>\n<li><strong>app.ux</strong> 文件用于全局 JavaScript 逻辑和应用生命周期管理，<a href=\"/api/extend/lifecycle/\">详见</a></li>\n</ul>\n<h2 id=\"配置信息\" style=\"position:relative;\"><a aria-label=\"配置信息 permalink\" class=\"anchor before\" href=\"#%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>配置信息</h2>\n<p>每个应用都要有专属的名称，图标等，这些信息都需要在<code class=\"language-text\">manifest.json</code>文件中配置。详见文档<a href=\"/reference/configuration/manifest\">manifest 文件</a></p>\n<h3 id=\"应用包名package\" style=\"position:relative;\"><a aria-label=\"应用包名package permalink\" class=\"anchor before\" href=\"#%E5%BA%94%E7%94%A8%E5%8C%85%E5%90%8Dpackage\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>应用包名（package）</h3>\n<p>应用包名，是区别于其他应用的唯一标识</p>\n<p>推荐采用 com.company.module 的格式，示例如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn1\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"package\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"com.example.demo\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<h3 id=\"应用名称name\" style=\"position:relative;\"><a aria-label=\"应用名称name permalink\" class=\"anchor before\" href=\"#%E5%BA%94%E7%94%A8%E5%90%8D%E7%A7%B0name\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>应用名称（name）</h3>\n<p>应用名称，6 个汉字以内，与应用商店保存的名称一致；框架提供保存到桌面的功能，桌面上显示的应用名即为此属性</p>\n<p>示例如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn2\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"发票小助手\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn2\">复制代码</div></div>\n<h3 id=\"应用图标icon\" style=\"position:relative;\"><a aria-label=\"应用图标icon permalink\" class=\"anchor before\" href=\"#%E5%BA%94%E7%94%A8%E5%9B%BE%E6%A0%87icon\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>应用图标（icon）</h3>\n<p>规则为正方形（不能是圆角），且务必无白边</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn3\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"icon\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/assets/images/logo.png\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn3\">复制代码</div></div>\n<h3 id=\"应用版本名称版本号versionnameversioncode\" style=\"position:relative;\"><a aria-label=\"应用版本名称版本号versionnameversioncode permalink\" class=\"anchor before\" href=\"#%E5%BA%94%E7%94%A8%E7%89%88%E6%9C%AC%E5%90%8D%E7%A7%B0%E7%89%88%E6%9C%AC%E5%8F%B7versionnameversioncode\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>应用版本名称、版本号（versionName、versionCode）</h3>\n<p>应用版本名称、版本号为开发者的应用包维护的版本信息</p>\n<p>应用版本名称为<code class=\"language-text\">主版本.次版本</code>格式</p>\n<p>应用版本号为整数，从<code class=\"language-text\">1</code>开始，每次更新上架请自增 1</p>\n<p>示例如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn4\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"versionName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"versionCode\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn4\">复制代码</div></div>\n<h3 id=\"配置接口列表features\" style=\"position:relative;\"><a aria-label=\"配置接口列表features permalink\" class=\"anchor before\" href=\"#%E9%85%8D%E7%BD%AE%E6%8E%A5%E5%8F%A3%E5%88%97%E8%A1%A8features\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>配置接口列表（features）</h3>\n<p>在使用接口时，需要先在 manifest 中声明接口。在每个接口文档的顶部，都附有声明接口的配置代码</p>\n<p>以 fetch 网络请求为例，示例如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn5\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"features\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"blueos.communication.network.fetch\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn5\">复制代码</div></div>\n<h2 id=\"新增页面\" style=\"position:relative;\"><a aria-label=\"新增页面 permalink\" class=\"anchor before\" href=\"#%E6%96%B0%E5%A2%9E%E9%A1%B5%E9%9D%A2\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>新增页面</h2>\n<p>新增及配置页面，需要依赖<code class=\"language-text\">manifest.json</code>中<code class=\"language-text\">router</code>配置</p>\n<h3 id=\"router\" style=\"position:relative;\"><a aria-label=\"router permalink\" class=\"anchor before\" href=\"#router\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>router</h3>\n<p><code class=\"language-text\">router</code>，路由，用于定义页面的实际地址、跳转地址。如果 ux 页面没有配置路由，则不参与项目编译。一个目录下最多只能存在一个主页面文件（不包括组件文件）</p>\n<h4 id=\"首页-routerentry\" style=\"position:relative;\"><a aria-label=\"首页 routerentry permalink\" class=\"anchor before\" href=\"#%E9%A6%96%E9%A1%B5-routerentry\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>首页 (router.entry)</h4>\n<p>首页，即应用平台启动时默认打开的页面。首页需配置为应用中某页面的名称，即在<code class=\"language-text\">&lt;ProjectName&gt;/src</code>目录下，<strong>页面目录的相对路径</strong></p>\n<p>假设工程根目录如下所示</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><div id=\"copyBtn6\"><pre class=\"language-text\"><code class=\"language-text\">└── src\n    └── Demo                  页面目录，存放各自页面私有的资源文件和组件文件\n        └── index.ux          页面文件，文件名不必与父文件夹相同（推荐index.ux）</code></pre></div><div class=\"warp-content\" id=\"copyBtn6\">复制代码</div></div>\n<p>假设首页为 Demo 目录下的 index.ux 文件，则首页对应的页面名称为<code class=\"language-text\">Demo</code></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn7\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"router\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"entry\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Demo\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn7\">复制代码</div></div>\n<h4 id=\"页面路由对象routerpages\" style=\"position:relative;\"><a aria-label=\"页面路由对象routerpages permalink\" class=\"anchor before\" href=\"#%E9%A1%B5%E9%9D%A2%E8%B7%AF%E7%94%B1%E5%AF%B9%E8%B1%A1routerpages\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>页面路由对象（router.pages）</h4>\n<p>页面路由对象，key 为页面名称（<code class=\"language-text\">&lt;ProjectName&gt;/src</code>目录下，<strong>页面目录的相对路径</strong>），value 为页面具体路由配置，key 不要重复</p>\n<p>页面具体路由配置（router.pages 的 value）包括以下属性：</p>\n<ul>\n<li><strong>component</strong>：页面对应的 ux 文件名</li>\n<li><strong>path</strong>：页面路径，不填则默认为页面名称（<code class=\"language-text\">&lt;ProjectName&gt;/src</code>目录下，页面目录的<strong>相对路径</strong>）</li>\n</ul>\n<p>示例如下：</p>\n<p>假设工程根目录如下所示</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><div id=\"copyBtn8\"><pre class=\"language-text\"><code class=\"language-text\">└── src\n    |── Demo                  页面目录，存放各自页面私有的资源文件和组件文件\n    |   └── index.ux          页面文件，文件名不必与父文件夹相同（推荐index.ux）\n    └── Doc\n        └── Layout            页面目录，存放各自页面私有的资源文件和组件文件\n            └── index.ux      页面文件，文件名不必与父文件夹相同（推荐index.ux）</code></pre></div><div class=\"warp-content\" id=\"copyBtn8\">复制代码</div></div>\n<p>当页面名称（router.pages 的 key）为<code class=\"language-text\">Demo</code>时，对应的页面配置（router.pages 的 value）包括：</p>\n<ul>\n<li><strong>component</strong>：页面对应的 ux 文件名<code class=\"language-text\">index</code></li>\n<li><strong>path</strong>：页面路径，默认为页面名称<code class=\"language-text\">Demo</code></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn9\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"router\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"pages\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"Demo\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"component\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"index\"</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"Doc/Layout\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"component\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"index\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn9\">复制代码</div></div>\n<p>现在，开发者就可以通过<code class=\"language-text\">/Demo</code>访问到 Demo 目录下的 index.ux 页面了</p></body></html></div>", "content_text": "文件组织\n更新时间：\n2024-01-10 16:04:30\n本文对项目的文件目录及相关内容进行了介绍，包括蓝河应用文件结构讲解，配置信息、新增页面等\n项目介绍\n通过 BlueOS Studio 新建一个项目，这个项目已经包含了\n项目配置\n与\n示例页面\n的初始代码，项目根目录主要结构如下：\n├── scripts                   工具脚本文件\n├── src\n│   ├── assets                公用资源\n│   │   ├── images            图片资源\n│   │   └── styles            应用样式\n│   ├── pages                 页面目录\n│   │   ├── Demo              应用首页\n│   │   └── DemoDetail        应用详情页\n│   ├── app.ux                app.ux文件。\n│   └── manifest.json         项目配置文件，配置应用图标、页面路由等\n└── jsconfig.json             js 配置文件，用于语法校验\n└── package.json              定义项目需要的各种模块及配置信息\n复制代码\n目录的简要说明如下：\nsrc\n：项目源文件夹\napp.ux\n文件用于全局 JavaScript 逻辑和应用生命周期管理，\n详见\n配置信息\n每个应用都要有专属的名称，图标等，这些信息都需要在\nmanifest.json\n文件中配置。详见文档\nmanifest 文件\n应用包名（package）\n应用包名，是区别于其他应用的唯一标识\n推荐采用 com.company.module 的格式，示例如下：\n{\n\"package\"\n:\n\"com.example.demo\"\n}\n复制代码\n应用名称（name）\n应用名称，6 个汉字以内，与应用商店保存的名称一致；框架提供保存到桌面的功能，桌面上显示的应用名即为此属性\n示例如下：\n{\n\"name\"\n:\n\"发票小助手\"\n}\n复制代码\n应用图标（icon）\n规则为正方形（不能是圆角），且务必无白边\n{\n\"icon\"\n:\n\"/assets/images/logo.png\"\n}\n复制代码\n应用版本名称、版本号（versionName、versionCode）\n应用版本名称、版本号为开发者的应用包维护的版本信息\n应用版本名称为\n主版本.次版本\n格式\n应用版本号为整数，从\n1\n开始，每次更新上架请自增 1\n示例如下：\n{\n\"versionName\"\n:\n\"1.0\"\n,\n\"versionCode\"\n:\n1\n}\n复制代码\n配置接口列表（features）\n在使用接口时，需要先在 manifest 中声明接口。在每个接口文档的顶部，都附有声明接口的配置代码\n以 fetch 网络请求为例，示例如下：\n{\n\"features\"\n:\n[\n{\n\"name\"\n:\n\"blueos.communication.network.fetch\"\n}\n]\n}\n复制代码\n新增页面\n新增及配置页面，需要依赖\nmanifest.json\n中\nrouter\n配置\nrouter\nrouter\n，路由，用于定义页面的实际地址、跳转地址。如果 ux 页面没有配置路由，则不参与项目编译。一个目录下最多只能存在一个主页面文件（不包括组件文件）\n首页 (router.entry)\n首页，即应用平台启动时默认打开的页面。首页需配置为应用中某页面的名称，即在\n<ProjectName>/src\n目录下，\n页面目录的相对路径\n假设工程根目录如下所示\n└── src\n    └── Demo                  页面目录，存放各自页面私有的资源文件和组件文件\n        └── index.ux          页面文件，文件名不必与父文件夹相同（推荐index.ux）\n复制代码\n假设首页为 Demo 目录下的 index.ux 文件，则首页对应的页面名称为\nDemo\n{\n\"router\"\n:\n{\n\"entry\"\n:\n\"Demo\"\n}\n}\n复制代码\n页面路由对象（router.pages）\n页面路由对象，key 为页面名称（\n<ProjectName>/src\n目录下，\n页面目录的相对路径\n），value 为页面具体路由配置，key 不要重复\n页面具体路由配置（router.pages 的 value）包括以下属性：\ncomponent\n：页面对应的 ux 文件名\npath\n：页面路径，不填则默认为页面名称（\n<ProjectName>/src\n目录下，页面目录的\n相对路径\n）\n示例如下：\n假设工程根目录如下所示\n└── src\n    |── Demo                  页面目录，存放各自页面私有的资源文件和组件文件\n    |   └── index.ux          页面文件，文件名不必与父文件夹相同（推荐index.ux）\n    └── Doc\n        └── Layout            页面目录，存放各自页面私有的资源文件和组件文件\n            └── index.ux      页面文件，文件名不必与父文件夹相同（推荐index.ux）\n复制代码\n当页面名称（router.pages 的 key）为\nDemo\n时，对应的页面配置（router.pages 的 value）包括：\ncomponent\n：页面对应的 ux 文件名\nindex\npath\n：页面路径，默认为页面名称\nDemo\n{\n\"router\"\n:\n{\n\"pages\"\n:\n{\n\"Demo\"\n:\n{\n\"component\"\n:\n\"index\"\n}\n,\n\"Doc/Layout\"\n:\n{\n\"component\"\n:\n\"index\"\n}\n}\n}\n}\n复制代码\n现在，开发者就可以通过\n/Demo\n访问到 Demo 目录下的 index.ux 页面了", "code_examples": [{"code": "├── scripts                   工具脚本文件\n├── src\n│   ├── assets                公用资源\n│   │   ├── images            图片资源\n│   │   └── styles            应用样式\n│   ├── pages                 页面目录\n│   │   ├── Demo              应用首页\n│   │   └── DemoDetail        应用详情页\n│   ├── app.ux                app.ux文件。\n│   └── manifest.json         项目配置文件，配置应用图标、页面路由等\n└── jsconfig.json             js 配置文件，用于语法校验\n└── package.json              定义项目需要的各种模块及配置信息", "language": "text", "index": 0}, {"code": "{\n  \"package\": \"com.example.demo\"\n}", "language": "json", "index": 1}, {"code": "{\n  \"name\": \"发票小助手\"\n}", "language": "json", "index": 2}, {"code": "{\n  \"icon\": \"/assets/images/logo.png\"\n}", "language": "json", "index": 3}, {"code": "{\n  \"versionName\": \"1.0\",\n  \"versionCode\": 1\n}", "language": "json", "index": 4}, {"code": "{\n  \"features\": [{ \"name\": \"blueos.communication.network.fetch\" }]\n}", "language": "json", "index": 5}, {"code": "└── src\n    └── Demo                  页面目录，存放各自页面私有的资源文件和组件文件\n        └── index.ux          页面文件，文件名不必与父文件夹相同（推荐index.ux）", "language": "text", "index": 6}, {"code": "{\n  \"router\": {\n    \"entry\": \"Demo\"\n  }\n}", "language": "json", "index": 7}, {"code": "└── src\n    |── Demo                  页面目录，存放各自页面私有的资源文件和组件文件\n    |   └── index.ux          页面文件，文件名不必与父文件夹相同（推荐index.ux）\n    └── Doc\n        └── Layout            页面目录，存放各自页面私有的资源文件和组件文件\n            └── index.ux      页面文件，文件名不必与父文件夹相同（推荐index.ux）", "language": "text", "index": 8}, {"code": "{\n  \"router\": {\n    \"pages\": {\n      \"Demo\": {\n        \"component\": \"index\"\n      },\n      \"Doc/Layout\": {\n        \"component\": \"index\"\n      }\n    }\n  }\n}", "language": "json", "index": 9}], "frontmatter": {"title": "文件组织"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/configuration/intro/", "category": "tutorial", "crawl_time": "2025-11-24T02:22:29.665608", "status": "success", "title": "框架简介", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"框架简介\" style=\"position:relative;\"><a aria-label=\"框架简介 permalink\" class=\"anchor before\" href=\"#%E6%A1%86%E6%9E%B6%E7%AE%80%E4%BB%8B\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>框架简介</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-07-09 21:34:57\">2025-07-09 21:34:57</time></p>\n<p>蓝河应用框架采用了类 web 开发范式，具有学习成本低，开发效率高的特点。框架提供了丰富的 UI 组件与样式，开发者可以因此高效搭建界面。同时框架提供了两套 API 接口，开发者可以按需选择。</p>\n<h2 id=\"数据绑定\" style=\"position:relative;\"><a aria-label=\"数据绑定 permalink\" class=\"anchor before\" href=\"#%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>数据绑定</h2>\n<p>数据绑定可以让数据与视图非常简单地保持同步。当做数据修改的时候，只需要在逻辑层修改数据，视图层就会做相应的更新。数据绑定的具体使用参看<a href=\"/reference/app-service/data-binding/\">数据绑定</a> 。</p>\n<h2 id=\"路由管理\" style=\"position:relative;\"><a aria-label=\"路由管理 permalink\" class=\"anchor before\" href=\"#%E8%B7%AF%E7%94%B1%E7%AE%A1%E7%90%86\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>路由管理</h2>\n<p>框架负责管理整个应用的页面路由，实现页面间的无缝切换，管理每个页面的完整生命周期。开发者需要将页面在 manifest.json 中进行注册，在代码中通过框架提供的接口方法实现页面的切换。具体使用参看<a href=\"/reference/configuration/manifest\">manifest 文件</a>、<a href=\"/api/system/router\">页面路由</a>和<a href=\"/reference/extend/launch-mode\">页面启动模式</a>。</p>\n<h2 id=\"ui-组件\" style=\"position:relative;\"><a aria-label=\"ui 组件 permalink\" class=\"anchor before\" href=\"#ui-%E7%BB%84%E4%BB%B6\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>UI 组件</h2>\n<p>提供了基础、表单，布局/容器、画布、导航、动画、系统风格等类型的一系列组件。通过参看<a href=\"/component/common/rule/\">UI 组件</a>，您可以了 UI 组件解更详细的信息。</p>\n<h2 id=\"api-接口\" style=\"position:relative;\"><a aria-label=\"api 接口 permalink\" class=\"anchor before\" href=\"#api-%E6%8E%A5%E5%8F%A3\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>API 接口</h2>\n<p>蓝河应用提供了 JS API 和 Native API 两种接口，以支撑高效和高性能的开发场景。如果您需要了解更多关于这些开放能力的信息，请移步<a href=\"/api/system/app/\">JS 功能接口</a>与<a href=\"/native/quickstart/introduction/\">Native API</a>进行了解。</p>\n<h2 id=\"生命周期\" style=\"position:relative;\"><a aria-label=\"生命周期 permalink\" class=\"anchor before\" href=\"#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>生命周期</h2>\n<p>生命周期是指在程序运行的过程中，程序从创建、运行到销毁的整个过程。在这个过程中，程序会经历多个状态和阶段，每个阶段都会触发一些特定的回调函数，用于执行相应的操作和处理，这些回调函数被称为生命周期函数。</p>\n<br/>\n<p>蓝河应用提供了自定义组件、页面与应用的生命周期函数，让开发者有机会在特定阶段运行相应的代码。如果您需要了解更多关于生命周期的信息，请移步<a href=\"/api/extend/lifecycle/\">生命周期</a></p></body></html></div>", "content_text": "框架简介\n更新时间：\n2025-07-09 21:34:57\n蓝河应用框架采用了类 web 开发范式，具有学习成本低，开发效率高的特点。框架提供了丰富的 UI 组件与样式，开发者可以因此高效搭建界面。同时框架提供了两套 API 接口，开发者可以按需选择。\n数据绑定\n数据绑定可以让数据与视图非常简单地保持同步。当做数据修改的时候，只需要在逻辑层修改数据，视图层就会做相应的更新。数据绑定的具体使用参看\n数据绑定\n。\n路由管理\n框架负责管理整个应用的页面路由，实现页面间的无缝切换，管理每个页面的完整生命周期。开发者需要将页面在 manifest.json 中进行注册，在代码中通过框架提供的接口方法实现页面的切换。具体使用参看\nmanifest 文件\n、\n页面路由\n和\n页面启动模式\n。\nUI 组件\n提供了基础、表单，布局/容器、画布、导航、动画、系统风格等类型的一系列组件。通过参看\nUI 组件\n，您可以了 UI 组件解更详细的信息。\nAPI 接口\n蓝河应用提供了 JS API 和 Native API 两种接口，以支撑高效和高性能的开发场景。如果您需要了解更多关于这些开放能力的信息，请移步\nJS 功能接口\n与\nNative API\n进行了解。\n生命周期\n生命周期是指在程序运行的过程中，程序从创建、运行到销毁的整个过程。在这个过程中，程序会经历多个状态和阶段，每个阶段都会触发一些特定的回调函数，用于执行相应的操作和处理，这些回调函数被称为生命周期函数。\n蓝河应用提供了自定义组件、页面与应用的生命周期函数，让开发者有机会在特定阶段运行相应的代码。如果您需要了解更多关于生命周期的信息，请移步\n生命周期", "code_examples": [], "frontmatter": {"title": "框架简介"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/configuration/manifest/", "category": "tutorial", "crawl_time": "2025-11-24T02:22:32.492030", "status": "success", "title": "manifest 文件", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"manifest-文件\" style=\"position:relative;\"><a aria-label=\"manifest 文件 permalink\" class=\"anchor before\" href=\"#manifest-%E6%96%87%E4%BB%B6\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>manifest 文件</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-10-09 11:25:10\">2025-10-09 11:25:10</time></p>\n<p>manifest.json 文件中包含了应用描述、接口声明、页面路由信息</p>\n<h2 id=\"manifest\" style=\"position:relative;\"><a aria-label=\"manifest permalink\" class=\"anchor before\" href=\"#manifest\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>manifest</h2>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>默认值</th>\n<th>必填</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>package</td>\n<td>string</td>\n<td>-</td>\n<td>是</td>\n<td>应用包名，<strong>确认与原生应用的包名不一致</strong>，推荐采用 com.company.module 的格式，如：com.example.demo</td>\n</tr>\n<tr>\n<td>name</td>\n<td>string</td>\n<td>-</td>\n<td>是</td>\n<td>应用名称，<strong>6 个汉字以内，与应用商店保存的名称一致</strong>，用于在桌面图标、弹窗等处显示应用名称</td>\n</tr>\n<tr>\n<td>icon</td>\n<td>string</td>\n<td>-</td>\n<td>是</td>\n<td>应用图标，提供 114x114 大小的即可</td>\n</tr>\n<tr>\n<td>versionName</td>\n<td>string</td>\n<td>-</td>\n<td>否</td>\n<td>应用版本名称，如：<code class=\"language-text\">\"1.0\"</code></td>\n</tr>\n<tr>\n<td>versionCode</td>\n<td>number</td>\n<td>-</td>\n<td>是</td>\n<td>应用版本号，从<code class=\"language-text\">1</code>自增，<strong>推荐每次重新上传包时<code class=\"language-text\">versionCode</code>+1</strong></td>\n</tr>\n<tr>\n<td>features</td>\n<td><a href=\"#featureinfo\">FeatureInfo</a>[]</td>\n<td>-</td>\n<td>否</td>\n<td>接口列表，绝大部分接口都需要在这里声明，否则不能调用，详见每个接口的文档说明</td>\n</tr>\n<tr>\n<td>config</td>\n<td><a href=\"#config\">Config</a></td>\n<td>-</td>\n<td>是</td>\n<td>系统配置信息，详见下面说明</td>\n</tr>\n<tr>\n<td>router</td>\n<td><a href=\"#router\">Router</a></td>\n<td>-</td>\n<td>是</td>\n<td>路由信息，详见下面说明</td>\n</tr>\n<tr>\n<td>deviceTypeList</td>\n<td>Array&lt;string&gt;</td>\n<td>watch</td>\n<td>否</td>\n<td>可选值有：<code class=\"language-text\">watch</code>, <code class=\"language-text\">watch-square</code>, <code class=\"language-text\">watch-round</code>, <code class=\"language-text\">tv</code> , <code class=\"language-text\">car</code>, <code class=\"language-text\">phone</code></td>\n</tr>\n<tr>\n<td>display</td>\n<td><a href=\"#display\">Display</a></td>\n<td>-</td>\n<td>否</td>\n<td>UI 显示相关配置，详见下面说明</td>\n</tr>\n<tr>\n<td>permissions</td>\n<td><a href=\"#permissioninfo\">PermissionInfo</a>[]</td>\n<td>-</td>\n<td>否</td>\n<td>权限申请示例:[{ \"name\": \"watch.permission.LOCATION\" }]</td>\n</tr>\n<tr>\n<td>appCategory</td>\n<td><a href=\"#appcategory\">AppCategory</a>[]</td>\n<td>-</td>\n<td>是</td>\n<td>应用类别,可选值详见下文应用类别说明,最多 2 个分类</td>\n</tr>\n<tr>\n<td>customData</td>\n<td>Record&lt;string, string&gt;</td>\n<td>-</td>\n<td>否</td>\n<td>开发者自定义字段，限定不超过 30 个字符，可通过 <code class=\"language-text\">packageManager.getCustomData()</code>方法读取</td>\n</tr>\n<tr>\n<td>distrubuteRules</td>\n<td><a href=\"#distrubuterules\">DistrubuteRules</a></td>\n<td>-</td>\n<td>否</td>\n<td>表示分发规则，定义包对应的细分设备规格的分发策略，以便在应用市场进行云端分发应用包时做精准匹配。该标签可配置的分发策略维度包括 minAPILevel</td>\n</tr>\n<tr>\n<td>widgetProvider</td>\n<td><a href=\"#widgetprovider\">WidgetProvider</a>[]</td>\n<td>-</td>\n<td>否</td>\n<td>注册和生命 widgetProvider，为蓝河智慧服务卡片提供数据</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"appcategory\" style=\"position:relative;\"><a aria-label=\"appcategory permalink\" class=\"anchor before\" href=\"#appcategory\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>AppCategory</h3>\n<p>appCategory 要求开发者必填，如有开发者未填，系统将设置为 ['other']。</p>\n<table>\n<thead>\n<tr>\n<th>取值</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>business</td>\n<td>商业类应用</td>\n</tr>\n<tr>\n<td>education</td>\n<td>教育类应用</td>\n</tr>\n<tr>\n<td>pastime</td>\n<td>娱乐类应用</td>\n</tr>\n<tr>\n<td>finance</td>\n<td>财务类应用</td>\n</tr>\n<tr>\n<td>games</td>\n<td>游戏类应用</td>\n</tr>\n<tr>\n<td>lifestyle</td>\n<td>生活方式类应用</td>\n</tr>\n<tr>\n<td>medical</td>\n<td>医疗类应用</td>\n</tr>\n<tr>\n<td>music</td>\n<td>音乐类应用</td>\n</tr>\n<tr>\n<td>news</td>\n<td>新闻类应用</td>\n</tr>\n<tr>\n<td>photography</td>\n<td>摄影类应用</td>\n</tr>\n<tr>\n<td>reference</td>\n<td>参考资料类应用</td>\n</tr>\n<tr>\n<td>social</td>\n<td>社交类应用</td>\n</tr>\n<tr>\n<td>sports</td>\n<td>体育类应用</td>\n</tr>\n<tr>\n<td>travel</td>\n<td>旅游类应用</td>\n</tr>\n<tr>\n<td>utilities</td>\n<td>实用工具类应用</td>\n</tr>\n<tr>\n<td>video</td>\n<td>视频类应用</td>\n</tr>\n<tr>\n<td>weather</td>\n<td>天气类应用</td>\n</tr>\n<tr>\n<td>navigation</td>\n<td>导航类应用</td>\n</tr>\n<tr>\n<td>book</td>\n<td>书籍类应用</td>\n</tr>\n<tr>\n<td>shopping</td>\n<td>购物类应用</td>\n</tr>\n<tr>\n<td>podcasts</td>\n<td>播客类应用</td>\n</tr>\n<tr>\n<td>audiobooks</td>\n<td>音频书籍类应用</td>\n</tr>\n<tr>\n<td>radio</td>\n<td>电台类应用</td>\n</tr>\n<tr>\n<td>other</td>\n<td>其它类应用</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"featureinfo\" style=\"position:relative;\"><a aria-label=\"featureinfo permalink\" class=\"anchor before\" href=\"#featureinfo\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>FeatureInfo</h3>\n<p>声明应用需要使用的 feature</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>默认值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>name</td>\n<td>string</td>\n<td>-</td>\n<td>feature 名称，可在具体 feature 的说明文档中查阅</td>\n</tr>\n</tbody>\n</table>\n<p><strong>示例：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn0\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"blueos.storage.file\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<h3 id=\"config\" style=\"position:relative;\"><a aria-label=\"config permalink\" class=\"anchor before\" href=\"#config\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>Config</h3>\n<p>用于定义系统配置和全局数据。</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>默认值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>designWidth</td>\n<td>number</td>\n<td>-</td>\n<td>页面设计基准宽度，根据实际设备宽度来缩放元素大小，建议使用 466</td>\n</tr>\n</tbody>\n</table>\n<p><strong>示例：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn1\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"designWidth\"</span><span class=\"token operator\">:</span> <span class=\"token number\">466</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<h3 id=\"router\" style=\"position:relative;\"><a aria-label=\"router permalink\" class=\"anchor before\" href=\"#router\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>Router</h3>\n<p>用于定义页面的组成和相关配置信息，如果页面没有配置路由信息，则在编译打包时跳过。</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>默认值</th>\n<th>必填</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>entry</td>\n<td>string</td>\n<td>-</td>\n<td>是</td>\n<td>首页名称</td>\n</tr>\n<tr>\n<td>pages</td>\n<td>Record&lt;string, <a href=\"#page\">Page</a>&gt;</td>\n<td>-</td>\n<td>是</td>\n<td>页面配置列表，key 值为页面名称（对应页面目录名，例如 Hello 对应'Hello'目录），value 为页面详细配置 page，详见下面说明</td>\n</tr>\n</tbody>\n</table>\n<p><strong>示例：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn2\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"entry\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Demo\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"pages\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"Demo1\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"component\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"index\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"Demo2\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"component\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"index\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn2\">复制代码</div></div>\n<h3 id=\"page\" style=\"position:relative;\"><a aria-label=\"page permalink\" class=\"anchor before\" href=\"#page\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>Page</h3>\n<p>用于定义单个页面路由信息。</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>默认值</th>\n<th>必填</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>component</td>\n<td>string</td>\n<td>-</td>\n<td>是</td>\n<td>页面对应的组件名，与 ux 文件名保持一致，例如'hello' 对应 'hello.ux'，目前仅支持 index.ux</td>\n</tr>\n<tr>\n<td>path</td>\n<td>string</td>\n<td>/&lt;页面名称&gt;</td>\n<td>否</td>\n<td>页面路径，例如“/user”,不填则默认为/&lt;页面名称&gt;。<br/>path 必须唯一,不能和其他 page 的 path 相同。<br/>下面 page 的 path 因为缺失,会被设置为“/Index”：<br/><code class=\"language-text\">\"Index\": {\"component\": \"index\"}</code></td>\n</tr>\n<tr>\n<td>launchMode</td>\n<td><a href=\"#launchmode\">LaunchMode</a></td>\n<td>standard</td>\n<td>否</td>\n<td>声明页面的启动模式</td>\n</tr>\n<tr>\n<td>followHand</td>\n<td>string</td>\n<td>enable</td>\n<td>否</td>\n<td>配置页面是否支持右滑跟手，disable：不支持；enable：支持</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"launchmode\" style=\"position:relative;\"><a aria-label=\"launchmode permalink\" class=\"anchor before\" href=\"#launchmode\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>LaunchMode</h3>\n<p>页面的启动模式</p>\n<table>\n<thead>\n<tr>\n<th>取值</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>singleTask</td>\n<td>每次打开目标页面都会打开已有的目标页面并回调 onRefresh 生命周期函数，清除该页面上打开的其他页面，没有打开过此页面时会创建新的目标页面实例。</td>\n</tr>\n<tr>\n<td>standard</td>\n<td>每次打开新的目标页面（多次打开目标页面地址时会存在多个相同页面）</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"display\" style=\"position:relative;\"><a aria-label=\"display permalink\" class=\"anchor before\" href=\"#display\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>Display</h3>\n<p>用于定义与 UI 显示相关的配置。</p>\n<p>如果在 display 对象下定义以下属性值，则生效范围为此蓝河应用全部页面；</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>默认值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>backgroundColor</td>\n<td>string</td>\n<td>#000</td>\n<td>窗口背景颜色</td>\n</tr>\n</tbody>\n</table>\n<p><strong>示例：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn3\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"backgroundColor\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#ffffff\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn3\">复制代码</div></div>\n<h3 id=\"permissioninfo\" style=\"position:relative;\"><a aria-label=\"permissioninfo permalink\" class=\"anchor before\" href=\"#permissioninfo\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>PermissionInfo</h3>\n<p>权限配置信息</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>默认值</th>\n<th>含义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>name</td>\n<td><a href=\"#permissionname\">PermissionName</a></td>\n<td>-</td>\n<td>权限名</td>\n</tr>\n</tbody>\n</table>\n<p><strong>示例：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn4\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"watch.permission.LOCATION\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn4\">复制代码</div></div>\n<h3 id=\"distrubuterules\" style=\"position:relative;\"><a aria-label=\"distrubuterules permalink\" class=\"anchor before\" href=\"#distrubuterules\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>DistrubuteRules</h3>\n<p>分发规则详细信息</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>默认值</th>\n<th>含义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>minAPILevel</td>\n<td>number</td>\n<td>1</td>\n<td>表示最低的 APILevel 要求，只有支持该 APILevel 的系统版本，才能被分发。</td>\n</tr>\n</tbody>\n</table>\n<p><strong>示例：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn5\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"minAPILevel\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn5\">复制代码</div></div>\n<h3 id=\"widgetprovider\" style=\"position:relative;\"><a aria-label=\"widgetprovider permalink\" class=\"anchor before\" href=\"#widgetprovider\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>WidgetProvider</h3>\n<p>widgetProvider 详细配置信息</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>必填</th>\n<th>默认值</th>\n<th>含义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>name</td>\n<td>string</td>\n<td>是</td>\n<td>-</td>\n<td>widgetProvider 名称</td>\n</tr>\n<tr>\n<td>path</td>\n<td>string</td>\n<td>是</td>\n<td>-</td>\n<td>widgetProvider 的 js 文件路径</td>\n</tr>\n</tbody>\n</table>\n<p><strong>示例：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn6\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"music\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"path\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/widgetProvider/index.js\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn6\">复制代码</div></div>\n<h3 id=\"permissionname\" style=\"position:relative;\"><a aria-label=\"permissionname permalink\" class=\"anchor before\" href=\"#permissionname\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>PermissionName</h3>\n<p>权限名及模块接口信息，该信息也可以在具体的模块文档中查看。</p>\n<table>\n<thead>\n<tr>\n<th>权限名</th>\n<th>模块</th>\n<th>说明</th>\n<th>权限错误码</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>watch.permission.LOCATION</td>\n<td>@blueos.hardware.geolocation</td>\n<td>位置信息</td>\n<td>400 : 拒绝授予权限, 402: 权限错误（未声明该权限）</td>\n</tr>\n<tr>\n<td>watch.permission.STEP_COUNTER</td>\n<td>@blueos.hardware.sensor</td>\n<td>计步传感器</td>\n<td>400 : 拒绝授予权限, 402: 权限错误（未声明该权限）</td>\n</tr>\n<tr>\n<td>watch.permission.DEVICE_INFO</td>\n<td>@blueos.hardware.device</td>\n<td>设备信息</td>\n<td>400: 拒绝授予权限 , 402: 权限错误（未声明该权限）</td>\n</tr>\n<tr>\n<td>watch.permission.RECORD</td>\n<td>@blueos.multimedia.record</td>\n<td>录音</td>\n<td>400: 拒绝授予权限, 401: 敏感权限不能在后台运行, 402: 权限错误（未声明该权限）</td>\n</tr>\n<tr>\n<td>watch.permission.BLUETOOTH</td>\n<td>@blueos.communication.bluetooth.bluetooth<br/>@vivo.bluetooth</td>\n<td>允许使用设备蓝牙</td>\n<td>400 : 拒绝授予权限, 402: 权限错误（未声明该权限）</td>\n</tr>\n<tr>\n<td>watch.permission.READ_HEALTH_DATA</td>\n<td>@blueos.health.health<br/>@vivo.health</td>\n<td>读取健康数据</td>\n<td>400 : 拒绝授予权限, 402: 权限错误（未声明该权限）</td>\n</tr>\n</tbody>\n</table></body></html></div>", "content_text": "manifest 文件\n更新时间：\n2025-10-09 11:25:10\nmanifest.json 文件中包含了应用描述、接口声明、页面路由信息\nmanifest\n属性\n类型\n默认值\n必填\n描述\npackage\nstring\n-\n是\n应用包名，\n确认与原生应用的包名不一致\n，推荐采用 com.company.module 的格式，如：com.example.demo\nname\nstring\n-\n是\n应用名称，\n6 个汉字以内，与应用商店保存的名称一致\n，用于在桌面图标、弹窗等处显示应用名称\nicon\nstring\n-\n是\n应用图标，提供 114x114 大小的即可\nversionName\nstring\n-\n否\n应用版本名称，如：\n\"1.0\"\nversionCode\nnumber\n-\n是\n应用版本号，从\n1\n自增，\n推荐每次重新上传包时\nversionCode\n+1\nfeatures\nFeatureInfo\n[]\n-\n否\n接口列表，绝大部分接口都需要在这里声明，否则不能调用，详见每个接口的文档说明\nconfig\nConfig\n-\n是\n系统配置信息，详见下面说明\nrouter\nRouter\n-\n是\n路由信息，详见下面说明\ndeviceTypeList\nArray<string>\nwatch\n否\n可选值有：\nwatch\n,\nwatch-square\n,\nwatch-round\n,\ntv\n,\ncar\n,\nphone\ndisplay\nDisplay\n-\n否\nUI 显示相关配置，详见下面说明\npermissions\nPermissionInfo\n[]\n-\n否\n权限申请示例:[{ \"name\": \"watch.permission.LOCATION\" }]\nappCategory\nAppCategory\n[]\n-\n是\n应用类别,可选值详见下文应用类别说明,最多 2 个分类\ncustomData\nRecord<string, string>\n-\n否\n开发者自定义字段，限定不超过 30 个字符，可通过\npackageManager.getCustomData()\n方法读取\ndistrubuteRules\nDistrubuteRules\n-\n否\n表示分发规则，定义包对应的细分设备规格的分发策略，以便在应用市场进行云端分发应用包时做精准匹配。该标签可配置的分发策略维度包括 minAPILevel\nwidgetProvider\nWidgetProvider\n[]\n-\n否\n注册和生命 widgetProvider，为蓝河智慧服务卡片提供数据\nAppCategory\nappCategory 要求开发者必填，如有开发者未填，系统将设置为 ['other']。\n取值\n说明\nbusiness\n商业类应用\neducation\n教育类应用\npastime\n娱乐类应用\nfinance\n财务类应用\ngames\n游戏类应用\nlifestyle\n生活方式类应用\nmedical\n医疗类应用\nmusic\n音乐类应用\nnews\n新闻类应用\nphotography\n摄影类应用\nreference\n参考资料类应用\nsocial\n社交类应用\nsports\n体育类应用\ntravel\n旅游类应用\nutilities\n实用工具类应用\nvideo\n视频类应用\nweather\n天气类应用\nnavigation\n导航类应用\nbook\n书籍类应用\nshopping\n购物类应用\npodcasts\n播客类应用\naudiobooks\n音频书籍类应用\nradio\n电台类应用\nother\n其它类应用\nFeatureInfo\n声明应用需要使用的 feature\n属性\n类型\n默认值\n描述\nname\nstring\n-\nfeature 名称，可在具体 feature 的说明文档中查阅\n示例：\n{\n\"name\"\n:\n\"blueos.storage.file\"\n}\n复制代码\nConfig\n用于定义系统配置和全局数据。\n属性\n类型\n默认值\n描述\ndesignWidth\nnumber\n-\n页面设计基准宽度，根据实际设备宽度来缩放元素大小，建议使用 466\n示例：\n{\n\"designWidth\"\n:\n466\n}\n复制代码\nRouter\n用于定义页面的组成和相关配置信息，如果页面没有配置路由信息，则在编译打包时跳过。\n属性\n类型\n默认值\n必填\n描述\nentry\nstring\n-\n是\n首页名称\npages\nRecord<string,\nPage\n>\n-\n是\n页面配置列表，key 值为页面名称（对应页面目录名，例如 Hello 对应'Hello'目录），value 为页面详细配置 page，详见下面说明\n示例：\n{\n\"entry\"\n:\n\"Demo\"\n,\n\"pages\"\n:\n{\n\"Demo1\"\n:\n{\n\"component\"\n:\n\"index\"\n}\n,\n\"Demo2\"\n:\n{\n\"component\"\n:\n\"index\"\n}\n}\n}\n复制代码\nPage\n用于定义单个页面路由信息。\n属性\n类型\n默认值\n必填\n描述\ncomponent\nstring\n-\n是\n页面对应的组件名，与 ux 文件名保持一致，例如'hello' 对应 'hello.ux'，目前仅支持 index.ux\npath\nstring\n/<页面名称>\n否\n页面路径，例如“/user”,不填则默认为/<页面名称>。\npath 必须唯一,不能和其他 page 的 path 相同。\n下面 page 的 path 因为缺失,会被设置为“/Index”：\n\"Index\": {\"component\": \"index\"}\nlaunchMode\nLaunchMode\nstandard\n否\n声明页面的启动模式\nfollowHand\nstring\nenable\n否\n配置页面是否支持右滑跟手，disable：不支持；enable：支持\nLaunchMode\n页面的启动模式\n取值\n说明\nsingleTask\n每次打开目标页面都会打开已有的目标页面并回调 onRefresh 生命周期函数，清除该页面上打开的其他页面，没有打开过此页面时会创建新的目标页面实例。\nstandard\n每次打开新的目标页面（多次打开目标页面地址时会存在多个相同页面）\nDisplay\n用于定义与 UI 显示相关的配置。\n如果在 display 对象下定义以下属性值，则生效范围为此蓝河应用全部页面；\n属性\n类型\n默认值\n描述\nbackgroundColor\nstring\n#000\n窗口背景颜色\n示例：\n{\n\"backgroundColor\"\n:\n\"#ffffff\"\n}\n复制代码\nPermissionInfo\n权限配置信息\n属性\n类型\n默认值\n含义\nname\nPermissionName\n-\n权限名\n示例：\n{\n\"name\"\n:\n\"watch.permission.LOCATION\"\n}\n复制代码\nDistrubuteRules\n分发规则详细信息\n属性\n类型\n默认值\n含义\nminAPILevel\nnumber\n1\n表示最低的 APILevel 要求，只有支持该 APILevel 的系统版本，才能被分发。\n示例：\n{\n\"minAPILevel\"\n:\n2\n}\n复制代码\nWidgetProvider\nwidgetProvider 详细配置信息\n属性\n类型\n必填\n默认值\n含义\nname\nstring\n是\n-\nwidgetProvider 名称\npath\nstring\n是\n-\nwidgetProvider 的 js 文件路径\n示例：\n{\n\"name\"\n:\n\"music\"\n,\n\"path\"\n:\n\"/widgetProvider/index.js\"\n}\n复制代码\nPermissionName\n权限名及模块接口信息，该信息也可以在具体的模块文档中查看。\n权限名\n模块\n说明\n权限错误码\nwatch.permission.LOCATION\n@blueos.hardware.geolocation\n位置信息\n400 : 拒绝授予权限, 402: 权限错误（未声明该权限）\nwatch.permission.STEP_COUNTER\n@blueos.hardware.sensor\n计步传感器\n400 : 拒绝授予权限, 402: 权限错误（未声明该权限）\nwatch.permission.DEVICE_INFO\n@blueos.hardware.device\n设备信息\n400: 拒绝授予权限 , 402: 权限错误（未声明该权限）\nwatch.permission.RECORD\n@blueos.multimedia.record\n录音\n400: 拒绝授予权限, 401: 敏感权限不能在后台运行, 402: 权限错误（未声明该权限）\nwatch.permission.BLUETOOTH\n@blueos.communication.bluetooth.bluetooth\n@vivo.bluetooth\n允许使用设备蓝牙\n400 : 拒绝授予权限, 402: 权限错误（未声明该权限）\nwatch.permission.READ_HEALTH_DATA\n@blueos.health.health\n@vivo.health\n读取健康数据\n400 : 拒绝授予权限, 402: 权限错误（未声明该权限）", "code_examples": [{"code": "{\n  \"name\": \"blueos.storage.file\"\n}", "language": "json", "index": 0}, {"code": "{\n  \"designWidth\": 466\n}", "language": "json", "index": 1}, {"code": "{\n  \"entry\": \"Demo\",\n  \"pages\": {\n    \"Demo1\": {\n      \"component\": \"index\"\n    },\n    \"Demo2\": {\n      \"component\": \"index\"\n    }\n  }\n}", "language": "json", "index": 2}, {"code": "{\n  \"backgroundColor\": \"#ffffff\"\n}", "language": "json", "index": 3}, {"code": "{\n  \"name\": \"watch.permission.LOCATION\"\n}", "language": "json", "index": 4}, {"code": "{\n  \"minAPILevel\": 2\n}", "language": "json", "index": 5}, {"code": "{\n  \"name\": \"music\",\n  \"path\": \"/widgetProvider/index.js\"\n}", "language": "json", "index": 6}], "frontmatter": {"title": "manifest 文件"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/configuration/script/", "category": "tutorial", "crawl_time": "2025-11-24T02:22:34.739611", "status": "success", "title": "javascript 代码", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"javascript-代码\" style=\"position:relative;\"><a aria-label=\"javascript 代码 permalink\" class=\"anchor before\" href=\"#javascript-%E4%BB%A3%E7%A0%81\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>javascript 代码</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-05-20 14:21:12\">2025-05-20 14:21:12</time></p>\n<p>用来定义页面数据和实现生命周期接口</p>\n<h2 id=\"语法\" style=\"position:relative;\"><a aria-label=\"语法 permalink\" class=\"anchor before\" href=\"#%E8%AF%AD%E6%B3%95\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>语法</h2>\n<p>支持 ES6 语法</p>\n<h3 id=\"模块声明\" style=\"position:relative;\"><a aria-label=\"模块声明 permalink\" class=\"anchor before\" href=\"#%E6%A8%A1%E5%9D%97%E5%A3%B0%E6%98%8E\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>模块声明</h3>\n<p>蓝河应用中支持<code class=\"language-text\">ES6</code>的<code class=\"language-text\">module</code>标准，使用<code class=\"language-text\">import</code>引入 js 依赖，同时支持 CommonJs 规范，使用<code class=\"language-text\">require</code>引入 js 依赖（具体参看功能接口部分文档说明）</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><div id=\"copyBtn0\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// 首先在 `manifest.json` 中配置 `fetch` 接口</span>\n\n<span class=\"token comment\">// require引入</span>\n<span class=\"token keyword\">const</span> fetch <span class=\"token operator\">=</span> <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@blueos.communication.network.fetch'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// import引入</span>\n<span class=\"token keyword\">import</span> fetch <span class=\"token keyword\">from</span> <span class=\"token string\">'@blueos.communication.network.fetch'</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<h3 id=\"代码引用\" style=\"position:relative;\"><a aria-label=\"代码引用 permalink\" class=\"anchor before\" href=\"#%E4%BB%A3%E7%A0%81%E5%BC%95%E7%94%A8\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>代码引用</h3>\n<p>JS 代码引用推荐使用 import 来导入, 例如：</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><div id=\"copyBtn1\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> utils <span class=\"token keyword\">from</span> <span class=\"token string\">'../Common/utils.js'</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<p><strong>注意</strong>： 蓝河应用环境不是 node 环境，不要引用 node 原生模块，如 <code class=\"language-text\">import fs from 'fs'</code></p>\n<h2 id=\"对象\" style=\"position:relative;\"><a aria-label=\"对象 permalink\" class=\"anchor before\" href=\"#%E5%AF%B9%E8%B1%A1\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>对象</h2>\n<p>蓝河应用的组件对象提供了一些属性和方法，用于控制组件的渲染、数据处理、组件逻辑等方面</p>\n<h3 id=\"页面级组件对象\" style=\"position:relative;\"><a aria-label=\"页面级组件对象 permalink\" class=\"anchor before\" href=\"#%E9%A1%B5%E9%9D%A2%E7%BA%A7%E7%BB%84%E4%BB%B6%E5%AF%B9%E8%B1%A1\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>页面级组件对象</h3>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>data</td>\n<td>Object | Function</td>\n<td>页面级组件的数据模型，能够转换为 JSON 对象；属性名不能以$或_开头, 不要使用 for, if, show, tid 等保留字<br/>如果是函数，返回结果必须是对象，在组件初始化时会执行函数获取结果作为 data 的值<br/>使用 data 方式声明的属性会被外部数据覆盖，因此存在一定安全风险。</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"示例\" style=\"position:relative;\"><a aria-label=\"示例 permalink\" class=\"anchor before\" href=\"#%E7%A4%BA%E4%BE%8B\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>示例</h4>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><div id=\"copyBtn2\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token operator\">&lt;</span>template<span class=\"token operator\">&gt;</span>\n  <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"wrapper\"</span><span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span>text<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>text<span class=\"token operator\">&gt;</span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">&gt;</span>\n\n<span class=\"token operator\">&lt;</span>script<span class=\"token operator\">&gt;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  data<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    title<span class=\"token operator\">:</span> <span class=\"token string\">'Hello Word'</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">&gt;</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn2\">复制代码</div></div>\n<h3 id=\"自定义组件对象\" style=\"position:relative;\"><a aria-label=\"自定义组件对象 permalink\" class=\"anchor before\" href=\"#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%E5%AF%B9%E8%B1%A1\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>自定义组件对象</h3>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>data</td>\n<td>Object | Function</td>\n<td>自定义组件的数据模型，能够转换为 JSON 对象；属性名不能以$或_开头, 不要使用 for, if, show, tid 等保留字<br/>如果是函数，返回结果必须是对象，在组件初始化时会执行函数获取结果作为 data 的值</td>\n</tr>\n<tr>\n<td>props</td>\n<td>Array | Object</td>\n<td>定义组件外部可传入的所有属性；属性名不能以$或_开头, 不要使用 for, if, show, tid 等保留字<br/>在模板代码中，请使用短横线分隔命名代替驼峰命名。如，属性定义 props: ['propA']，可通过<code class=\"language-text\">&lt;tag prop-a='xx'&gt;</code>方式传递到组件内部</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"示例-1\" style=\"position:relative;\"><a aria-label=\"示例 1 permalink\" class=\"anchor before\" href=\"#%E7%A4%BA%E4%BE%8B-1\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>示例</h4>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><div id=\"copyBtn3\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token operator\">&lt;</span>template<span class=\"token operator\">&gt;</span>\n  <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"wrapper\"</span><span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span>text<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>text<span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span>text<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>text<span class=\"token operator\">&gt;</span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">&gt;</span>\n\n<span class=\"token operator\">&lt;</span>script<span class=\"token operator\">&gt;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  data<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    title<span class=\"token operator\">:</span> <span class=\"token string\">'child component'</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">&gt;</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn3\">复制代码</div></div>\n<p>想了解更多信息可以参考<a href=\"/reference/app-service/parent-child-component-communication/\">自定义组件</a></p>\n<h3 id=\"公共对象\" style=\"position:relative;\"><a aria-label=\"公共对象 permalink\" class=\"anchor before\" href=\"#%E5%85%AC%E5%85%B1%E5%AF%B9%E8%B1%A1\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>公共对象</h3>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>$app</td>\n<td>Object</td>\n<td>应用对象</td>\n</tr>\n<tr>\n<td>$page</td>\n<td>Object</td>\n<td>页面对象</td>\n</tr>\n<tr>\n<td>$valid</td>\n<td>Boolean</td>\n<td>页面对象是否有效</td>\n</tr>\n<tr>\n<td>$device</td>\n<td>{ deviceType: string }</td>\n<td>获取当前设备类型。<code class=\"language-text\">watch-square</code>：方形手表，<code class=\"language-text\">watch-round</code>：圆形手表</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"应用对象\" style=\"position:relative;\"><a aria-label=\"应用对象 permalink\" class=\"anchor before\" href=\"#%E5%BA%94%E7%94%A8%E5%AF%B9%E8%B1%A1\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>应用对象</h3>\n<p>可通过<code class=\"language-text\">$app</code>访问</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>$def</td>\n<td>Object</td>\n<td>使用<code class=\"language-text\">this.$app.$def</code>获取在<code class=\"language-text\">app.ux</code>中暴露的对象</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"方法\" style=\"position:relative;\"><a aria-label=\"方法 permalink\" class=\"anchor before\" href=\"#%E6%96%B9%E6%B3%95\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>方法</h2>\n<h3 id=\"公共方法\" style=\"position:relative;\"><a aria-label=\"公共方法 permalink\" class=\"anchor before\" href=\"#%E5%85%AC%E5%85%B1%E6%96%B9%E6%B3%95\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>公共方法</h3>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>参数</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>$element</td>\n<td>Function</td>\n<td>id: String 组件 id</td>\n<td>获取指定 id 的组件调用来对应的组件方法</td>\n</tr>\n<tr>\n<td>$set</td>\n<td>Function</td>\n<td>key: String 属性名称 <br/> value: Any</td>\n<td>添加数据属性，用法：<code class=\"language-text\">this.$set('key',value)</code></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"事件方法\" style=\"position:relative;\"><a aria-label=\"事件方法 permalink\" class=\"anchor before\" href=\"#%E4%BA%8B%E4%BB%B6%E6%96%B9%E6%B3%95\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>事件方法</h3>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>参数</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>$watch</td>\n<td>Function</td>\n<td>data: String 属性名, 支持'a.b.c'格式，不支持数组索引 <br/> handler: String 事件句柄函数名, 函数的第一个参数为新的属性值，第二个参数为旧的属性值</td>\n<td>动态添加属性/事件绑定，属性必须在 data 中定义，handler 函数必须在<code class=\"language-text\">&lt;script&gt;</code>定义；当属性值发生变化时事件才被触发用法：<code class=\"language-text\">this.$watch('a','handler')</code></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"应用方法\" style=\"position:relative;\"><a aria-label=\"应用方法 permalink\" class=\"anchor before\" href=\"#%E5%BA%94%E7%94%A8%E6%96%B9%E6%B3%95\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>应用方法</h3>\n<p>可通过<code class=\"language-text\">$app</code>访问</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>参数</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>exit</td>\n<td>Function</td>\n<td>无</td>\n<td>退出蓝河应用，结束应用生命周期。<br/>调用方法：<code class=\"language-text\">this.$app.exit()</code></td>\n</tr>\n</tbody>\n</table>\n<p>该 feature 依赖 <code class=\"language-text\">blueos.app.app</code>, 请确保在 <code class=\"language-text\">manifest.json</code> 中引入</p>\n<h3 id=\"页面方法\" style=\"position:relative;\"><a aria-label=\"页面方法 permalink\" class=\"anchor before\" href=\"#%E9%A1%B5%E9%9D%A2%E6%96%B9%E6%B3%95\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>页面方法</h3>\n<p>可通过<code class=\"language-text\">$page</code>访问</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>参数</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>setStopGestureQuit</td>\n<td>Function</td>\n<td>Number</td>\n<td>是否屏蔽手势返回，1 - 屏蔽。0 - 不屏蔽。<br/>调用方法：<code class=\"language-text\">this.$page.setStopGestureQuit(1)</code></td>\n</tr>\n</tbody>\n</table>\n<p>该 feature 依赖 <code class=\"language-text\">blueos.app.router</code>, 请确保在 <code class=\"language-text\">manifest.json</code> 中引入</p></body></html></div>", "content_text": "javascript 代码\n更新时间：\n2025-05-20 14:21:12\n用来定义页面数据和实现生命周期接口\n语法\n支持 ES6 语法\n模块声明\n蓝河应用中支持\nES6\n的\nmodule\n标准，使用\nimport\n引入 js 依赖，同时支持 CommonJs 规范，使用\nrequire\n引入 js 依赖（具体参看功能接口部分文档说明）\n// 首先在 `manifest.json` 中配置 `fetch` 接口\n// require引入\nconst\nfetch\n=\nrequire\n(\n'@blueos.communication.network.fetch'\n)\n// import引入\nimport\nfetch\nfrom\n'@blueos.communication.network.fetch'\n复制代码\n代码引用\nJS 代码引用推荐使用 import 来导入, 例如：\nimport\nutils\nfrom\n'../Common/utils.js'\n复制代码\n注意\n： 蓝河应用环境不是 node 环境，不要引用 node 原生模块，如\nimport fs from 'fs'\n对象\n蓝河应用的组件对象提供了一些属性和方法，用于控制组件的渲染、数据处理、组件逻辑等方面\n页面级组件对象\n属性\n类型\n描述\ndata\nObject | Function\n页面级组件的数据模型，能够转换为 JSON 对象；属性名不能以$或_开头, 不要使用 for, if, show, tid 等保留字\n如果是函数，返回结果必须是对象，在组件初始化时会执行函数获取结果作为 data 的值\n使用 data 方式声明的属性会被外部数据覆盖，因此存在一定安全风险。\n示例\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"wrapper\"\n>\n<\ntext\n>\n{\n{\ntitle\n}\n]\n<\n/\ntext\n>\n<\n/\ndiv\n>\n<\n/\ntemplate\n>\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\ntitle\n:\n'Hello Word'\n}\n,\n}\n<\n/\nscript\n>\n复制代码\n自定义组件对象\n属性\n类型\n描述\ndata\nObject | Function\n自定义组件的数据模型，能够转换为 JSON 对象；属性名不能以$或_开头, 不要使用 for, if, show, tid 等保留字\n如果是函数，返回结果必须是对象，在组件初始化时会执行函数获取结果作为 data 的值\nprops\nArray | Object\n定义组件外部可传入的所有属性；属性名不能以$或_开头, 不要使用 for, if, show, tid 等保留字\n在模板代码中，请使用短横线分隔命名代替驼峰命名。如，属性定义 props: ['propA']，可通过\n<tag prop-a='xx'>\n方式传递到组件内部\n示例\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"wrapper\"\n>\n<\ntext\n>\n{\n{\ntitle\n}\n]\n<\n/\ntext\n>\n<\ntext\n>\n{\n{\nname\n}\n]\n<\n/\ntext\n>\n<\n/\ndiv\n>\n<\n/\ntemplate\n>\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\ntitle\n:\n'child component'\n}\n,\nprops\n:\n[\n'name'\n]\n}\n<\n/\nscript\n>\n复制代码\n想了解更多信息可以参考\n自定义组件\n公共对象\n属性\n类型\n描述\n$app\nObject\n应用对象\n$page\nObject\n页面对象\n$valid\nBoolean\n页面对象是否有效\n$device\n{ deviceType: string }\n获取当前设备类型。\nwatch-square\n：方形手表，\nwatch-round\n：圆形手表\n应用对象\n可通过\n$app\n访问\n属性\n类型\n描述\n$def\nObject\n使用\nthis.$app.$def\n获取在\napp.ux\n中暴露的对象\n方法\n公共方法\n属性\n类型\n参数\n描述\n$element\nFunction\nid: String 组件 id\n获取指定 id 的组件调用来对应的组件方法\n$set\nFunction\nkey: String 属性名称\nvalue: Any\n添加数据属性，用法：\nthis.$set('key',value)\n事件方法\n属性\n类型\n参数\n描述\n$watch\nFunction\ndata: String 属性名, 支持'a.b.c'格式，不支持数组索引\nhandler: String 事件句柄函数名, 函数的第一个参数为新的属性值，第二个参数为旧的属性值\n动态添加属性/事件绑定，属性必须在 data 中定义，handler 函数必须在\n<script>\n定义；当属性值发生变化时事件才被触发用法：\nthis.$watch('a','handler')\n应用方法\n可通过\n$app\n访问\n属性\n类型\n参数\n描述\nexit\nFunction\n无\n退出蓝河应用，结束应用生命周期。\n调用方法：\nthis.$app.exit()\n该 feature 依赖\nblueos.app.app\n, 请确保在\nmanifest.json\n中引入\n页面方法\n可通过\n$page\n访问\n属性\n类型\n参数\n描述\nsetStopGestureQuit\nFunction\nNumber\n是否屏蔽手势返回，1 - 屏蔽。0 - 不屏蔽。\n调用方法：\nthis.$page.setStopGestureQuit(1)\n该 feature 依赖\nblueos.app.router\n, 请确保在\nmanifest.json\n中引入", "code_examples": [{"code": "// 首先在 `manifest.json` 中配置 `fetch` 接口\n\n// require引入\nconst fetch = require('@blueos.communication.network.fetch')\n\n// import引入\nimport fetch from '@blueos.communication.network.fetch'", "language": "ts", "index": 0}, {"code": "import utils from '../Common/utils.js'", "language": "ts", "index": 1}, {"code": "<template>\n  <div class=\"wrapper\">\n    <text>{{title}]</text>\n  </div>\n</template>\n\n<script>\nexport default {\n  data: {\n    title: 'Hello Word'\n  },\n}\n</script>", "language": "ts", "index": 2}, {"code": "<template>\n  <div class=\"wrapper\">\n    <text>{{title}]</text>\n    <text>{{name}]</text>\n  </div>\n</template>\n\n<script>\nexport default {\n  data: {\n    title: 'child component'\n  },\n  props: ['name']\n}\n</script>", "language": "ts", "index": 3}], "frontmatter": {"title": "javascript 代码"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/configuration/style-sheet/", "category": "tutorial", "crawl_time": "2025-11-24T02:22:37.713833", "status": "success", "title": "style 样式", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"style-样式\" style=\"position:relative;\"><a aria-label=\"style 样式 permalink\" class=\"anchor before\" href=\"#style-%E6%A0%B7%E5%BC%8F\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>style 样式</h1><p class=\"update-time\">更新时间：<time datetime=\"2024-10-11 11:55:18\">2024-10-11 11:55:18</time></p>\n<p>用于描述 template 模板的组件样式，决定组件应该如何显示</p>\n<p>样式布局采用 CSS Flexbox（弹性盒）样式，针对部分原生组件，对 CSS 进行了少量的扩充以及修改</p>\n<p>为了解决屏幕适配问题，所有与大小相关的样式（例如 width、font-size）均以基准宽度（默认 750px）为基础，根据实际屏幕宽度进行缩放</p>\n<h2 id=\"文件导入\" style=\"position:relative;\"><a aria-label=\"文件导入 permalink\" class=\"anchor before\" href=\"#%E6%96%87%E4%BB%B6%E5%AF%BC%E5%85%A5\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>文件导入</h2>\n<p>支持@import 导入外部文件</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn0\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token atrule\"><span class=\"token rule\">@import</span> <span class=\"token string\">'./style.css'</span><span class=\"token punctuation\">;</span></span>\n  <span class=\"token selector\">.a</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<h2 id=\"模板内部样式\" style=\"position:relative;\"><a aria-label=\"模板内部样式 permalink\" class=\"anchor before\" href=\"#%E6%A8%A1%E6%9D%BF%E5%86%85%E9%83%A8%E6%A0%B7%E5%BC%8F\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>模板内部样式</h2>\n<p>支持使用 style、class 属性来控制组件的样式</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn1\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- 内联inline --&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #f00<span class=\"token punctuation\">;</span> <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token punctuation\">/&gt;</span></span>\n<span class=\"token comment\">&lt;!-- class声明 --&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>normal append<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<h2 id=\"伪类\" style=\"position:relative;\"><a aria-label=\"伪类 permalink\" class=\"anchor before\" href=\"#%E4%BC%AA%E7%B1%BB\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>伪类</h2>\n<p>css 伪类是选择器中的关键字，用于指定要选择元素的特殊状态。</p>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>支持组件</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>:active</td>\n<td>通用</td>\n<td>表示被用户激活的元素，如：被用户按下的按钮。</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"选择器\" style=\"position:relative;\"><a aria-label=\"选择器 permalink\" class=\"anchor before\" href=\"#%E9%80%89%E6%8B%A9%E5%99%A8\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>选择器</h2>\n<p>支持的选择器有：</p>\n<table>\n<thead>\n<tr>\n<th>选择器</th>\n<th>样例</th>\n<th>样例描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>.class</td>\n<td>.intro</td>\n<td>选择所有拥有 class=\"intro\" 的组件</td>\n</tr>\n<tr>\n<td>#id</td>\n<td>#firstname</td>\n<td>选择拥有 id=\"firstname\" 的组件</td>\n</tr>\n<tr>\n<td>tag</td>\n<td>div</td>\n<td>选择所有 div 组件</td>\n</tr>\n<tr>\n<td>,</td>\n<td>.a, .b</td>\n<td>选择所有 class=“.a” 以及 class=“.b”的组件</td>\n</tr>\n<tr>\n<td>#id .class tag</td>\n<td>.page .body text</td>\n<td>支持 id,class,tag 的后代选择器，也可以使用\"&gt;\"表示直接后代</td>\n</tr>\n</tbody>\n</table>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn2\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token comment\">/* 单个选择器 */</span>\n  <span class=\"token selector\">text</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">.class-abc</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">#idAbc</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">/* 后代选择 */</span>\n  <span class=\"token selector\">.doc-page #testTag div text</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">.doc-page #test-class .class1</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">.doc-page #testId #testIdId1</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">/* 直接后代选择 */</span>\n  <span class=\"token selector\">.doc-page #testTag .flex-column &gt; text</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">/* 同一样式适应多个选择器 */</span>\n  <span class=\"token selector\">.font-text,\n  .font-comma</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn2\">复制代码</div></div>\n<p>注意，选择器声明的变化可能会导致元素重新绘制。为了减少选择器变化引起的 DOM 更新数量，<strong>当前只支持：CSS 声明的多个选择器中最后一个规则的变更对 DOM 的更新</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn3\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{docBody}}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{rowDesc}}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>描述内容<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token selector\">.doc-body .row-desc1</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #ff0000<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">.doc-body .row-desc2</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #0000ff<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">.doc-body2 .row-desc1</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #00ff00<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 页面级组件的数据模型</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">rowDesc</span><span class=\"token operator\">:</span> <span class=\"token string\">'row-desc1'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">docBody</span><span class=\"token operator\">:</span> <span class=\"token string\">'doc-body'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn3\">复制代码</div></div>\n<p>以上的代码示例，当我们把<code class=\"language-text\">rowDesc变量</code>从<code class=\"language-text\">row-desc1</code>变为<code class=\"language-text\">row-desc2</code>时是通知 Native 更新节点样式，但是如果把<code class=\"language-text\">docBody变量</code>从<code class=\"language-text\">doc-body</code>变为<code class=\"language-text\">doc-body2</code>，是不会通知 DOM 更新的。</p>\n<p>因为<code class=\"language-text\">doc-body</code>不是最后一个选择器，非末尾的选择器变更有可能影响很多 DOM 元素，从而影响到渲染性能</p>\n<h2 id=\"选择器优先级\" style=\"position:relative;\"><a aria-label=\"选择器优先级 permalink\" class=\"anchor before\" href=\"#%E9%80%89%E6%8B%A9%E5%99%A8%E4%BC%98%E5%85%88%E7%BA%A7\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>选择器优先级</h2>\n<p>当前样式的选择器的优先级计算保持与浏览器一致，是浏览器 CSS 渲染的一个子集（仅支持：inline, id, class, tag, 后代，直接后代）</p>\n<p>多条 CSS 声明可以匹配到同一个元素 如 div，应用在该元素上的 CSS 声明总体优先级是：inline &gt; #id &gt; .class &gt; tag，这四大类匹配到该元素的多个 CSS 声明，如：<code class=\"language-text\">#page .class-div</code>和<code class=\"language-text\">.page .class-div</code>，其优先级按照各选择器的权值高低之和来比较</p>\n<ul>\n<li>\n<p><code class=\"language-text\">ID选择器</code>（例如: #hello）的权值为 10000</p>\n</li>\n<li>\n<p><code class=\"language-text\">类选择器</code>（例如: .example）的权值为 100</p>\n</li>\n<li>\n<p><code class=\"language-text\">类型选择器</code>（例如: h1）的权值为 1</p>\n</li>\n</ul>\n<p>css 的优先级计算文档也可以查看 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/Specificity\" target=\"_blank\">MDN 文档</a> 入门</p>\n<p>那么以下 CSS 声明计算的权值为：</p>\n<ul>\n<li>\n<p><code class=\"language-text\">#page</code>的权值为：10000</p>\n</li>\n<li>\n<p><code class=\"language-text\">#page .class-div</code>的权值为：10100</p>\n</li>\n<li>\n<p><code class=\"language-text\">#page .class-div text</code>的权值为 10101</p>\n</li>\n<li>\n<p><code class=\"language-text\">#page #body .container div text</code>的权值为：20102</p>\n</li>\n</ul>\n<p>因此：</p>\n<ul>\n<li><code class=\"language-text\">#page .class-div</code>和<code class=\"language-text\">.page .class-div</code>比较，权值不一样，权值高优先级高；如果权值相同，则按照声明顺序：后者覆盖前者</li>\n</ul>\n<h2 id=\"样式预编译\" style=\"position:relative;\"><a aria-label=\"样式预编译 permalink\" class=\"anchor before\" href=\"#%E6%A0%B7%E5%BC%8F%E9%A2%84%E7%BC%96%E8%AF%91\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>样式预编译</h2>\n<p>目前蓝河应用支持<code class=\"language-text\">less</code>与<code class=\"language-text\">sass</code>的预编译，具体教程也可以参考<a href=\"https://less.bootcss.com/\" target=\"_blank\">[这里]</a></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn4\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!--导入外部文件, 代替style内部样式--&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>less<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>./lessFile.less<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token comment\">&lt;!--合并外部文件--&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>less<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token atrule\"><span class=\"token rule\">@import</span> <span class=\"token string\">'./lessFile.less'</span><span class=\"token punctuation\">;</span></span>\n  <span class=\"token selector\">.page-less</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token selector\">#testTag</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token selector\">.less-font-text,\n      .less-font-comma</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 60px<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn4\">复制代码</div></div>\n<h2 id=\"媒体查询\" style=\"position:relative;\"><a aria-label=\"媒体查询 permalink\" class=\"anchor before\" href=\"#%E5%AA%92%E4%BD%93%E6%9F%A5%E8%AF%A2\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>媒体查询</h2>\n<p>媒体查询（Media Query）在移动设备上应用十分广泛，开发者经常需要根据设备的大致类型或者特定的特征和设备参数（例如屏幕分辨率）来修改应用的样式。为此媒体查询提供了如下功能：</p>\n<p>1.针对设备和应用的属性信息，可以设计出相匹配的布局样式。 2.当屏幕发生动态改变时（比如分屏、横竖屏切换），应用页面布局同步更新。</p>\n<h2 id=\"css-语法规则\" style=\"position:relative;\"><a aria-label=\"css 语法规则 permalink\" class=\"anchor before\" href=\"#css-%E8%AF%AD%E6%B3%95%E8%A7%84%E5%88%99\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>CSS 语法规则</h2>\n<p>使用@media 来引入查询语句，具体规则如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><div id=\"copyBtn5\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@media</span> [media-type] [<span class=\"token keyword\">and</span>|<span class=\"token keyword\">not</span>|<span class=\"token keyword\">only</span>] [<span class=\"token punctuation\">(</span>media-feature<span class=\"token punctuation\">)</span>]</span> <span class=\"token punctuation\">{</span>\n  CSS-Code<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn5\">复制代码</div></div>\n<h2 id=\"举例\" style=\"position:relative;\"><a aria-label=\"举例 permalink\" class=\"anchor before\" href=\"#%E4%B8%BE%E4%BE%8B\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>举例：</h2>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"css\"><div id=\"copyBtn6\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token comment\">/* level3的写法, 表示：宽度小于30dp时生效 */</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> 30<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span></span>  <span class=\"token selector\">.box</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">/* level4的写法，比level3更清晰简洁，表示：宽度小于30dp时生效 */</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span>width &lt;= 30<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span></span>  <span class=\"token selector\">.box</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">/* 多条件写法，表示：宽度大于400dp且小于700dp时生效 */</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token atrule\"><span class=\"token rule\">@media</span> screen <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> 400<span class=\"token punctuation\">)</span> <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> 700<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span></span>  <span class=\"token selector\">.box</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">/* 多条件level4写法，表示：宽度大于400dp且小于700dp时生效  */</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span>400 &lt;= width &lt;= 700<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span></span>  <span class=\"token selector\">.box</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">/* 多条件写法，表示：方表和手机上生效 */</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token atrule\"><span class=\"token rule\">@media</span> screen <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span><span class=\"token property\">device</span><span class=\"token punctuation\">:</span> watch-square<span class=\"token punctuation\">)</span> <span class=\"token keyword\">or</span> screen <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span><span class=\"token property\">device</span><span class=\"token punctuation\">:</span> phone<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span></span>  <span class=\"token selector\">.box</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn6\">复制代码</div></div>\n<h2 id=\"页面中引用资源\" style=\"position:relative;\"><a aria-label=\"页面中引用资源 permalink\" class=\"anchor before\" href=\"#%E9%A1%B5%E9%9D%A2%E4%B8%AD%E5%BC%95%E7%94%A8%E8%B5%84%E6%BA%90\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>页面中引用资源</h2>\n<p>通过@import 方式引入媒体查询，具体使用方法如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><div id=\"copyBtn7\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@import</span> url [media-type] [<span class=\"token keyword\">and</span>|<span class=\"token keyword\">not</span>|<span class=\"token keyword\">only</span>] [<span class=\"token punctuation\">(</span>media-feature<span class=\"token punctuation\">)</span> ]<span class=\"token punctuation\">;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn7\">复制代码</div></div>\n<p>例如：</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><div id=\"copyBtn8\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@import</span> <span class=\"token string\">'../common/style.css'</span> screen <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> 600<span class=\"token punctuation\">)</span> <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> 1200<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn8\">复制代码</div></div>\n<h2 id=\"动态修改样式a-id动态修改样式a\" style=\"position:relative;\"><a aria-label=\"动态修改样式a id动态修改样式a permalink\" class=\"anchor before\" href=\"#%E5%8A%A8%E6%80%81%E4%BF%AE%E6%94%B9%E6%A0%B7%E5%BC%8Fa-id%E5%8A%A8%E6%80%81%E4%BF%AE%E6%94%B9%E6%A0%B7%E5%BC%8Fa\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>动态修改样式<a id=\"动态修改样式\"></a></h2>\n<p>动态修改样式有多种方式，包括但不限于以下：</p>\n<ul>\n<li><strong>修改 class</strong>：更新组件的 class 属性中使用的变量的值</li>\n<li><strong>修改内联 style</strong>：更新组件的 style 属性中的某个 CSS 的值</li>\n<li><strong>修改绑定的对象</strong>：通过绑定的对象控制元素的样式</li>\n<li><strong>修改绑定的样式字符串</strong>：通过样式字符串控制元素的样式</li>\n</ul>\n<p><strong>示例如下：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn9\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">flex-direction</span><span class=\"token punctuation\">:</span> column<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 修改 class --&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>normal-text {{ className }}<span class=\"token punctuation\">\"</span></span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\">changeClassName</span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>点击我修改文字颜色<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 修改内联 style --&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token selector\">color:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> textColor <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\">changeInlineStyle</span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>点击我修改文字颜色<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 修改绑定的对象 --&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> styleObj <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\">changeStyleObj</span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>点击我修改文字颜色<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 修改绑定的样式字符串  --&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> styleText <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\">changeStyleText</span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>点击我修改文字颜色<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token selector\">.normal-text</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> bold<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">.text-blue</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #0faeff<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">.text-red</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #f76160<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">className</span><span class=\"token operator\">:</span> <span class=\"token string\">'text-blue'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">textColor</span><span class=\"token operator\">:</span> <span class=\"token string\">'#0faeff'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">styleObj</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> <span class=\"token string\">'#f00'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">styleText</span><span class=\"token operator\">:</span> <span class=\"token string\">'color: #0f0'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">changeClassName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>className <span class=\"token operator\">=</span> <span class=\"token string\">'text-red'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">changeInlineStyle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>textColor <span class=\"token operator\">=</span> <span class=\"token string\">'#f76160'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">changeStyleObj</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>styleObj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> <span class=\"token string\">'#00f'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">changeStyleText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>styleText <span class=\"token operator\">=</span> <span class=\"token string\">'color: #0f0'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn9\">复制代码</div></div>\n<h2 id=\"引入-lessscss-预编译a-id引入lessscss预编译a\" style=\"position:relative;\"><a aria-label=\"引入 lessscss 预编译a id引入lessscss预编译a permalink\" class=\"anchor before\" href=\"#%E5%BC%95%E5%85%A5-lessscss-%E9%A2%84%E7%BC%96%E8%AF%91a-id%E5%BC%95%E5%85%A5lessscss%E9%A2%84%E7%BC%96%E8%AF%91a\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>引入 less/scss 预编译<a id=\"引入less/scss预编译\"></a></h2>\n<h3 id=\"less-篇\" style=\"position:relative;\"><a aria-label=\"less 篇 permalink\" class=\"anchor before\" href=\"#less-%E7%AF%87\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>less 篇</h3>\n<p>less 语法入门请参考<a href=\"https://less.bootcss.com/\" target=\"_blank\">less 中文官网</a> 学习</p>\n<p>使用 less 请先安装相应的类库：<code class=\"language-text\">less</code>、<code class=\"language-text\">less-loader</code>，</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><div id=\"copyBtn10\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> i <span class=\"token function\">less</span> less-loader</code></pre></div><div class=\"warp-content\" id=\"copyBtn10\">复制代码</div></div>\n<p>在<code class=\"language-text\">&lt;style&gt;</code>标签上添加属性<code class=\"language-text\">lang=\"less\"</code></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn11\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tutorial-page<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>less示例!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>less<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token comment\">/* 引入外部less文件 */</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@import</span> <span class=\"token string\">'./style.less'</span><span class=\"token punctuation\">;</span></span>\n  <span class=\"token comment\">/* 使用less */</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn11\">复制代码</div></div>\n<h3 id=\"scss-篇\" style=\"position:relative;\"><a aria-label=\"scss 篇 permalink\" class=\"anchor before\" href=\"#scss-%E7%AF%87\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>scss 篇</h3>\n<p>scss 语法入门请参考 <a href=\"https://www.sasscss.com/\" target=\"_blank\">[scss 中文官网]</a>学习</p>\n<p>使用 scss 请在蓝河应用项目下执行以下命令安装相应的类库：<code class=\"language-text\">node-sass</code>、<code class=\"language-text\">sass-loader</code>，</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><div id=\"copyBtn12\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> i node-sass sass-loader</code></pre></div><div class=\"warp-content\" id=\"copyBtn12\">复制代码</div></div>\n<p>在<code class=\"language-text\">&lt;style&gt;</code>标签上添加属性<code class=\"language-text\">lang=\"scss\"</code> <strong>示例如下：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn13\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tutorial-page<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>less示例!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>scss<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token comment\">/* 引入外部scss文件 */</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@import</span> <span class=\"token string\">'./style.scss'</span><span class=\"token punctuation\">;</span></span>\n  <span class=\"token comment\">/* 使用scss */</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn13\">复制代码</div></div>\n<h2 id=\"媒体类型\" style=\"position:relative;\"><a aria-label=\"媒体类型 permalink\" class=\"anchor before\" href=\"#%E5%AA%92%E4%BD%93%E7%B1%BB%E5%9E%8B\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>媒体类型</h2>\n<table>\n<thead>\n<tr>\n<th>类型</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>screen</td>\n<td>按屏幕相关参数进行媒体查询。</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"媒体逻辑操作\" style=\"position:relative;\"><a aria-label=\"媒体逻辑操作 permalink\" class=\"anchor before\" href=\"#%E5%AA%92%E4%BD%93%E9%80%BB%E8%BE%91%E6%93%8D%E4%BD%9C\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>媒体逻辑操作</h2>\n<p>开发者可以使用逻辑操作符组合多个媒体特性的查询条件，编写复杂的媒体查询。</p>\n<table>\n<thead>\n<tr>\n<th>类型</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>and</td>\n<td>and 运算符用于将多个媒体特性组合到一个单独的媒体查询中，要求每个链接的特性返回 true，则此时查询为真。</td>\n</tr>\n<tr>\n<td>not</td>\n<td>not 运算符用于否定媒体查询，如果查询不返回 false，则返回 true。如果出现在逗号分隔的列表中，它只会否定应用它的特定查询。如果使用 not 运算符，则必须指定显式媒体类型。例如：not screen and (min-width: 400) and (max-width: 700)注：not 关键字不能用于否定单个功能表达式，它会作用于整个媒体查询。</td>\n</tr>\n<tr>\n<td>only</td>\n<td>only 运算符仅用于整个查询匹配应用样式,蓝河应用处理以 only 开头的关键词时将会忽略 only。如果使用 only 运算符，必须指定媒体类型。例如：only screen and (min-width: 400) and (max-width: 700)</td>\n</tr>\n<tr>\n<td>,(逗号)</td>\n<td>逗号分隔效果等同于 or 逻辑操作符。当使用逗号分隔的媒体查询时，如果任何一个媒体查询返回真，样式就是有效的。例如：(orientation: landscape), (height &gt;= 690)。</td>\n</tr>\n<tr>\n<td>or</td>\n<td>or 运算符用于将多个媒体特性比较语句组合到一个媒体查询语句中，只要有其中一条媒体特性比较语句返回 true，查询成立。例如：(min-width: 400) or (max-width: 700)</td>\n</tr>\n<tr>\n<td>&lt;=</td>\n<td>小于等于。例如： (400 &lt;= width)。</td>\n</tr>\n<tr>\n<td>&gt;=</td>\n<td>大于等于。例如： (500 &gt;= height)。</td>\n</tr>\n<tr>\n<td>&lt;</td>\n<td>小于。例如： (400 &lt; width)。</td>\n</tr>\n<tr>\n<td>&gt;</td>\n<td>大于。例如： (500 &gt; height)。</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"媒体特性\" style=\"position:relative;\"><a aria-label=\"媒体特性 permalink\" class=\"anchor before\" href=\"#%E5%AA%92%E4%BD%93%E7%89%B9%E6%80%A7\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>媒体特性</h2>\n<table>\n<thead>\n<tr>\n<th>类型</th>\n<th>说明</th>\n<th>查询时是否带单位</th>\n<th>支持单位</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>height</td>\n<td>定义输出设备中的页面可视区域高度。</td>\n<td>否</td>\n<td>dp</td>\n</tr>\n<tr>\n<td>min-height</td>\n<td>定义输出设备中的页面可视区域最小高度。</td>\n<td>否</td>\n<td>dp</td>\n</tr>\n<tr>\n<td>max-height</td>\n<td>定义输出设备中的页面可视区域最大高度。</td>\n<td>否</td>\n<td>dp</td>\n</tr>\n<tr>\n<td>width</td>\n<td>定义输出设备中的页面可视区域宽度。</td>\n<td>否</td>\n<td>dp</td>\n</tr>\n<tr>\n<td>min-width</td>\n<td>定义输出设备中的页面可视区域最小宽度。</td>\n<td>否</td>\n<td>dp</td>\n</tr>\n<tr>\n<td>max-width</td>\n<td>定义输出设备中的页面可视区域最大宽度。</td>\n<td>否</td>\n<td>dp</td>\n</tr>\n<tr>\n<td>orientation</td>\n<td>定义屏幕处于横屏模式还是竖屏模式，支持属性：portrait（竖屏）、landscape（横屏）。</td>\n<td>否</td>\n<td>无</td>\n</tr>\n<tr>\n<td>aspect-ratio</td>\n<td>定义输出设备中的页面可见区域宽高比，比例值需要按照 x / y 的格式，例如 1 / 2。</td>\n<td>否</td>\n<td>无</td>\n</tr>\n<tr>\n<td>min-aspect-ratio</td>\n<td>定义输出设备中的页面可见区域最小宽高比，参数要求同上。</td>\n<td>否</td>\n<td>无</td>\n</tr>\n<tr>\n<td>max-aspect-ratio</td>\n<td>定义输出设备中的页面可见区域最大宽高比，参数要求同上。</td>\n<td>否</td>\n<td>无</td>\n</tr>\n<tr>\n<td>device</td>\n<td>device 的可选值为:<code class=\"language-text\">phone</code>、<code class=\"language-text\">watch</code>、<code class=\"language-text\">car</code>、<code class=\"language-text\">tv</code>、<code class=\"language-text\">pad</code>、<code class=\"language-text\">watch-square</code>、<code class=\"language-text\">watch-round</code>，<code class=\"language-text\">watch</code> 默认 <code class=\"language-text\">watch-square</code></td>\n<td>否</td>\n<td>无</td>\n</tr>\n</tbody>\n</table></body></html></div>", "content_text": "style 样式\n更新时间：\n2024-10-11 11:55:18\n用于描述 template 模板的组件样式，决定组件应该如何显示\n样式布局采用 CSS Flexbox（弹性盒）样式，针对部分原生组件，对 CSS 进行了少量的扩充以及修改\n为了解决屏幕适配问题，所有与大小相关的样式（例如 width、font-size）均以基准宽度（默认 750px）为基础，根据实际屏幕宽度进行缩放\n文件导入\n支持@import 导入外部文件\n<\nstyle\n>\n@import\n'./style.css'\n;\n.a\n{\n}\n</\nstyle\n>\n复制代码\n模板内部样式\n支持使用 style、class 属性来控制组件的样式\n<!-- 内联inline -->\n<\ndiv\nstyle\n=\n\"\ncolor\n:\n#f00\n;\nmargin\n:\n10px\n;\n\"\n/>\n<!-- class声明 -->\n<\ndiv\nclass\n=\n\"\nnormal append\n\"\n/>\n复制代码\n伪类\ncss 伪类是选择器中的关键字，用于指定要选择元素的特殊状态。\n名称\n支持组件\n描述\n:active\n通用\n表示被用户激活的元素，如：被用户按下的按钮。\n选择器\n支持的选择器有：\n选择器\n样例\n样例描述\n.class\n.intro\n选择所有拥有 class=\"intro\" 的组件\n#id\n#firstname\n选择拥有 id=\"firstname\" 的组件\ntag\ndiv\n选择所有 div 组件\n,\n.a, .b\n选择所有 class=“.a” 以及 class=“.b”的组件\n#id .class tag\n.page .body text\n支持 id,class,tag 的后代选择器，也可以使用\">\"表示直接后代\n<\nstyle\n>\n/* 单个选择器 */\ntext\n{\n}\n.class-abc\n{\n}\n#idAbc\n{\n}\n/* 后代选择 */\n.doc-page #testTag div text\n{\n}\n.doc-page #test-class .class1\n{\n}\n.doc-page #testId #testIdId1\n{\n}\n/* 直接后代选择 */\n.doc-page #testTag .flex-column > text\n{\n}\n/* 同一样式适应多个选择器 */\n.font-text,\n  .font-comma\n{\n}\n</\nstyle\n>\n复制代码\n注意，选择器声明的变化可能会导致元素重新绘制。为了减少选择器变化引起的 DOM 更新数量，\n当前只支持：CSS 声明的多个选择器中最后一个规则的变更对 DOM 的更新\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\n{{docBody}}\n\"\n>\n<\ntext\nclass\n=\n\"\n{{rowDesc}}\n\"\n>\n描述内容\n</\ntext\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nstyle\n>\n.doc-body .row-desc1\n{\ncolor\n:\n#ff0000\n;\n}\n.doc-body .row-desc2\n{\ncolor\n:\n#0000ff\n;\n}\n.doc-body2 .row-desc1\n{\ncolor\n:\n#00ff00\n;\n}\n</\nstyle\n>\n<\nscript\n>\nexport\ndefault\n{\n// 页面级组件的数据模型\ndata\n:\n{\nrowDesc\n:\n'row-desc1'\n,\ndocBody\n:\n'doc-body'\n,\n}\n,\n}\n</\nscript\n>\n复制代码\n以上的代码示例，当我们把\nrowDesc变量\n从\nrow-desc1\n变为\nrow-desc2\n时是通知 Native 更新节点样式，但是如果把\ndocBody变量\n从\ndoc-body\n变为\ndoc-body2\n，是不会通知 DOM 更新的。\n因为\ndoc-body\n不是最后一个选择器，非末尾的选择器变更有可能影响很多 DOM 元素，从而影响到渲染性能\n选择器优先级\n当前样式的选择器的优先级计算保持与浏览器一致，是浏览器 CSS 渲染的一个子集（仅支持：inline, id, class, tag, 后代，直接后代）\n多条 CSS 声明可以匹配到同一个元素 如 div，应用在该元素上的 CSS 声明总体优先级是：inline > #id > .class > tag，这四大类匹配到该元素的多个 CSS 声明，如：\n#page .class-div\n和\n.page .class-div\n，其优先级按照各选择器的权值高低之和来比较\nID选择器\n（例如: #hello）的权值为 10000\n类选择器\n（例如: .example）的权值为 100\n类型选择器\n（例如: h1）的权值为 1\ncss 的优先级计算文档也可以查看\nMDN 文档\n入门\n那么以下 CSS 声明计算的权值为：\n#page\n的权值为：10000\n#page .class-div\n的权值为：10100\n#page .class-div text\n的权值为 10101\n#page #body .container div text\n的权值为：20102\n因此：\n#page .class-div\n和\n.page .class-div\n比较，权值不一样，权值高优先级高；如果权值相同，则按照声明顺序：后者覆盖前者\n样式预编译\n目前蓝河应用支持\nless\n与\nsass\n的预编译，具体教程也可以参考\n[这里]\n<!--导入外部文件, 代替style内部样式-->\n<\nstyle\nlang\n=\n\"\nless\n\"\nsrc\n=\n\"\n./lessFile.less\n\"\n>\n</\nstyle\n>\n<!--合并外部文件-->\n<\nstyle\nlang\n=\n\"\nless\n\"\n>\n@import\n'./lessFile.less'\n;\n.page-less\n{\n#testTag\n{\n.less-font-text,\n      .less-font-comma\n{\nfont-size\n:\n60px\n;\n}\n}\n}\n</\nstyle\n>\n复制代码\n媒体查询\n媒体查询（Media Query）在移动设备上应用十分广泛，开发者经常需要根据设备的大致类型或者特定的特征和设备参数（例如屏幕分辨率）来修改应用的样式。为此媒体查询提供了如下功能：\n1.针对设备和应用的属性信息，可以设计出相匹配的布局样式。 2.当屏幕发生动态改变时（比如分屏、横竖屏切换），应用页面布局同步更新。\nCSS 语法规则\n使用@media 来引入查询语句，具体规则如下：\n@media\n[media-type] [\nand\n|\nnot\n|\nonly\n] [\n(\nmedia-feature\n)\n]\n{\nCSS-Code\n;\n}\n复制代码\n举例：\n/* level3的写法, 表示：宽度小于30dp时生效 */\n@media\n(\nmax-width\n:\n30\n)\n{\n.box\n{\nbackground-color\n:\nred\n;\n}\n}\n/* level4的写法，比level3更清晰简洁，表示：宽度小于30dp时生效 */\n@media\n(\nwidth <= 30\n)\n{\n.box\n{\nbackground-color\n:\nred\n;\n}\n}\n/* 多条件写法，表示：宽度大于400dp且小于700dp时生效 */\n@media\nscreen\nand\n(\nmin-width\n:\n400\n)\nand\n(\nmax-width\n:\n700\n)\n{\n.box\n{\nbackground-color\n:\nred\n;\n}\n}\n/* 多条件level4写法，表示：宽度大于400dp且小于700dp时生效  */\n@media\n(\n400 <= width <= 700\n)\n{\n.box\n{\nbackground-color\n:\nred\n;\n}\n}\n/* 多条件写法，表示：方表和手机上生效 */\n@media\nscreen\nand\n(\ndevice\n:\nwatch-square\n)\nor\nscreen\nand\n(\ndevice\n:\nphone\n)\n{\n.box\n{\nbackground-color\n:\nred\n;\n}\n}\n复制代码\n页面中引用资源\n通过@import 方式引入媒体查询，具体使用方法如下：\n@import\nurl [media-type] [\nand\n|\nnot\n|\nonly\n] [\n(\nmedia-feature\n)\n]\n;\n复制代码\n例如：\n@import\n'../common/style.css'\nscreen\nand\n(\nmin-width\n:\n600\n)\nand\n(\nmax-width\n:\n1200\n)\n;\n复制代码\n动态修改样式\n动态修改样式有多种方式，包括但不限于以下：\n修改 class\n：更新组件的 class 属性中使用的变量的值\n修改内联 style\n：更新组件的 style 属性中的某个 CSS 的值\n修改绑定的对象\n：通过绑定的对象控制元素的样式\n修改绑定的样式字符串\n：通过样式字符串控制元素的样式\n示例如下：\n<\ntemplate\n>\n<\ndiv\nstyle\n=\n\"\nflex-direction\n:\ncolumn\n;\n\"\n>\n<!-- 修改 class -->\n<\ntext\nclass\n=\n\"\nnormal-text {{ className }}\n\"\nonclick\n=\n\"\nchangeClassName\n\"\n>\n点击我修改文字颜色\n</\ntext\n>\n<!-- 修改内联 style -->\n<\ntext\nstyle\n=\n\"\ncolor:\n{\n{\ntextColor\n}\n}\n\"\nonclick\n=\n\"\nchangeInlineStyle\n\"\n>\n点击我修改文字颜色\n</\ntext\n>\n<!-- 修改绑定的对象 -->\n<\ntext\nstyle\n=\n\"\n{\n{\nstyleObj\n}\n}\n\"\nonclick\n=\n\"\nchangeStyleObj\n\"\n>\n点击我修改文字颜色\n</\ntext\n>\n<!-- 修改绑定的样式字符串  -->\n<\ntext\nstyle\n=\n\"\n{\n{\nstyleText\n}\n}\n\"\nonclick\n=\n\"\nchangeStyleText\n\"\n>\n点击我修改文字颜色\n</\ntext\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nstyle\n>\n.normal-text\n{\nfont-weight\n:\nbold\n;\n}\n.text-blue\n{\ncolor\n:\n#0faeff\n;\n}\n.text-red\n{\ncolor\n:\n#f76160\n;\n}\n</\nstyle\n>\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\nclassName\n:\n'text-blue'\n,\ntextColor\n:\n'#0faeff'\n,\nstyleObj\n:\n{\ncolor\n:\n'#f00'\n,\n}\n,\nstyleText\n:\n'color: #0f0'\n,\n}\n,\nchangeClassName\n(\n)\n{\nthis\n.\nclassName\n=\n'text-red'\n}\n,\nchangeInlineStyle\n(\n)\n{\nthis\n.\ntextColor\n=\n'#f76160'\n}\n,\nchangeStyleObj\n(\n)\n{\nthis\n.\nstyleObj\n=\n{\ncolor\n:\n'#00f'\n,\n}\n}\n,\nchangeStyleText\n(\n)\n{\nthis\n.\nstyleText\n=\n'color: #0f0'\n}\n,\n}\n</\nscript\n>\n复制代码\n引入 less/scss 预编译\nless 篇\nless 语法入门请参考\nless 中文官网\n学习\n使用 less 请先安装相应的类库：\nless\n、\nless-loader\n，\nnpm\ni\nless\nless-loader\n复制代码\n在\n<style>\n标签上添加属性\nlang=\"less\"\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\ntutorial-page\n\"\n>\n<\ntext\nid\n=\n\"\ntitle\n\"\n>\nless示例!\n</\ntext\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nstyle\nlang\n=\n\"\nless\n\"\n>\n/* 引入外部less文件 */\n@import\n'./style.less'\n;\n/* 使用less */\n</\nstyle\n>\n复制代码\nscss 篇\nscss 语法入门请参考\n[scss 中文官网]\n学习\n使用 scss 请在蓝河应用项目下执行以下命令安装相应的类库：\nnode-sass\n、\nsass-loader\n，\nnpm\ni node-sass sass-loader\n复制代码\n在\n<style>\n标签上添加属性\nlang=\"scss\"\n示例如下：\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\ntutorial-page\n\"\n>\n<\ntext\nid\n=\n\"\ntitle\n\"\n>\nless示例!\n</\ntext\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nstyle\nlang\n=\n\"\nscss\n\"\n>\n/* 引入外部scss文件 */\n@import\n'./style.scss'\n;\n/* 使用scss */\n</\nstyle\n>\n复制代码\n媒体类型\n类型\n说明\nscreen\n按屏幕相关参数进行媒体查询。\n媒体逻辑操作\n开发者可以使用逻辑操作符组合多个媒体特性的查询条件，编写复杂的媒体查询。\n类型\n说明\nand\nand 运算符用于将多个媒体特性组合到一个单独的媒体查询中，要求每个链接的特性返回 true，则此时查询为真。\nnot\nnot 运算符用于否定媒体查询，如果查询不返回 false，则返回 true。如果出现在逗号分隔的列表中，它只会否定应用它的特定查询。如果使用 not 运算符，则必须指定显式媒体类型。例如：not screen and (min-width: 400) and (max-width: 700)注：not 关键字不能用于否定单个功能表达式，它会作用于整个媒体查询。\nonly\nonly 运算符仅用于整个查询匹配应用样式,蓝河应用处理以 only 开头的关键词时将会忽略 only。如果使用 only 运算符，必须指定媒体类型。例如：only screen and (min-width: 400) and (max-width: 700)\n,(逗号)\n逗号分隔效果等同于 or 逻辑操作符。当使用逗号分隔的媒体查询时，如果任何一个媒体查询返回真，样式就是有效的。例如：(orientation: landscape), (height >= 690)。\nor\nor 运算符用于将多个媒体特性比较语句组合到一个媒体查询语句中，只要有其中一条媒体特性比较语句返回 true，查询成立。例如：(min-width: 400) or (max-width: 700)\n<=\n小于等于。例如： (400 <= width)。\n>=\n大于等于。例如： (500 >= height)。\n<\n小于。例如： (400 < width)。\n>\n大于。例如： (500 > height)。\n媒体特性\n类型\n说明\n查询时是否带单位\n支持单位\nheight\n定义输出设备中的页面可视区域高度。\n否\ndp\nmin-height\n定义输出设备中的页面可视区域最小高度。\n否\ndp\nmax-height\n定义输出设备中的页面可视区域最大高度。\n否\ndp\nwidth\n定义输出设备中的页面可视区域宽度。\n否\ndp\nmin-width\n定义输出设备中的页面可视区域最小宽度。\n否\ndp\nmax-width\n定义输出设备中的页面可视区域最大宽度。\n否\ndp\norientation\n定义屏幕处于横屏模式还是竖屏模式，支持属性：portrait（竖屏）、landscape（横屏）。\n否\n无\naspect-ratio\n定义输出设备中的页面可见区域宽高比，比例值需要按照 x / y 的格式，例如 1 / 2。\n否\n无\nmin-aspect-ratio\n定义输出设备中的页面可见区域最小宽高比，参数要求同上。\n否\n无\nmax-aspect-ratio\n定义输出设备中的页面可见区域最大宽高比，参数要求同上。\n否\n无\ndevice\ndevice 的可选值为:\nphone\n、\nwatch\n、\ncar\n、\ntv\n、\npad\n、\nwatch-square\n、\nwatch-round\n，\nwatch\n默认\nwatch-square\n否\n无", "code_examples": [{"code": "<style>\n  @import './style.css';\n  .a {\n  }\n</style>", "language": "html", "index": 0}, {"code": "<!-- 内联inline -->\n<div style=\"color: #f00; margin: 10px;\" />\n<!-- class声明 -->\n<div class=\"normal append\" />", "language": "html", "index": 1}, {"code": "<style>\n  /* 单个选择器 */\n  text {\n  }\n  .class-abc {\n  }\n  #idAbc {\n  }\n  /* 后代选择 */\n  .doc-page #testTag div text {\n  }\n  .doc-page #test-class .class1 {\n  }\n  .doc-page #testId #testIdId1 {\n  }\n  /* 直接后代选择 */\n  .doc-page #testTag .flex-column > text {\n  }\n  /* 同一样式适应多个选择器 */\n  .font-text,\n  .font-comma {\n  }\n</style>", "language": "html", "index": 2}, {"code": "<template>\n  <div class=\"{{docBody}}\">\n    <text class=\"{{rowDesc}}\">描述内容</text>\n  </div>\n</template>\n\n<style>\n  .doc-body .row-desc1 {\n    color: #ff0000;\n  }\n  .doc-body .row-desc2 {\n    color: #0000ff;\n  }\n  .doc-body2 .row-desc1 {\n    color: #00ff00;\n  }\n</style>\n\n<script>\n  export default {\n    // 页面级组件的数据模型\n    data: {\n      rowDesc: 'row-desc1',\n      docBody: 'doc-body',\n    },\n  }\n</script>", "language": "html", "index": 3}, {"code": "<!--导入外部文件, 代替style内部样式-->\n<style lang=\"less\" src=\"./lessFile.less\"></style>\n\n<!--合并外部文件-->\n<style lang=\"less\">\n  @import './lessFile.less';\n  .page-less {\n    #testTag {\n      .less-font-text,\n      .less-font-comma {\n        font-size: 60px;\n      }\n    }\n  }\n</style>", "language": "html", "index": 4}, {"code": "@media [media-type] [and|not|only] [(media-feature)] {\n  CSS-Code;\n}", "language": "css", "index": 5}, {"code": "/* level3的写法, 表示：宽度小于30dp时生效 */\n@media (max-width: 30) {  .box {\n    background-color: red;\n  }\n}\n/* level4的写法，比level3更清晰简洁，表示：宽度小于30dp时生效 */\n@media (width <= 30) {  .box {\n    background-color: red;\n  }\n}\n/* 多条件写法，表示：宽度大于400dp且小于700dp时生效 */\n@media screen and (min-width: 400) and (max-width: 700) {  .box {\n    background-color: red;\n  }\n}\n/* 多条件level4写法，表示：宽度大于400dp且小于700dp时生效  */\n@media (400 <= width <= 700) {  .box {\n    background-color: red;\n  }\n}\n/* 多条件写法，表示：方表和手机上生效 */\n@media screen and (device: watch-square) or screen and (device: phone) {  .box {\n    background-color: red;\n  }\n}", "language": "css", "index": 6}, {"code": "@import url [media-type] [and|not|only] [(media-feature) ];", "language": "css", "index": 7}, {"code": "@import '../common/style.css' screen and (min-width: 600) and (max-width: 1200);", "language": "css", "index": 8}, {"code": "<template>\n  <div style=\"flex-direction: column;\">\n    <!-- 修改 class -->\n    <text class=\"normal-text {{ className }}\" onclick=\"changeClassName\">点击我修改文字颜色</text>\n    <!-- 修改内联 style -->\n    <text style=\"color: {{ textColor }}\" onclick=\"changeInlineStyle\">点击我修改文字颜色</text>\n    <!-- 修改绑定的对象 -->\n    <text style=\"{{ styleObj }}\" onclick=\"changeStyleObj\">点击我修改文字颜色</text>\n    <!-- 修改绑定的样式字符串  -->\n    <text style=\"{{ styleText }}\" onclick=\"changeStyleText\">点击我修改文字颜色</text>\n  </div>\n</template>\n\n<style>\n  .normal-text {\n    font-weight: bold;\n  }\n  .text-blue {\n    color: #0faeff;\n  }\n  .text-red {\n    color: #f76160;\n  }\n</style>\n\n<script>\n  export default {\n    data: {\n      className: 'text-blue',\n      textColor: '#0faeff',\n      styleObj: {\n        color: '#f00',\n      },\n      styleText: 'color: #0f0',\n    },\n    changeClassName() {\n      this.className = 'text-red'\n    },\n    changeInlineStyle() {\n      this.textColor = '#f76160'\n    },\n    changeStyleObj() {\n      this.styleObj = {\n        color: '#00f',\n      }\n    },\n    changeStyleText() {\n      this.styleText = 'color: #0f0'\n    },\n  }\n</script>", "language": "html", "index": 9}, {"code": "npm i less less-loader", "language": "bash", "index": 10}, {"code": "<template>\n  <div class=\"tutorial-page\">\n    <text id=\"title\">less示例!</text>\n  </div>\n</template>\n<style lang=\"less\">\n  /* 引入外部less文件 */\n  @import './style.less';\n  /* 使用less */\n</style>", "language": "html", "index": 11}, {"code": "npm i node-sass sass-loader", "language": "bash", "index": 12}, {"code": "<template>\n  <div class=\"tutorial-page\">\n    <text id=\"title\">less示例!</text>\n  </div>\n</template>\n\n<style lang=\"scss\">\n  /* 引入外部scss文件 */\n  @import './style.scss';\n  /* 使用scss */\n</style>", "language": "html", "index": 13}], "frontmatter": {"title": "style 样式"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/configuration/ux-file/", "category": "tutorial", "crawl_time": "2025-11-24T02:22:40.104677", "status": "success", "title": "UX 文件", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"ux-文件\" style=\"position:relative;\"><a aria-label=\"ux 文件 permalink\" class=\"anchor before\" href=\"#ux-%E6%96%87%E4%BB%B6\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>UX 文件</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-10-09 11:25:10\">2025-10-09 11:25:10</time></p>\n<p>APP、页面和自定义组件均通过 ux 后缀文件编写，ux 后缀文件由 <a href=\"/reference/configuration/script\">javascript 代码</a>、template 模板和<a href=\"/reference/configuration/style-sheet\">style 样式</a> 3 个部分组成，一个典型的页面 ux 后缀文件示例如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn0\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">import</span> router <span class=\"token keyword\">from</span> <span class=\"token string\">'@blueos.app.router'</span>\n\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 页面级组件的数据模型</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">'示例页面'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">routeDetail</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 跳转到应用内的某个页面，router用法详见：文档-&gt;接口-&gt;页面路由</span>\n      router<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">uri</span><span class=\"token operator\">:</span> <span class=\"token string\">'/DemoDetail'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token comment\">&lt;!-- template里只能有一个根节点 --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>flex flex-col justify-center items-center<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-4xl text-center<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>欢迎打开{{title}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 点击跳转详情页 --&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>w-[550px] h-[86px] mt-[75px] rounded-[43px] bg-[#09ba07] text-3xl text-white<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>跳转到详情页<span class=\"token punctuation\">\"</span></span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\">routeDetail</span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token punctuation\">/&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n<span class=\"token atrule\"><span class=\"token rule\">@tailwind</span> utilities<span class=\"token punctuation\">;</span></span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<h2 id=\"appux\" style=\"position:relative;\"><a aria-label=\"appux permalink\" class=\"anchor before\" href=\"#appux\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>app.ux</h2>\n<p>当前<code class=\"language-text\">app.ux</code>编译后会包含<code class=\"language-text\">manifest配置信息</code>，所以请不要删除<code class=\"language-text\">/**manifest**/</code>的注释内容标识。</p>\n<p>您可以在<code class=\"language-text\">&lt;script&gt;</code>中引入一些公共的脚本，并暴露在当前 app 的对象上，如下所示，然后就可以在页面 ux 文件的 ViewModel 中，通过<code class=\"language-text\">this.$app.$def.util</code>访问。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn1\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token comment\">/**\n   * 应用级别的配置，供所有页面公用\n   */</span>\n  <span class=\"token keyword\">import</span> util <span class=\"token keyword\">from</span> <span class=\"token string\">'./util'</span>\n\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">showMenu</span><span class=\"token operator\">:</span> util<span class=\"token punctuation\">.</span>showMenu<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">createShortcut</span><span class=\"token operator\">:</span> util<span class=\"token punctuation\">.</span>createShortcut<span class=\"token punctuation\">,</span>\n    util<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div></body></html></div>", "content_text": "UX 文件\n更新时间：\n2025-10-09 11:25:10\nAPP、页面和自定义组件均通过 ux 后缀文件编写，ux 后缀文件由\njavascript 代码\n、template 模板和\nstyle 样式\n3 个部分组成，一个典型的页面 ux 后缀文件示例如下：\n<\nscript\n>\nimport\nrouter\nfrom\n'@blueos.app.router'\nexport\ndefault\n{\n// 页面级组件的数据模型\ndata\n:\n{\ntitle\n:\n'示例页面'\n,\n}\n,\nrouteDetail\n(\n)\n{\n// 跳转到应用内的某个页面，router用法详见：文档->接口->页面路由\nrouter\n.\npush\n(\n{\nuri\n:\n'/DemoDetail'\n,\n}\n)\n}\n,\n}\n</\nscript\n>\n<\ntemplate\n>\n<!-- template里只能有一个根节点 -->\n<\ndiv\nclass\n=\n\"\nflex flex-col justify-center items-center\n\"\n>\n<\ntext\nclass\n=\n\"\ntext-4xl text-center\n\"\n>\n欢迎打开{{title}}\n</\ntext\n>\n<!-- 点击跳转详情页 -->\n<\ninput\nclass\n=\n\"\nw-[550px] h-[86px] mt-[75px] rounded-[43px] bg-[#09ba07] text-3xl text-white\n\"\ntype\n=\n\"\nbutton\n\"\nvalue\n=\n\"\n跳转到详情页\n\"\nonclick\n=\n\"\nrouteDetail\n\"\n/>\n</\ndiv\n>\n</\ntemplate\n>\n<\nstyle\n>\n@tailwind\nutilities\n;\n</\nstyle\n>\n复制代码\napp.ux\n当前\napp.ux\n编译后会包含\nmanifest配置信息\n，所以请不要删除\n/**manifest**/\n的注释内容标识。\n您可以在\n<script>\n中引入一些公共的脚本，并暴露在当前 app 的对象上，如下所示，然后就可以在页面 ux 文件的 ViewModel 中，通过\nthis.$app.$def.util\n访问。\n<\nscript\n>\n/**\n   * 应用级别的配置，供所有页面公用\n   */\nimport\nutil\nfrom\n'./util'\nexport\ndefault\n{\nshowMenu\n:\nutil\n.\nshowMenu\n,\ncreateShortcut\n:\nutil\n.\ncreateShortcut\n,\nutil\n,\n}\n</\nscript\n>\n复制代码", "code_examples": [{"code": "<script>\n  import router from '@blueos.app.router'\n\n  export default {\n    // 页面级组件的数据模型\n    data: {\n      title: '示例页面',\n    },\n    routeDetail() {\n      // 跳转到应用内的某个页面，router用法详见：文档->接口->页面路由\n      router.push({\n        uri: '/DemoDetail',\n      })\n    },\n  }\n</script>\n\n<template>\n  <!-- template里只能有一个根节点 -->\n  <div class=\"flex flex-col justify-center items-center\">\n    <text class=\"text-4xl text-center\">欢迎打开{{title}}</text>\n    <!-- 点击跳转详情页 -->\n    <input class=\"w-[550px] h-[86px] mt-[75px] rounded-[43px] bg-[#09ba07] text-3xl text-white\" type=\"button\" value=\"跳转到详情页\" onclick=\"routeDetail\" />\n  </div>\n</template>\n\n<style>\n@tailwind utilities;\n</style>", "language": "html", "index": 0}, {"code": "<script>\n  /**\n   * 应用级别的配置，供所有页面公用\n   */\n  import util from './util'\n\n  export default {\n    showMenu: util.showMenu,\n    createShortcut: util.createShortcut,\n    util,\n  }\n</script>", "language": "html", "index": 1}], "frontmatter": {"title": "UX 文件"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/extend/launch-mode/", "category": "tutorial", "crawl_time": "2025-11-24T02:22:42.445203", "status": "success", "title": "页面启动模式", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"页面启动模式\" style=\"position:relative;\"><a aria-label=\"页面启动模式 permalink\" class=\"anchor before\" href=\"#%E9%A1%B5%E9%9D%A2%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>页面启动模式</h1><p class=\"update-time\">更新时间：<time datetime=\"2023-10-21 10:15:58\">2023-10-21 10:15:58</time></p>\n<p>用于定义页面的启动行为</p>\n<h2 id=\"静态声明\" style=\"position:relative;\"><a aria-label=\"静态声明 permalink\" class=\"anchor before\" href=\"#%E9%9D%99%E6%80%81%E5%A3%B0%E6%98%8E\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>静态声明</h2>\n<p>在 manifest 文件中页面路由信息 router.page 可增加启动模式字段 launchMode，用于声明该页面的启动模式</p>\n<h3 id=\"页面启动模式参数\" style=\"position:relative;\"><a aria-label=\"页面启动模式参数 permalink\" class=\"anchor before\" href=\"#%E9%A1%B5%E9%9D%A2%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F%E5%8F%82%E6%95%B0\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>页面启动模式参数：</h3>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>默认值</th>\n<th>必填</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>launchMode</td>\n<td>String</td>\n<td>standard</td>\n<td>否</td>\n<td>声明页面的启动模式，支持\"singleTask\"，\"standard\"两种页面启动模式。<br/>标识为\"singleTask\"模式时每次打开目标页面都会打开已有的目标页面并回调 onRefresh 生命周期函数，清除该页面上打开的其他页面，没有打开过此页面时会创建新的目标页面实例。<br/>标识为\"standard\"模式时会每次打开新的目标页面（多次打开目标页面地址时会存在多个相同页面）</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"示例\" style=\"position:relative;\"><a aria-label=\"示例 permalink\" class=\"anchor before\" href=\"#%E7%A4%BA%E4%BE%8B\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>示例：</h3>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn0\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"router\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"entry\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"PageA\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"pages\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"PageA\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"launchMode\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"singleTask\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"component\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"index\"</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"PageB\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"launchMode\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"standard\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"component\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"index\"</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"PageC\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"launchMode\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"singleTask\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"component\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"index\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<p>打开页面的行为逻辑：</p>\n<p>若按顺序启动 PageA -&gt; PageB -&gt; PageC -&gt; PageB -&gt; PageC -&gt; PageA</p>\n<ul>\n<li>打开 PageA，首次打开时页面栈为空 <code class=\"language-text\">页面栈为PageA</code></li>\n<li>打开 PageB，PageB 的启动模式为 standard，即在 PageA 之上新建 PageB 的页面实例并显示 <code class=\"language-text\">页面栈为PageA,PageB</code></li>\n<li>打开 PageC，首次打开 PageC，即在 PageB 之上新建 PageC 的页面实例并显示 <code class=\"language-text\">页面栈为PageA,PageB,PageC</code></li>\n<li>打开 PageB，PageB 的启动模式为 standard，即在 PageC 之上新建 PageB 的页面实例并显示 <code class=\"language-text\">页面栈为PageA,PageB,PageC,PageB</code></li>\n<li>打开 PageC，PageC 页面实例已存在，即销毁 PageC 之上的页面实例 PageB，回到之前打开的 PageC 的页面实例并回调此页面生命周期的 onRefresh 函数 <code class=\"language-text\">页面栈为PageA,PageB,PageC</code></li>\n<li>打开 PageA，PageA 页面实例已存在，即销毁 PageA 之上的页面实例 PageB 和 PageC，回到之前打开的 PageA 的页面实例并回调此页面生命周期的 onRefresh 函数 <code class=\"language-text\">页面栈为PageA</code></li>\n</ul></body></html></div>", "content_text": "页面启动模式\n更新时间：\n2023-10-21 10:15:58\n用于定义页面的启动行为\n静态声明\n在 manifest 文件中页面路由信息 router.page 可增加启动模式字段 launchMode，用于声明该页面的启动模式\n页面启动模式参数：\n属性\n类型\n默认值\n必填\n描述\nlaunchMode\nString\nstandard\n否\n声明页面的启动模式，支持\"singleTask\"，\"standard\"两种页面启动模式。\n标识为\"singleTask\"模式时每次打开目标页面都会打开已有的目标页面并回调 onRefresh 生命周期函数，清除该页面上打开的其他页面，没有打开过此页面时会创建新的目标页面实例。\n标识为\"standard\"模式时会每次打开新的目标页面（多次打开目标页面地址时会存在多个相同页面）\n示例：\n{\n\"router\"\n:\n{\n\"entry\"\n:\n\"PageA\"\n,\n\"pages\"\n:\n{\n\"PageA\"\n:\n{\n\"launchMode\"\n:\n\"singleTask\"\n,\n\"component\"\n:\n\"index\"\n}\n,\n\"PageB\"\n:\n{\n\"launchMode\"\n:\n\"standard\"\n,\n\"component\"\n:\n\"index\"\n}\n,\n\"PageC\"\n:\n{\n\"launchMode\"\n:\n\"singleTask\"\n,\n\"component\"\n:\n\"index\"\n}\n}\n}\n}\n复制代码\n打开页面的行为逻辑：\n若按顺序启动 PageA -> PageB -> PageC -> PageB -> PageC -> PageA\n打开 PageA，首次打开时页面栈为空\n页面栈为PageA\n打开 PageB，PageB 的启动模式为 standard，即在 PageA 之上新建 PageB 的页面实例并显示\n页面栈为PageA,PageB\n打开 PageC，首次打开 PageC，即在 PageB 之上新建 PageC 的页面实例并显示\n页面栈为PageA,PageB,PageC\n打开 PageB，PageB 的启动模式为 standard，即在 PageC 之上新建 PageB 的页面实例并显示\n页面栈为PageA,PageB,PageC,PageB\n打开 PageC，PageC 页面实例已存在，即销毁 PageC 之上的页面实例 PageB，回到之前打开的 PageC 的页面实例并回调此页面生命周期的 onRefresh 函数\n页面栈为PageA,PageB,PageC\n打开 PageA，PageA 页面实例已存在，即销毁 PageA 之上的页面实例 PageB 和 PageC，回到之前打开的 PageA 的页面实例并回调此页面生命周期的 onRefresh 函数\n页面栈为PageA", "code_examples": [{"code": "{\n  \"router\": {\n    \"entry\": \"PageA\",\n    \"pages\": {\n      \"PageA\": {\n        \"launchMode\": \"singleTask\",\n        \"component\": \"index\"\n      },\n      \"PageB\": {\n        \"launchMode\": \"standard\",\n        \"component\": \"index\"\n      },\n      \"PageC\": {\n        \"launchMode\": \"singleTask\",\n        \"component\": \"index\"\n      }\n    }\n  }\n}", "language": "json", "index": 0}], "frontmatter": {"title": "页面启动模式"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/extend/mulit/", "category": "tutorial", "crawl_time": "2025-11-24T02:22:44.712360", "status": "success", "title": "屏幕适配", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"屏幕适配\" style=\"position:relative;\"><a aria-label=\"屏幕适配 permalink\" class=\"anchor before\" href=\"#%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>屏幕适配</h1><p class=\"update-time\">更新时间：<time datetime=\"2024-10-11 11:55:18\">2024-10-11 11:55:18</time></p>\n<p>蓝河操作系统支持对不同尺寸和不同形状的屏幕的适配能力。</p>\n<h2 id=\"1等比放缩\" style=\"position:relative;\"><a aria-label=\"1等比放缩 permalink\" class=\"anchor before\" href=\"#1%E7%AD%89%E6%AF%94%E6%94%BE%E7%BC%A9\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>1.等比放缩</h2>\n<p>在 manifest 文件中配置<code class=\"language-text\">designWidth</code>字段的设计基准宽度，蓝河应用便可以自动完成等比缩放。</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn0\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token comment\">// manifest.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"config\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"designWidth\"</span><span class=\"token operator\">:</span> <span class=\"token number\">466</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<p>如上示例中<code class=\"language-text\">designWidth</code>配置为 466px，那么所有的 px 单位使用都会按照 466px 的基准宽度换算。如下示例中显示为宽高都是屏幕宽度一半。</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><div id=\"copyBtn1\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.box</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 233px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 233px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<h2 id=\"2非等比屏幕\" style=\"position:relative;\"><a aria-label=\"2非等比屏幕 permalink\" class=\"anchor before\" href=\"#2%E9%9D%9E%E7%AD%89%E6%AF%94%E5%B1%8F%E5%B9%95\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>2.非等比屏幕</h2>\n<p>在非等比屏幕下，使用等比缩放或许不是开发想要的效果，这里蓝河应用提供了使用绝对宽度的方案来实现您想要的布局。</p>\n<h3 id=\"dp-单位\" style=\"position:relative;\"><a aria-label=\"dp 单位 permalink\" class=\"anchor before\" href=\"#dp-%E5%8D%95%E4%BD%8D\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>dp 单位</h3>\n<p>px 会使布局产生等比缩放效果，而 dp 为绝对的屏幕尺寸。</p>\n<p>以宽度为示例，设备 dp 的计算方法如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><div id=\"copyBtn2\"><pre class=\"language-text\"><code class=\"language-text\">屏幕宽度dp值 = 设备屏幕分辨率的宽度 / DPR</code></pre></div><div class=\"warp-content\" id=\"copyBtn2\">复制代码</div></div>\n<p>上述公式中 DPR 的取值可以查如下表格得到</p>\n<table>\n<thead>\n<tr>\n<th>规格</th>\n<th>取值</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ldpi</td>\n<td>0.75</td>\n<td>低密度屏幕(~120dpi)</td>\n</tr>\n<tr>\n<td>mdpi</td>\n<td>1</td>\n<td>中密度屏幕(~160dpi)(基准密度)</td>\n</tr>\n<tr>\n<td>hdpi</td>\n<td>1.5</td>\n<td>高密度屏幕(~240dpi)</td>\n</tr>\n<tr>\n<td>xhdpi</td>\n<td>2.0</td>\n<td>加高密度屏幕(~320dpi)</td>\n</tr>\n<tr>\n<td>xxhdpi</td>\n<td>3.0</td>\n<td>超超高密度屏幕(~480dpi)</td>\n</tr>\n<tr>\n<td>xxxhdpi</td>\n<td>4.0</td>\n<td>超超超高密度屏幕(~640dpi)</td>\n</tr>\n</tbody>\n</table>\n<p>引入 DP 单位，开发者可以解决 <code class=\"language-text\">非等比例的屏幕适配</code> ;比如:在 DPR 为 3 的小屏幕上希望内容显示较少，设置元素 的宽度 dp 较小，在 DPR 为 3 的大屏幕上希望内容显示较多，设置元素的宽度 dp 较大;该单位可以像 px 单位 一样，用于常⻅的 DOM 元素的宽度、高度上。如下示例</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><div id=\"copyBtn3\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.box</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 50dp<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 50dp<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn3\">复制代码</div></div>\n<h2 id=\"3媒体查询\" style=\"position:relative;\"><a aria-label=\"3媒体查询 permalink\" class=\"anchor before\" href=\"#3%E5%AA%92%E4%BD%93%E6%9F%A5%E8%AF%A2\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>3.媒体查询</h2>\n<p>结合 dp 值，设备类型，开发者可以针对不同屏幕和设备写不同样式。如下示例：</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><div id=\"copyBtn4\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token comment\">/* 方表和手机上生效 */</span>\n<span class=\"token atrule\"><span class=\"token rule\">@media</span> screen <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span><span class=\"token property\">device</span><span class=\"token punctuation\">:</span> watch-square<span class=\"token punctuation\">)</span> <span class=\"token keyword\">or</span> screen <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span><span class=\"token property\">device</span><span class=\"token punctuation\">:</span> phone<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token selector\">.box</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn4\">复制代码</div></div>\n<p>更多内容参考<a href=\"/reference/configuration/style-sheet/#%E5%AA%92%E4%BD%93%E6%9F%A5%E8%AF%A2\">媒体查询</a></p>\n<h2 id=\"4获取设备类型\" style=\"position:relative;\"><a aria-label=\"4获取设备类型 permalink\" class=\"anchor before\" href=\"#4%E8%8E%B7%E5%8F%96%E8%AE%BE%E5%A4%87%E7%B1%BB%E5%9E%8B\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>4.获取设备类型</h2>\n<p>在 template 或者 js 中，如果我们想差异性处理组件和逻辑，可以判断当前的设备类型。</p>\n<p>如下示例，在布局中判断设备类型</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn5\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>header-of-square</span> <span class=\"token attr-name\">if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>$device.deviceType == 'watch-square'<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>header-of-round</span> <span class=\"token attr-name\">elif</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>$device.deviceType == 'watch-round'<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn5\">复制代码</div></div>\n<p>$device 的详细文档异步<a href=\"/reference/configuration/script/#%E5%85%AC%E5%85%B1%E5%AF%B9%E8%B1%A1\">公共对象</a></p>\n<h2 id=\"5-资源管理\" style=\"position:relative;\"><a aria-label=\"5 资源管理 permalink\" class=\"anchor before\" href=\"#5-%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>5. 资源管理</h2>\n<p>资源是与您的应用程序捆绑和部署的文件，它们可以在运行时被访问。常见的资源类型包括静态数据（例如 JSON 文件）、配置文件、以及各种格式的图标和图像（JPEG、WebP、GIF、动画 WebP/GIF、PNG、BMP 和 WBMP）。考虑到您的程序将在各种不同类型和屏幕分辨率的设备上运行，为了追求最佳的用户体验，您需要针对不同的场景、设备和分辨率匹配合适的资源。因此，这里提供了一套匹配规则，使得您的应用可以轻松地适配不同的设备状态。</p>\n<p>在项目的根目录下的 <code class=\"language-text\">resources</code> 文件夹中，您可以根据需要创建 JSON 格式的配置文件。这些文件的命名规则为：前缀“res”开头，用连字符“-”连接，再根据需要添加限定词。默认的配置文件命名为 <code class=\"language-text\">res-defaults.json</code>。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><div id=\"copyBtn6\"><pre class=\"language-text\"><code class=\"language-text\">├── resources\n  │── res-pad.json\n  │── res-watch.json\n  └── res-defaults.json</code></pre></div><div class=\"warp-content\" id=\"copyBtn6\">复制代码</div></div>\n<h3 id=\"51-resources-规则\" style=\"position:relative;\"><a aria-label=\"51 resources 规则 permalink\" class=\"anchor before\" href=\"#51-resources-%E8%A7%84%E5%88%99\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>5.1 resources 规则</h3>\n<p>1、res-watch-分辨率-手表形状-屏幕密度.json，短线连接的为限定词，限定词顺序为：分辨率 &gt; 表盘形状 &gt; 屏幕密度。</p>\n<p>2、其中分辨率、手表形状和屏幕密度如无需要可以不用写</p>\n<p>3、分辨率使用 宽 x 高的形式，x 为英文字母 X 的小写</p>\n<p>4、 屏幕密度的枚举为：<code class=\"language-text\">ldpi</code>/<code class=\"language-text\">mdpi</code>/<code class=\"language-text\">hdpi</code>/<code class=\"language-text\">xhdpi</code>/<code class=\"language-text\">xxhdpi</code>/<code class=\"language-text\">xxxhdpi</code></p>\n<p>5、手表形状枚举值为：<code class=\"language-text\">square</code> 和 <code class=\"language-text\">round</code></p>\n<p>6、 默认资源名为：res-defaults.json</p>\n<p>7、 资源的命中权重大小为：分辨率 (1000) &gt; 表盘形状 (100) &gt; 屏幕密度 (10)</p>\n<p>为方便理解资源的生效顺序，我们可以假设下权重: 分辨率 = 1000, 表盘形状 = 100, 屏幕密度 = 10，以下权重越高则越会优先命中并生效。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn7\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 匹配402x402，方形手表，屏幕密度120</span>\n<span class=\"token comment\">// 权重：1110</span>\nres<span class=\"token operator\">-</span>watch<span class=\"token operator\">-</span>402x402<span class=\"token operator\">-</span>square<span class=\"token operator\">-</span>ldpi<span class=\"token punctuation\">.</span>json\n\n<span class=\"token comment\">// 匹配402x402，圆形手表</span>\n<span class=\"token comment\">// 权重：1100</span>\nres<span class=\"token operator\">-</span>watch<span class=\"token operator\">-</span>402x402<span class=\"token operator\">-</span>round<span class=\"token punctuation\">.</span>json\n\n<span class=\"token comment\">// 匹配方形手表</span>\n<span class=\"token comment\">// 权重：100</span>\nres<span class=\"token operator\">-</span>watch<span class=\"token operator\">-</span>square<span class=\"token punctuation\">.</span>json\n\n<span class=\"token comment\">// 匹配402x402的手表</span>\n<span class=\"token comment\">// 权重：1000</span>\nres<span class=\"token operator\">-</span>watch<span class=\"token operator\">-</span>402x402<span class=\"token punctuation\">.</span>json\n\n<span class=\"token comment\">// 匹配手表密度为120dpi</span>\n<span class=\"token comment\">// 权重：10</span>\nres<span class=\"token operator\">-</span>watch<span class=\"token operator\">-</span>ldpi<span class=\"token punctuation\">.</span>json\n\n<span class=\"token comment\">// 匹配手表</span>\nres<span class=\"token operator\">-</span>watch<span class=\"token punctuation\">.</span>json\n\n<span class=\"token comment\">// 匹配所有资源作为兜底</span>\nres<span class=\"token operator\">-</span>defaults<span class=\"token punctuation\">.</span>json</code></pre></div><div class=\"warp-content\" id=\"copyBtn7\">复制代码</div></div>\n<h3 id=\"52-resources-配置\" style=\"position:relative;\"><a aria-label=\"52 resources 配置 permalink\" class=\"anchor before\" href=\"#52-resources-%E9%85%8D%E7%BD%AE\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>5.2 resources 配置</h3>\n<p>下面示例演示了如何配置 pad 和 watch 两种设备的资源的配置</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn8\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token comment\">// resources/res-pad.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"image\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"logo\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/common/pad/logo.png\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"banner\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/common/pad/banner.png\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"colors\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"headerBackGround\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#ffffff\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn8\">复制代码</div></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn9\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token comment\">// resources/res-watch.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"image\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"logo\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/common/watch/logo.png\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"banner\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/common/watch/banner.png\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"colors\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"headerBackGround\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#fff000\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn9\">复制代码</div></div>\n<h3 id=\"53-res-方法\" style=\"position:relative;\"><a aria-label=\"53 res 方法 permalink\" class=\"anchor before\" href=\"#53-res-%E6%96%B9%E6%B3%95\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>5.3 $res 方法</h3>\n<p>配置完 resources 后就可以使用$res 在 template 和 script 中使用了</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>参数</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>$res</td>\n<td>Function</td>\n<td>path: String 资源路径</td>\n<td>根据开发者配置的 resources 和当前系统的参数返回对应的资源</td>\n</tr>\n</tbody>\n</table>\n<p>示例：</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn10\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token selector\">background-color:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> $<span class=\"token function\">res</span><span class=\"token punctuation\">(</span><span class=\"token string\">'colors.headerBackGround'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>image</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{ $res('image.banner') }}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>image</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$res</span><span class=\"token punctuation\">(</span><span class=\"token string\">'image.banner'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn10\">复制代码</div></div></body></html></div>", "content_text": "屏幕适配\n更新时间：\n2024-10-11 11:55:18\n蓝河操作系统支持对不同尺寸和不同形状的屏幕的适配能力。\n1.等比放缩\n在 manifest 文件中配置\ndesignWidth\n字段的设计基准宽度，蓝河应用便可以自动完成等比缩放。\n// manifest.json\n{\n\"config\"\n:\n{\n\"designWidth\"\n:\n466\n}\n}\n复制代码\n如上示例中\ndesignWidth\n配置为 466px，那么所有的 px 单位使用都会按照 466px 的基准宽度换算。如下示例中显示为宽高都是屏幕宽度一半。\n.box\n{\nwidth\n:\n233px\n;\nheight\n:\n233px\n;\n}\n复制代码\n2.非等比屏幕\n在非等比屏幕下，使用等比缩放或许不是开发想要的效果，这里蓝河应用提供了使用绝对宽度的方案来实现您想要的布局。\ndp 单位\npx 会使布局产生等比缩放效果，而 dp 为绝对的屏幕尺寸。\n以宽度为示例，设备 dp 的计算方法如下：\n屏幕宽度dp值 = 设备屏幕分辨率的宽度 / DPR\n复制代码\n上述公式中 DPR 的取值可以查如下表格得到\n规格\n取值\n说明\nldpi\n0.75\n低密度屏幕(~120dpi)\nmdpi\n1\n中密度屏幕(~160dpi)(基准密度)\nhdpi\n1.5\n高密度屏幕(~240dpi)\nxhdpi\n2.0\n加高密度屏幕(~320dpi)\nxxhdpi\n3.0\n超超高密度屏幕(~480dpi)\nxxxhdpi\n4.0\n超超超高密度屏幕(~640dpi)\n引入 DP 单位，开发者可以解决\n非等比例的屏幕适配\n;比如:在 DPR 为 3 的小屏幕上希望内容显示较少，设置元素 的宽度 dp 较小，在 DPR 为 3 的大屏幕上希望内容显示较多，设置元素的宽度 dp 较大;该单位可以像 px 单位 一样，用于常⻅的 DOM 元素的宽度、高度上。如下示例\n.box\n{\nwidth\n:\n50dp\n;\nheight\n:\n50dp\n;\n}\n复制代码\n3.媒体查询\n结合 dp 值，设备类型，开发者可以针对不同屏幕和设备写不同样式。如下示例：\n/* 方表和手机上生效 */\n@media\nscreen\nand\n(\ndevice\n:\nwatch-square\n)\nor\nscreen\nand\n(\ndevice\n:\nphone\n)\n{\n.box\n{\nbackground-color\n:\nred\n;\n}\n}\n复制代码\n更多内容参考\n媒体查询\n4.获取设备类型\n在 template 或者 js 中，如果我们想差异性处理组件和逻辑，可以判断当前的设备类型。\n如下示例，在布局中判断设备类型\n<\ndiv\n>\n<\nheader-of-square\nif\n=\n\"\n$device.deviceType == 'watch-square'\n\"\n>\n<\nheader-of-round\nelif\n=\n\"\n$device.deviceType == 'watch-round'\n\"\n>\n</\ndiv\n>\n复制代码\n$device 的详细文档异步\n公共对象\n5. 资源管理\n资源是与您的应用程序捆绑和部署的文件，它们可以在运行时被访问。常见的资源类型包括静态数据（例如 JSON 文件）、配置文件、以及各种格式的图标和图像（JPEG、WebP、GIF、动画 WebP/GIF、PNG、BMP 和 WBMP）。考虑到您的程序将在各种不同类型和屏幕分辨率的设备上运行，为了追求最佳的用户体验，您需要针对不同的场景、设备和分辨率匹配合适的资源。因此，这里提供了一套匹配规则，使得您的应用可以轻松地适配不同的设备状态。\n在项目的根目录下的\nresources\n文件夹中，您可以根据需要创建 JSON 格式的配置文件。这些文件的命名规则为：前缀“res”开头，用连字符“-”连接，再根据需要添加限定词。默认的配置文件命名为\nres-defaults.json\n。\n├── resources\n  │── res-pad.json\n  │── res-watch.json\n  └── res-defaults.json\n复制代码\n5.1 resources 规则\n1、res-watch-分辨率-手表形状-屏幕密度.json，短线连接的为限定词，限定词顺序为：分辨率 > 表盘形状 > 屏幕密度。\n2、其中分辨率、手表形状和屏幕密度如无需要可以不用写\n3、分辨率使用 宽 x 高的形式，x 为英文字母 X 的小写\n4、 屏幕密度的枚举为：\nldpi\n/\nmdpi\n/\nhdpi\n/\nxhdpi\n/\nxxhdpi\n/\nxxxhdpi\n5、手表形状枚举值为：\nsquare\n和\nround\n6、 默认资源名为：res-defaults.json\n7、 资源的命中权重大小为：分辨率 (1000) > 表盘形状 (100) > 屏幕密度 (10)\n为方便理解资源的生效顺序，我们可以假设下权重: 分辨率 = 1000, 表盘形状 = 100, 屏幕密度 = 10，以下权重越高则越会优先命中并生效。\n// 匹配402x402，方形手表，屏幕密度120\n// 权重：1110\nres\n-\nwatch\n-\n402x402\n-\nsquare\n-\nldpi\n.\njson\n// 匹配402x402，圆形手表\n// 权重：1100\nres\n-\nwatch\n-\n402x402\n-\nround\n.\njson\n// 匹配方形手表\n// 权重：100\nres\n-\nwatch\n-\nsquare\n.\njson\n// 匹配402x402的手表\n// 权重：1000\nres\n-\nwatch\n-\n402x402\n.\njson\n// 匹配手表密度为120dpi\n// 权重：10\nres\n-\nwatch\n-\nldpi\n.\njson\n// 匹配手表\nres\n-\nwatch\n.\njson\n// 匹配所有资源作为兜底\nres\n-\ndefaults\n.\njson\n复制代码\n5.2 resources 配置\n下面示例演示了如何配置 pad 和 watch 两种设备的资源的配置\n// resources/res-pad.json\n{\n\"image\"\n:\n{\n\"logo\"\n:\n\"/common/pad/logo.png\"\n,\n\"banner\"\n:\n\"/common/pad/banner.png\"\n}\n,\n\"colors\"\n:\n{\n\"headerBackGround\"\n:\n\"#ffffff\"\n}\n}\n复制代码\n// resources/res-watch.json\n{\n\"image\"\n:\n{\n\"logo\"\n:\n\"/common/watch/logo.png\"\n,\n\"banner\"\n:\n\"/common/watch/banner.png\"\n}\n,\n\"colors\"\n:\n{\n\"headerBackGround\"\n:\n\"#fff000\"\n}\n}\n复制代码\n5.3 $res 方法\n配置完 resources 后就可以使用$res 在 template 和 script 中使用了\n属性\n类型\n参数\n描述\n$res\nFunction\npath: String 资源路径\n根据开发者配置的 resources 和当前系统的参数返回对应的资源\n示例：\n<\ntemplate\n>\n<\ndiv\nstyle\n=\n\"\nbackground-color:\n{\n{\n$\nres\n(\n'colors.headerBackGround'\n)\n}\n}\n\"\n>\n<\nimage\nsrc\n=\n\"\n{{ $res('image.banner') }}\n\"\n>\n</\nimage\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nscript\n>\nexport\ndefault\n{\nonInit\n(\n)\n{\nconsole\n.\nlog\n(\nthis\n.\n$res\n(\n'image.banner'\n)\n)\n}\n,\n}\n</\nscript\n>\n复制代码", "code_examples": [{"code": "// manifest.json\n{\n  \"config\": {\n    \"designWidth\": 466\n  }\n}", "language": "json", "index": 0}, {"code": ".box {\n  width: 233px;\n  height: 233px;\n}", "language": "css", "index": 1}, {"code": "屏幕宽度dp值 = 设备屏幕分辨率的宽度 / DPR", "language": "text", "index": 2}, {"code": ".box {\n  width: 50dp;\n  height: 50dp;\n}", "language": "css", "index": 3}, {"code": "/* 方表和手机上生效 */\n@media screen and (device: watch-square) or screen and (device: phone) {\n  .box {\n    background-color: red;\n  }\n}", "language": "css", "index": 4}, {"code": "<div>\n  <header-of-square if=\"$device.deviceType == 'watch-square'\">\n  <header-of-round elif=\"$device.deviceType == 'watch-round'\">\n</div>", "language": "html", "index": 5}, {"code": "├── resources\n  │── res-pad.json\n  │── res-watch.json\n  └── res-defaults.json", "language": "text", "index": 6}, {"code": "// 匹配402x402，方形手表，屏幕密度120\n// 权重：1110\nres-watch-402x402-square-ldpi.json\n\n// 匹配402x402，圆形手表\n// 权重：1100\nres-watch-402x402-round.json\n\n// 匹配方形手表\n// 权重：100\nres-watch-square.json\n\n// 匹配402x402的手表\n// 权重：1000\nres-watch-402x402.json\n\n// 匹配手表密度为120dpi\n// 权重：10\nres-watch-ldpi.json\n\n// 匹配手表\nres-watch.json\n\n// 匹配所有资源作为兜底\nres-defaults.json", "language": "js", "index": 7}, {"code": "// resources/res-pad.json\n{\n  \"image\": {\n    \"logo\": \"/common/pad/logo.png\",\n    \"banner\": \"/common/pad/banner.png\"\n  },\n  \"colors\": {\n    \"headerBackGround\": \"#ffffff\"\n  }\n}", "language": "json", "index": 8}, {"code": "// resources/res-watch.json\n{\n  \"image\": {\n    \"logo\": \"/common/watch/logo.png\",\n    \"banner\": \"/common/watch/banner.png\"\n  },\n  \"colors\": {\n    \"headerBackGround\": \"#fff000\"\n  }\n}", "language": "json", "index": 9}, {"code": "<template>\n  <div style=\"background-color: {{ $res('colors.headerBackGround') }}\">\n    <image src=\"{{ $res('image.banner') }}\"></image>\n  </div>\n</template>\n<script>\n  export default {\n    onInit() {\n      console.log(this.$res('image.banner'))\n    },\n  }\n</script>", "language": "html", "index": 10}], "frontmatter": {"title": "屏幕适配"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/extend/resident/", "category": "tutorial", "crawl_time": "2025-11-24T02:22:47.558819", "status": "success", "title": "后台运行", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"后台运行\" style=\"position:relative;\"><a aria-label=\"后台运行 permalink\" class=\"anchor before\" href=\"#%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>后台运行</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-05-16 10:47:50\">2025-05-16 10:47:50</time></p>\n<h2 id=\"概述\" style=\"position:relative;\"><a aria-label=\"概述 permalink\" class=\"anchor before\" href=\"#%E6%A6%82%E8%BF%B0\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>概述</h2>\n<p>为了节省系统资源，通常情况下，应用切换到后台后将会暂停运行，等到再次切换回前台时继续运行。但音乐/运动等类型的应用， 退到后台后可能仍然需要继续运行，为满足此类需求，加入了对后台运行的支持。</p>\n<h3 id=\"后台运行模式的工作原理如下\" style=\"position:relative;\"><a aria-label=\"后台运行模式的工作原理如下 permalink\" class=\"anchor before\" href=\"#%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E5%A6%82%E4%B8%8B\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>后台运行模式的工作原理如下:</h3>\n<p>在应用切换到后台时，系统将会检查是否满足后台运行的条件，如果满足，应用将继续运行，否则将被暂停。此条件包括：</p>\n<ul>\n<li>\n<p>manifest.json 中声明了后台运行接口</p>\n</li>\n<li>\n<p>当前至少有一个（已在 manifest.json 中声明的）后台运行接口正在运行</p>\n</li>\n</ul>\n<p>处于后台运行中的应用，如果所有后台运行接口均运行结束，系统将会启动倒计时。倒计时结束后，如果仍未有后台运行接口被调用， 应用将会退出后台运行模式，暂停运行。</p>\n<h3 id=\"实践建议\" style=\"position:relative;\"><a aria-label=\"实践建议 permalink\" class=\"anchor before\" href=\"#%E5%AE%9E%E8%B7%B5%E5%BB%BA%E8%AE%AE\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>实践建议:</h3>\n<ul>\n<li>\n<p>后台运行需要消耗较多的系统资源，应用需要根据自身需求审慎使用。针对申请后台运行的应用，上线审核时将会审核其后台运行的需求是否合理。</p>\n</li>\n<li>\n<p>后台运行接口的导入和后台执行的工作放到 app.ux 中，而不是放到页面中，以免避免页面切换和销毁的影响。</p>\n</li>\n</ul>\n<h3 id=\"配置方法\" style=\"position:relative;\"><a aria-label=\"配置方法 permalink\" class=\"anchor before\" href=\"#%E9%85%8D%E7%BD%AE%E6%96%B9%E6%B3%95\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>配置方法</h3>\n<p>manifest.json 中声明所需的后台运行接口。后台运行接口及后台运行条件包括：</p>\n<table>\n<thead>\n<tr>\n<th>模块</th>\n<th>后台运行条件</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>blueos.multimedia.audio</td>\n<td>音频播放</td>\n</tr>\n<tr>\n<td>blueos.multimedia.record</td>\n<td>录音</td>\n</tr>\n<tr>\n<td>blueos.multimedia.media</td>\n<td>音频播放/录音</td>\n</tr>\n<tr>\n<td>blueos.communication.network.request</td>\n<td>上传下载</td>\n</tr>\n<tr>\n<td>blueos.hardware.geolocation</td>\n<td>定位</td>\n</tr>\n<tr>\n<td>blueos.bluetooth.ble</td>\n<td>蓝牙连接</td>\n</tr>\n</tbody>\n</table>\n<p><strong>使用示例：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn0\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"package\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"com.demo.sample\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"config\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"logLevel\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"trace\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"background\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"features\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token string\">\"blueos.multimedia.audio\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"blueos.multimedia.media\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"blueos.multimedia.record\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"blueos.communication.network.request\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"blueos.hardware.geolocation\"</span>\n      <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div></body></html></div>", "content_text": "后台运行\n更新时间：\n2025-05-16 10:47:50\n概述\n为了节省系统资源，通常情况下，应用切换到后台后将会暂停运行，等到再次切换回前台时继续运行。但音乐/运动等类型的应用， 退到后台后可能仍然需要继续运行，为满足此类需求，加入了对后台运行的支持。\n后台运行模式的工作原理如下:\n在应用切换到后台时，系统将会检查是否满足后台运行的条件，如果满足，应用将继续运行，否则将被暂停。此条件包括：\nmanifest.json 中声明了后台运行接口\n当前至少有一个（已在 manifest.json 中声明的）后台运行接口正在运行\n处于后台运行中的应用，如果所有后台运行接口均运行结束，系统将会启动倒计时。倒计时结束后，如果仍未有后台运行接口被调用， 应用将会退出后台运行模式，暂停运行。\n实践建议:\n后台运行需要消耗较多的系统资源，应用需要根据自身需求审慎使用。针对申请后台运行的应用，上线审核时将会审核其后台运行的需求是否合理。\n后台运行接口的导入和后台执行的工作放到 app.ux 中，而不是放到页面中，以免避免页面切换和销毁的影响。\n配置方法\nmanifest.json 中声明所需的后台运行接口。后台运行接口及后台运行条件包括：\n模块\n后台运行条件\nblueos.multimedia.audio\n音频播放\nblueos.multimedia.record\n录音\nblueos.multimedia.media\n音频播放/录音\nblueos.communication.network.request\n上传下载\nblueos.hardware.geolocation\n定位\nblueos.bluetooth.ble\n蓝牙连接\n使用示例：\n{\n\"package\"\n:\n\"com.demo.sample\"\n,\n\"config\"\n:\n{\n\"logLevel\"\n:\n\"trace\"\n,\n\"background\"\n:\n{\n\"features\"\n:\n[\n\"blueos.multimedia.audio\"\n,\n\"blueos.multimedia.media\"\n,\n\"blueos.multimedia.record\"\n,\n\"blueos.communication.network.request\"\n,\n\"blueos.hardware.geolocation\"\n]\n}\n}\n}\n复制代码", "code_examples": [{"code": "{\n  \"package\": \"com.demo.sample\",\n  \"config\": {\n    \"logLevel\": \"trace\",\n    \"background\": {\n      \"features\": [\n        \"blueos.multimedia.audio\",\n        \"blueos.multimedia.media\",\n        \"blueos.multimedia.record\",\n        \"blueos.communication.network.request\",\n        \"blueos.hardware.geolocation\"\n      ]\n    }\n  }\n}", "language": "json", "index": 0}], "frontmatter": {"title": "后台运行"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/extend/watchface/", "category": "tutorial", "crawl_time": "2025-11-24T02:22:49.731817", "status": "success", "title": "表盘", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"表盘\" style=\"position:relative;\"><a aria-label=\"表盘 permalink\" class=\"anchor before\" href=\"#%E8%A1%A8%E7%9B%98\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>表盘</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-10-09 11:25:10\">2025-10-09 11:25:10</time></p>\n<h2 id=\"概述\" style=\"position:relative;\"><a aria-label=\"概述 permalink\" class=\"anchor before\" href=\"#%E6%A6%82%E8%BF%B0\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>概述</h2>\n<p>表盘指默认开机首屏的界面，可分为指针表盘和数字表盘，除了查看时间，表盘还可以给用户提供展示计步、心率、电量、天气等关键信息。</p>\n<p>系统会内置一些表盘，同时也支持第三方开发，用户可以根据喜好通过长按切换选择表盘。</p>\n<h2 id=\"表盘项目结构\" style=\"position:relative;\"><a aria-label=\"表盘项目结构 permalink\" class=\"anchor before\" href=\"#%E8%A1%A8%E7%9B%98%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>表盘项目结构</h2>\n<p>一个表盘项目包含：描述项目配置信息的<a href=\"/reference/configuration/manifest\">manifest 文件</a>，一个描述表盘界面的<a href=\"/reference/configuration/ux-file\">ux 文件</a>，以及引用的图片资源文件，典型示例如下：</p>\n<p>应用根目录</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><div id=\"copyBtn0\"><pre class=\"language-text\"><code class=\"language-text\">.\n├── README.md\n├── package.json\n├── sign\n│   ├── certificate.pem\n│   └── private.pem\n└── src\n    ├── app.ux\n    ├── manifest.json\n    └── watch3000\n        ├── assets\n        │   ├── aaa.png\n        │   └── bg.png\n        ├── edit.ux\n        └── index.ux</code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<h2 id=\"manifest-文件\" style=\"position:relative;\"><a aria-label=\"manifest 文件 permalink\" class=\"anchor before\" href=\"#manifest-%E6%96%87%E4%BB%B6\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>manifest 文件</h2>\n<p>manifest.json 文件中包含了表盘信息描述、接口声明等</p>\n<h3 id=\"manifest\" style=\"position:relative;\"><a aria-label=\"manifest permalink\" class=\"anchor before\" href=\"#manifest\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>manifest</h3>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>默认值</th>\n<th>必填</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>package</td>\n<td>String</td>\n<td>-</td>\n<td>是</td>\n<td>表盘包名，<strong>确认与原生应用的包名不一致</strong>，包名须保证唯一，推荐采用 com.company.watch 的格式，如：com.company.watch.demo</td>\n</tr>\n<tr>\n<td>versionName</td>\n<td>String</td>\n<td>-</td>\n<td>否</td>\n<td>表盘版本名称，如：<code class=\"language-text\">\"1.0\"</code></td>\n</tr>\n<tr>\n<td>versionCode</td>\n<td>Integer</td>\n<td>-</td>\n<td>是</td>\n<td>表盘版本号，从<code class=\"language-text\">1</code>自增，<strong>推荐每次重新上传包时<code class=\"language-text\">versionCode</code>+1</strong></td>\n</tr>\n<tr>\n<td>config</td>\n<td>Object</td>\n<td>-</td>\n<td>是</td>\n<td>系统配置信息，详见下面说明</td>\n</tr>\n<tr>\n<td>router</td>\n<td>Object</td>\n<td>-</td>\n<td>是</td>\n<td>路由信息，详见下面说明</td>\n</tr>\n<tr>\n<td>deviceTypeList</td>\n<td>Array&lt;String&gt;</td>\n<td>watch</td>\n<td>否</td>\n<td>可选值有：<code class=\"language-text\">watch</code>, <code class=\"language-text\">watch-square</code>, <code class=\"language-text\">watch-round</code>, <code class=\"language-text\">tv</code> , <code class=\"language-text\">car</code>, <code class=\"language-text\">phone</code></td>\n</tr>\n<tr>\n<td>customData</td>\n<td>Record&lt;string, string&gt;</td>\n<td>-</td>\n<td>否</td>\n<td>开发者自定义字段，限定不超过 30 个字符，可通过 <code class=\"language-text\">packageManager.getCustomData()</code>方法读取</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"config\" style=\"position:relative;\"><a aria-label=\"config permalink\" class=\"anchor before\" href=\"#config\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>config</h3>\n<p>用于定义系统配置和全局数据。</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>默认值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>designWidth</td>\n<td>Integer</td>\n<td>466</td>\n<td>页面设计基准宽度，根据实际设备宽度来缩放元素大小</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"router\" style=\"position:relative;\"><a aria-label=\"router permalink\" class=\"anchor before\" href=\"#router\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>router</h3>\n<p>用于定义页面的组成和相关配置信息，如果页面没有配置路由信息，则在编译打包时跳过。</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>默认值</th>\n<th>必填</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>watchfaces</td>\n<td>Object</td>\n<td>-</td>\n<td>是</td>\n<td>页面配置列表，key 值为表盘目录（命名为<strong>watch+表盘 id</strong>，对应表盘目录名，例如表盘 id 为 3000，则 key 为 <code class=\"language-text\">watch3000</code>， 对应 <code class=\"language-text\">watch3000</code> 目录），value 为该表盘详细配置 ，详见下面说明</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"routerwatchfaceswatchpath\" style=\"position:relative;\"><a aria-label=\"routerwatchfaceswatchpath permalink\" class=\"anchor before\" href=\"#routerwatchfaceswatchpath\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>router.watchfaces[watchPath]</h4>\n<p>用于定义单个表盘页面信息。</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>默认值</th>\n<th>必填</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>id</td>\n<td>Integer</td>\n<td>-</td>\n<td>是</td>\n<td>表盘唯一标识，由服务端生成</td>\n</tr>\n<tr>\n<td>name</td>\n<td>String</td>\n<td>-</td>\n<td>是</td>\n<td>表盘名称，用于在表盘商店、切换选择等显示的名称</td>\n</tr>\n<tr>\n<td>component</td>\n<td>String</td>\n<td>-</td>\n<td>是</td>\n<td>表盘对应组件名，与 ux 文件名保持一致，例如'index' 对应 'index.ux'</td>\n</tr>\n<tr>\n<td>edit</td>\n<td>String</td>\n<td>''</td>\n<td>否</td>\n<td>为空字符串 <code class=\"language-text\">''</code> 时，表盘为不可编辑表盘；为非空字符串值时，代表表盘目录下编辑表盘页面的路由名称</td>\n</tr>\n<tr>\n<td>features</td>\n<td>Array</td>\n<td>-</td>\n<td>否</td>\n<td>表盘用到的 features 全部在此配置，注意与蓝河应用的配置区别</td>\n</tr>\n<tr>\n<td>params</td>\n<td>Object</td>\n<td>-</td>\n<td>是</td>\n<td>表盘参数，详见下面说明</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"params\" style=\"position:relative;\"><a aria-label=\"params permalink\" class=\"anchor before\" href=\"#params\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>params</h5>\n<p>表盘特有参数，用于表盘框架加载表盘和展示列表。</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>默认值</th>\n<th>必填</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>previewImage</td>\n<td>[String]</td>\n<td>-</td>\n<td>是</td>\n<td>字符串数组，数组每一项代表预览图片路径，用于在表盘商店、切换选择等显示的预览图，预览图片的路径格式为：<code class=\"language-text\">local://包名/path</code></td>\n</tr>\n<tr>\n<td>hpw</td>\n<td>Integer</td>\n<td>-</td>\n<td>否</td>\n<td>高功耗提醒，0-无高功耗提醒，1-需要高功耗提醒，默认为 0</td>\n</tr>\n</tbody>\n</table>\n<p>示例:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn1\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"package\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"com.vivo.watch.sample\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"versionName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"versionCode\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"config\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"designWidth\"</span><span class=\"token operator\">:</span> <span class=\"token number\">466</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"router\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"watchfaces\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"watch3000\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"表盘示例\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"component\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"index\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"edit\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"edit\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"features\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"blueos.app.router\"</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"params\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">\"previewImage\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"assets/aaa.png\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"hpw\"</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"customData\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token property\">\"key1\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"value1\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"key2\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"value2\"</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<h2 id=\"ux-文件\" style=\"position:relative;\"><a aria-label=\"ux 文件 permalink\" class=\"anchor before\" href=\"#ux-%E6%96%87%E4%BB%B6\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>ux 文件</h2>\n<p>index.ux 文件中包含了表盘界面描述、样式定义和业务逻辑代码，最终会编译为 js 文件，在运行时中以挂件组件的形式进行加载</p>\n<h3 id=\"生命周期\" style=\"position:relative;\"><a aria-label=\"生命周期 permalink\" class=\"anchor before\" href=\"#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>生命周期</h3>\n<h4 id=\"oninit\" style=\"position:relative;\"><a aria-label=\"oninit permalink\" class=\"anchor before\" href=\"#oninit\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>onInit</h4>\n<p>监听表盘初始化。当表盘数据完成初始化时调用，只触发一次</p>\n<h4 id=\"onready\" style=\"position:relative;\"><a aria-label=\"onready permalink\" class=\"anchor before\" href=\"#onready\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>onReady</h4>\n<p>监听表盘界面创建完成。当表盘界面完成创建可以显示时触发，只触发一次</p>\n<h4 id=\"ondestroy\" style=\"position:relative;\"><a aria-label=\"ondestroy permalink\" class=\"anchor before\" href=\"#ondestroy\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>onDestroy</h4>\n<p>监听表盘退出。当表盘即将退出销毁时触发</p>\n<h4 id=\"onshow\" style=\"position:relative;\"><a aria-label=\"onshow permalink\" class=\"anchor before\" href=\"#onshow\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>onShow()</h4>\n<p>监听表盘返回前台,表盘返回前台时调用</p>\n<h4 id=\"onhide\" style=\"position:relative;\"><a aria-label=\"onhide permalink\" class=\"anchor before\" href=\"#onhide\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>onHide()</h4>\n<p>监听表盘退到后台,表盘退到后台时调用</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn2\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>wrap<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 表盘界面 --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token comment\">// 业务逻辑代码</span>\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 初始化数据</span>\n    <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// 生命周期</span>\n    <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">onShow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">onHide</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">// 自定义方法</span>\n    <span class=\"token function\">refreshTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token comment\">/* 样式描述 */</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn2\">复制代码</div></div></body></html></div>", "content_text": "表盘\n更新时间：\n2025-10-09 11:25:10\n概述\n表盘指默认开机首屏的界面，可分为指针表盘和数字表盘，除了查看时间，表盘还可以给用户提供展示计步、心率、电量、天气等关键信息。\n系统会内置一些表盘，同时也支持第三方开发，用户可以根据喜好通过长按切换选择表盘。\n表盘项目结构\n一个表盘项目包含：描述项目配置信息的\nmanifest 文件\n，一个描述表盘界面的\nux 文件\n，以及引用的图片资源文件，典型示例如下：\n应用根目录\n.\n├── README.md\n├── package.json\n├── sign\n│   ├── certificate.pem\n│   └── private.pem\n└── src\n    ├── app.ux\n    ├── manifest.json\n    └── watch3000\n        ├── assets\n        │   ├── aaa.png\n        │   └── bg.png\n        ├── edit.ux\n        └── index.ux\n复制代码\nmanifest 文件\nmanifest.json 文件中包含了表盘信息描述、接口声明等\nmanifest\n属性\n类型\n默认值\n必填\n描述\npackage\nString\n-\n是\n表盘包名，\n确认与原生应用的包名不一致\n，包名须保证唯一，推荐采用 com.company.watch 的格式，如：com.company.watch.demo\nversionName\nString\n-\n否\n表盘版本名称，如：\n\"1.0\"\nversionCode\nInteger\n-\n是\n表盘版本号，从\n1\n自增，\n推荐每次重新上传包时\nversionCode\n+1\nconfig\nObject\n-\n是\n系统配置信息，详见下面说明\nrouter\nObject\n-\n是\n路由信息，详见下面说明\ndeviceTypeList\nArray<String>\nwatch\n否\n可选值有：\nwatch\n,\nwatch-square\n,\nwatch-round\n,\ntv\n,\ncar\n,\nphone\ncustomData\nRecord<string, string>\n-\n否\n开发者自定义字段，限定不超过 30 个字符，可通过\npackageManager.getCustomData()\n方法读取\nconfig\n用于定义系统配置和全局数据。\n属性\n类型\n默认值\n描述\ndesignWidth\nInteger\n466\n页面设计基准宽度，根据实际设备宽度来缩放元素大小\nrouter\n用于定义页面的组成和相关配置信息，如果页面没有配置路由信息，则在编译打包时跳过。\n属性\n类型\n默认值\n必填\n描述\nwatchfaces\nObject\n-\n是\n页面配置列表，key 值为表盘目录（命名为\nwatch+表盘 id\n，对应表盘目录名，例如表盘 id 为 3000，则 key 为\nwatch3000\n， 对应\nwatch3000\n目录），value 为该表盘详细配置 ，详见下面说明\nrouter.watchfaces[watchPath]\n用于定义单个表盘页面信息。\n属性\n类型\n默认值\n必填\n描述\nid\nInteger\n-\n是\n表盘唯一标识，由服务端生成\nname\nString\n-\n是\n表盘名称，用于在表盘商店、切换选择等显示的名称\ncomponent\nString\n-\n是\n表盘对应组件名，与 ux 文件名保持一致，例如'index' 对应 'index.ux'\nedit\nString\n''\n否\n为空字符串\n''\n时，表盘为不可编辑表盘；为非空字符串值时，代表表盘目录下编辑表盘页面的路由名称\nfeatures\nArray\n-\n否\n表盘用到的 features 全部在此配置，注意与蓝河应用的配置区别\nparams\nObject\n-\n是\n表盘参数，详见下面说明\nparams\n表盘特有参数，用于表盘框架加载表盘和展示列表。\n属性\n类型\n默认值\n必填\n描述\npreviewImage\n[String]\n-\n是\n字符串数组，数组每一项代表预览图片路径，用于在表盘商店、切换选择等显示的预览图，预览图片的路径格式为：\nlocal://包名/path\nhpw\nInteger\n-\n否\n高功耗提醒，0-无高功耗提醒，1-需要高功耗提醒，默认为 0\n示例:\n{\n\"package\"\n:\n\"com.vivo.watch.sample\"\n,\n\"versionName\"\n:\n\"1.0.0\"\n,\n\"versionCode\"\n:\n1\n,\n\"config\"\n:\n{\n\"designWidth\"\n:\n466\n}\n,\n\"router\"\n:\n{\n\"watchfaces\"\n:\n{\n\"watch3000\"\n:\n{\n\"id\"\n:\n3000\n,\n\"name\"\n:\n\"表盘示例\"\n,\n\"component\"\n:\n\"index\"\n,\n\"edit\"\n:\n\"edit\"\n,\n\"features\"\n:\n[\n{\n\"name\"\n:\n\"blueos.app.router\"\n}\n]\n,\n\"params\"\n:\n{\n\"previewImage\"\n:\n[\n\"assets/aaa.png\"\n]\n,\n\"hpw\"\n:\n0\n}\n}\n}\n}\n,\n\"customData\"\n:\n{\n\"key1\"\n:\n\"value1\"\n,\n\"key2\"\n:\n\"value2\"\n}\n}\n复制代码\nux 文件\nindex.ux 文件中包含了表盘界面描述、样式定义和业务逻辑代码，最终会编译为 js 文件，在运行时中以挂件组件的形式进行加载\n生命周期\nonInit\n监听表盘初始化。当表盘数据完成初始化时调用，只触发一次\nonReady\n监听表盘界面创建完成。当表盘界面完成创建可以显示时触发，只触发一次\nonDestroy\n监听表盘退出。当表盘即将退出销毁时触发\nonShow()\n监听表盘返回前台,表盘返回前台时调用\nonHide()\n监听表盘退到后台,表盘退到后台时调用\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\nwrap\n\"\n>\n<!-- 表盘界面 -->\n</\ndiv\n>\n</\ntemplate\n>\n<\nscript\n>\n// 业务逻辑代码\nexport\ndefault\n{\n// 初始化数据\ndata\n(\n)\n{\nreturn\n{\n}\n}\n,\n// 生命周期\nonInit\n(\n)\n{\n}\n,\nonShow\n(\n)\n{\n}\n,\nonHide\n(\n)\n{\n}\n// 自定义方法\nrefreshTime\n(\n)\n{\n}\n}\n</\nscript\n>\n<\nstyle\n>\n/* 样式描述 */\n</\nstyle\n>\n复制代码", "code_examples": [{"code": ".\n├── README.md\n├── package.json\n├── sign\n│   ├── certificate.pem\n│   └── private.pem\n└── src\n    ├── app.ux\n    ├── manifest.json\n    └── watch3000\n        ├── assets\n        │   ├── aaa.png\n        │   └── bg.png\n        ├── edit.ux\n        └── index.ux", "language": "text", "index": 0}, {"code": "{\n  \"package\": \"com.vivo.watch.sample\",\n  \"versionName\": \"1.0.0\",\n  \"versionCode\": 1,\n  \"config\": {\n    \"designWidth\": 466\n  },\n  \"router\": {\n    \"watchfaces\": {\n      \"watch3000\": {\n        \"id\": 3000,\n        \"name\": \"表盘示例\",\n        \"component\": \"index\",\n        \"edit\": \"edit\",\n        \"features\": [\n          {\n            \"name\": \"blueos.app.router\"\n          }\n        ],\n        \"params\": {\n          \"previewImage\": [\"assets/aaa.png\"],\n          \"hpw\": 0\n        }\n      }\n    }\n  },\n  \"customData\": { \"key1\": \"value1\", \"key2\": \"value2\" }\n}", "language": "json", "index": 1}, {"code": "<template>\n  <div class=\"wrap\">\n    <!-- 表盘界面 -->\n  </div>\n</template>\n<script>\n  // 业务逻辑代码\n  export default {\n    // 初始化数据\n    data() {\n      return {}\n    },\n    // 生命周期\n    onInit() {},\n    onShow() {},\n    onHide() {}\n    // 自定义方法\n    refreshTime() {}\n  }\n</script>\n<style>\n  /* 样式描述 */\n</style>", "language": "html", "index": 2}], "frontmatter": {"title": "表盘"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/extend/widget/", "category": "tutorial", "crawl_time": "2025-11-24T02:22:51.832756", "status": "success", "title": "快捷卡片", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"快捷卡片\" style=\"position:relative;\"><a aria-label=\"快捷卡片 permalink\" class=\"anchor before\" href=\"#%E5%BF%AB%E6%8D%B7%E5%8D%A1%E7%89%87\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>快捷卡片</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-10-09 11:25:10\">2025-10-09 11:25:10</time></p>\n<blockquote>\n<p>⚠ 快捷卡片已经弃用，请使用 <a href=\"/reference/widget/overview/\">智慧服务卡片</a></p>\n</blockquote>\n<h3 id=\"概述\" style=\"position:relative;\"><a aria-label=\"概述 permalink\" class=\"anchor before\" href=\"#%E6%A6%82%E8%BF%B0\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>概述</h3>\n<p>快捷卡片是应用的特殊页面，配置为快捷卡片的页面可以被其他宿主应用作为组件引入。此特性可以使得其能跟随主应用更新，而宿主应用无需更新。</p>\n<p>一个应用可以配置多个快捷卡片，一个快捷卡片也可以被多个宿主应用所引用。</p>\n<h3 id=\"manifestjson-文件\" style=\"position:relative;\"><a aria-label=\"manifestjson 文件 permalink\" class=\"anchor before\" href=\"#manifestjson-%E6%96%87%E4%BB%B6\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>manifest.json 文件</h3>\n<p>快捷卡片在 manifest.json 中的 widgets 对象里进行定义，参考下面定义简例：</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn0\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"package\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"com.example.demo\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"router\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"entry\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"pages/Home\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"pages\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"pages/Home\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"component\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"index\"</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"pages/Music\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"component\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"index\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// 快捷卡片定义</span>\n    <span class=\"token property\">\"widgets\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 音乐快捷卡片</span>\n      <span class=\"token property\">\"pages/Music\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"music2008\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 快捷卡片名（必填）</span>\n        <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"音乐服务\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 快捷卡片组件名（必填）</span>\n        <span class=\"token property\">\"component\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"index\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 可编辑路径</span>\n        <span class=\"token property\">\"params\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token comment\">// 快捷卡片缩略图 (必填)</span>\n          <span class=\"token property\">\"previewImage\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"./music.png\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"hpw\"</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<h4 id=\"routerwidgetswidgetpath\" style=\"position:relative;\"><a aria-label=\"routerwidgetswidgetpath permalink\" class=\"anchor before\" href=\"#routerwidgetswidgetpath\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>router.widgets[widgetPath]</h4>\n<p>用于定义单个快捷卡片页面信息。</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>默认值</th>\n<th>必填</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>id</td>\n<td>Integer</td>\n<td>-</td>\n<td>是</td>\n<td>快捷卡片唯一标识</td>\n</tr>\n<tr>\n<td>name</td>\n<td>String</td>\n<td>-</td>\n<td>是</td>\n<td>快捷卡片中文名称，用于在切换选择等显示的名称</td>\n</tr>\n<tr>\n<td>component</td>\n<td>String</td>\n<td>-</td>\n<td>是</td>\n<td>表盘对应组件名，与 ux 文件名保持一致，例如'index' 对应 'index.ux'</td>\n</tr>\n<tr>\n<td>params</td>\n<td>Object</td>\n<td>-</td>\n<td>是</td>\n<td>快捷卡片参数，详见下面说明</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"params\" style=\"position:relative;\"><a aria-label=\"params permalink\" class=\"anchor before\" href=\"#params\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>params</h4>\n<p>快捷卡片特有参数，用于快捷卡片框架加载快捷卡片和展示列表。</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>默认值</th>\n<th>必填</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>previewImage</td>\n<td>String</td>\n<td>-</td>\n<td>是</td>\n<td>字符串数组，数组每一项代表预览图片路径，用于在快捷卡片商店、切换选择等显示的预览图</td>\n</tr>\n<tr>\n<td>hpw</td>\n<td>Integer</td>\n<td>-</td>\n<td>否</td>\n<td>高功耗提醒，0-无高功耗提醒，1-需要高功耗提醒，默认为 0</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"快捷卡片生命周期\" style=\"position:relative;\"><a aria-label=\"快捷卡片生命周期 permalink\" class=\"anchor before\" href=\"#%E5%BF%AB%E6%8D%B7%E5%8D%A1%E7%89%87%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>快捷卡片生命周期</h3>\n<p>1、宿主页面的生命周期触发，同时也会触发快捷卡片的生命周期。</p>\n<p>2、对快捷卡片使用<code class=\"language-text\">if指令</code>移除时会触发<code class=\"language-text\">onDestroy</code>, <code class=\"language-text\">if指令</code>再显示等同于重新创建。</p>\n<p>3、对快捷卡片使用<code class=\"language-text\">show指令</code>控制显示隐藏时会触发<code class=\"language-text\">onShow</code>和<code class=\"language-text\">onHide</code>。</p>\n<h3 id=\"注意\" style=\"position:relative;\"><a aria-label=\"注意 permalink\" class=\"anchor before\" href=\"#%E6%B3%A8%E6%84%8F\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>注意</h3>\n<p>快捷卡片为单页面操作，不能使用路由跳转</p></body></html></div>", "content_text": "快捷卡片\n更新时间：\n2025-10-09 11:25:10\n⚠ 快捷卡片已经弃用，请使用\n智慧服务卡片\n概述\n快捷卡片是应用的特殊页面，配置为快捷卡片的页面可以被其他宿主应用作为组件引入。此特性可以使得其能跟随主应用更新，而宿主应用无需更新。\n一个应用可以配置多个快捷卡片，一个快捷卡片也可以被多个宿主应用所引用。\nmanifest.json 文件\n快捷卡片在 manifest.json 中的 widgets 对象里进行定义，参考下面定义简例：\n{\n\"package\"\n:\n\"com.example.demo\"\n,\n\"router\"\n:\n{\n\"entry\"\n:\n\"pages/Home\"\n,\n\"pages\"\n:\n{\n\"pages/Home\"\n:\n{\n\"component\"\n:\n\"index\"\n}\n,\n\"pages/Music\"\n:\n{\n\"component\"\n:\n\"index\"\n}\n}\n,\n// 快捷卡片定义\n\"widgets\"\n:\n{\n// 音乐快捷卡片\n\"pages/Music\"\n:\n{\n\"id\"\n:\n\"music2008\"\n,\n// 快捷卡片名（必填）\n\"name\"\n:\n\"音乐服务\"\n,\n// 快捷卡片组件名（必填）\n\"component\"\n:\n\"index\"\n,\n// 可编辑路径\n\"params\"\n:\n{\n// 快捷卡片缩略图 (必填)\n\"previewImage\"\n:\n[\n\"./music.png\"\n]\n,\n\"hpw\"\n:\n0\n}\n}\n}\n}\n}\n复制代码\nrouter.widgets[widgetPath]\n用于定义单个快捷卡片页面信息。\n属性\n类型\n默认值\n必填\n描述\nid\nInteger\n-\n是\n快捷卡片唯一标识\nname\nString\n-\n是\n快捷卡片中文名称，用于在切换选择等显示的名称\ncomponent\nString\n-\n是\n表盘对应组件名，与 ux 文件名保持一致，例如'index' 对应 'index.ux'\nparams\nObject\n-\n是\n快捷卡片参数，详见下面说明\nparams\n快捷卡片特有参数，用于快捷卡片框架加载快捷卡片和展示列表。\n属性\n类型\n默认值\n必填\n描述\npreviewImage\nString\n-\n是\n字符串数组，数组每一项代表预览图片路径，用于在快捷卡片商店、切换选择等显示的预览图\nhpw\nInteger\n-\n否\n高功耗提醒，0-无高功耗提醒，1-需要高功耗提醒，默认为 0\n快捷卡片生命周期\n1、宿主页面的生命周期触发，同时也会触发快捷卡片的生命周期。\n2、对快捷卡片使用\nif指令\n移除时会触发\nonDestroy\n,\nif指令\n再显示等同于重新创建。\n3、对快捷卡片使用\nshow指令\n控制显示隐藏时会触发\nonShow\n和\nonHide\n。\n注意\n快捷卡片为单页面操作，不能使用路由跳转", "code_examples": [{"code": "{\n  \"package\": \"com.example.demo\",\n  \"router\": {\n    \"entry\": \"pages/Home\",\n    \"pages\": {\n      \"pages/Home\": {\n        \"component\": \"index\"\n      },\n      \"pages/Music\": {\n        \"component\": \"index\"\n      }\n    },\n    // 快捷卡片定义\n    \"widgets\": {\n      // 音乐快捷卡片\n      \"pages/Music\": {\n        \"id\": \"music2008\",\n        // 快捷卡片名（必填）\n        \"name\": \"音乐服务\",\n        // 快捷卡片组件名（必填）\n        \"component\": \"index\",\n        // 可编辑路径\n        \"params\": {\n          // 快捷卡片缩略图 (必填)\n          \"previewImage\": [\"./music.png\"],\n          \"hpw\": 0\n        }\n      }\n    }\n  }\n}", "language": "json", "index": 0}], "frontmatter": {"title": "快捷卡片"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/perf-guide/overview/", "category": "tutorial", "crawl_time": "2025-11-24T02:22:53.178462", "status": "success", "title": "概述", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"概述\" style=\"position:relative;\"><a aria-label=\"概述 permalink\" class=\"anchor before\" href=\"#%E6%A6%82%E8%BF%B0\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>概述</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-04-28 19:30:44\">2025-04-28 19:30:44</time></p>\n<h2 id=\"1-前言\" style=\"position:relative;\"><a aria-label=\"1 前言 permalink\" class=\"anchor before\" href=\"#1-%E5%89%8D%E8%A8%80\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>1 前言</h2>\n<p>本章节聚焦手表应用的性能优化，结合可穿戴设备资源受限、低功耗需求和小屏幕交互特点，提出切实可行的优化策略。我们将重点关注电池续航、显示功耗和交互流畅度，帮助开发者在蓝河应用框架下构建高效、稳定的智能穿戴产品。</p>\n<h2 id=\"2-使用说明\" style=\"position:relative;\"><a aria-label=\"2 使用说明 permalink\" class=\"anchor before\" href=\"#2-%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>2 使用说明</h2>\n<p>文中示例提供了「正例」和「反例」，便于读者直观对比两种方案的优劣，迅速掌握规范要点。示例仅供说明，不代表可直接运行的完整项目代码。</p>\n<h2 id=\"3-推荐级别\" style=\"position:relative;\"><a aria-label=\"3 推荐级别 permalink\" class=\"anchor before\" href=\"#3-%E6%8E%A8%E8%8D%90%E7%BA%A7%E5%88%AB\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>3 推荐级别</h2>\n<p>【强烈】必须遵守的核心规范</p>\n<p>【建议】除特殊场景外应优先采用的最佳实践</p>\n<p>【鼓励】可选但有助于提升体验的优化手段</p>\n<h2 id=\"4-章节指引\" style=\"position:relative;\"><a aria-label=\"4 章节指引 permalink\" class=\"anchor before\" href=\"#4-%E7%AB%A0%E8%8A%82%E6%8C%87%E5%BC%95\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>4 章节指引</h2>\n<p>在深入阅读各章节前，您可参照下表快速定位所需内容：</p>\n<table>\n<thead>\n<tr>\n<th>章节</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>响应式数据优化</td>\n<td>针对响应式声明与使用进行精简与性能调优</td>\n</tr>\n<tr>\n<td>减少代码体积</td>\n<td>利用 Tree-shaking、按需加载等技术精简打包体积</td>\n</tr>\n<tr>\n<td>减少初始化开销</td>\n<td>通过 app.ux 优化和长页面分段渲染，提升首屏加载速度</td>\n</tr>\n<tr>\n<td>运行时性能优化</td>\n<td>优化模板结构与指令组合，降低运行时计算开销</td>\n</tr>\n<tr>\n<td>避免高耗性能操作</td>\n<td>规避常见高耗操作，提升应用响应与功耗效率</td>\n</tr>\n<tr>\n<td>退出页面释放监听</td>\n<td>规范页面销毁时的资源清理流程，防止内存泄漏</td>\n</tr>\n<tr>\n<td>图片资源优化</td>\n<td>合理选择与加载图片资源，提高渲染效率并压缩安装包大小</td>\n</tr>\n<tr>\n<td>长列表性能优化</td>\n<td>针对大规模列表渲染场景的方案</td>\n</tr>\n<tr>\n<td>帧率优化指引</td>\n<td>提升动画与滚动流畅度的实用方法</td>\n</tr>\n</tbody>\n</table></body></html></div>", "content_text": "概述\n更新时间：\n2025-04-28 19:30:44\n1 前言\n本章节聚焦手表应用的性能优化，结合可穿戴设备资源受限、低功耗需求和小屏幕交互特点，提出切实可行的优化策略。我们将重点关注电池续航、显示功耗和交互流畅度，帮助开发者在蓝河应用框架下构建高效、稳定的智能穿戴产品。\n2 使用说明\n文中示例提供了「正例」和「反例」，便于读者直观对比两种方案的优劣，迅速掌握规范要点。示例仅供说明，不代表可直接运行的完整项目代码。\n3 推荐级别\n【强烈】必须遵守的核心规范\n【建议】除特殊场景外应优先采用的最佳实践\n【鼓励】可选但有助于提升体验的优化手段\n4 章节指引\n在深入阅读各章节前，您可参照下表快速定位所需内容：\n章节\n说明\n响应式数据优化\n针对响应式声明与使用进行精简与性能调优\n减少代码体积\n利用 Tree-shaking、按需加载等技术精简打包体积\n减少初始化开销\n通过 app.ux 优化和长页面分段渲染，提升首屏加载速度\n运行时性能优化\n优化模板结构与指令组合，降低运行时计算开销\n避免高耗性能操作\n规避常见高耗操作，提升应用响应与功耗效率\n退出页面释放监听\n规范页面销毁时的资源清理流程，防止内存泄漏\n图片资源优化\n合理选择与加载图片资源，提高渲染效率并压缩安装包大小\n长列表性能优化\n针对大规模列表渲染场景的方案\n帧率优化指引\n提升动画与滚动流畅度的实用方法", "code_examples": [], "frontmatter": {"title": "概述"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/perf-guide/perf-dangerous/", "category": "tutorial", "crawl_time": "2025-11-24T02:22:55.430837", "status": "success", "title": "避免高耗性能操作", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"避免高耗性能操作\" style=\"position:relative;\"><a aria-label=\"避免高耗性能操作 permalink\" class=\"anchor before\" href=\"#%E9%81%BF%E5%85%8D%E9%AB%98%E8%80%97%E6%80%A7%E8%83%BD%E6%93%8D%E4%BD%9C\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>避免高耗性能操作</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-04-27 09:58:15\">2025-04-27 09:58:15</time></p>\n<p>在蓝河应用开发中，需特别注意以下高消耗性能操作，合理规避可显著提升渲染效率与运行时性能。</p>\n<h2 id=\"避免使用后代选择器\" style=\"position:relative;\"><a aria-label=\"避免使用后代选择器 permalink\" class=\"anchor before\" href=\"#%E9%81%BF%E5%85%8D%E4%BD%BF%E7%94%A8%E5%90%8E%E4%BB%A3%E9%80%89%E6%8B%A9%E5%99%A8\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>避免使用后代选择器</h2>\n<p><strong>推荐级别：强烈</strong></p>\n<p>后代选择器在传统 Web 开发中能有效规避样式污染，但蓝河应用的页面与组件采用<strong>天然样式隔离机制</strong>，嵌套选择器会触发冗余的样式计算，导致渲染性能下降。</p>\n<p>直接使用类名选择器，避免多级嵌套结构。</p>\n<p><strong>反例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><div id=\"copyBtn0\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.list .item</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<p><strong>正例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><div id=\"copyBtn1\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.item</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<h2 id=\"精简打印日志\" style=\"position:relative;\"><a aria-label=\"精简打印日志 permalink\" class=\"anchor before\" href=\"#%E7%B2%BE%E7%AE%80%E6%89%93%E5%8D%B0%E6%97%A5%E5%BF%97\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>精简打印日志</h2>\n<p><strong>推荐级别：强烈</strong></p>\n<p>高频次、冗余的日志输出会引发以下问题：</p>\n<ol>\n<li>增加运行时内存开销</li>\n<li>干扰开发者调试关键信息</li>\n</ol>\n<p><strong>优化方案</strong></p>\n<ul>\n<li>仅记录核心调试信息</li>\n<li>避免全量序列化复杂对象</li>\n</ul>\n<p><strong>反例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><div id=\"copyBtn2\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">/* 反例：全量序列化大对象产生性能损耗 */</span>\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">sportInfo = </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>sportInfo<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn2\">复制代码</div></div>\n<p><strong>正例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><div id=\"copyBtn3\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">/* 正例：选择性输出关键字段 */</span>\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">运动ID: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>sportInfo<span class=\"token punctuation\">.</span>id<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, 类型: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>sportInfo<span class=\"token punctuation\">.</span><span class=\"token keyword\">type</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn3\">复制代码</div></div>\n<h2 id=\"避免后台渲染指令堆积\" style=\"position:relative;\"><a aria-label=\"避免后台渲染指令堆积 permalink\" class=\"anchor before\" href=\"#%E9%81%BF%E5%85%8D%E5%90%8E%E5%8F%B0%E6%B8%B2%E6%9F%93%E6%8C%87%E4%BB%A4%E5%A0%86%E7%A7%AF\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>避免后台渲染指令堆积</h2>\n<p>常驻后台的应用频繁更新 UI 会导致：</p>\n<ol>\n<li>渲染指令队列堆积</li>\n<li>内存占用持续增长</li>\n<li>应用恢复前台时出现 UI 抖动</li>\n</ol>\n<p><strong>优化方案</strong></p>\n<ul>\n<li>使用状态标志位控制渲染时机</li>\n<li>结合生命周期管理数据更新</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn4\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 临时变量暂存后台刷新数据</span>\n<span class=\"token keyword\">let</span> tempData\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">bgData</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">showing</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> evtId <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">eventName</span><span class=\"token operator\">:</span> <span class=\"token string\">'new_data'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function-variable function\">callback</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>showing<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          tempData <span class=\"token operator\">=</span> res<span class=\"token punctuation\">.</span>data\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>bgData <span class=\"token operator\">=</span> res<span class=\"token punctuation\">.</span>data\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">onShow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>showing <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>tempData<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>bgData <span class=\"token operator\">=</span> tempData\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">onHide</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>showing <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn4\">复制代码</div></div></body></html></div>", "content_text": "避免高耗性能操作\n更新时间：\n2025-04-27 09:58:15\n在蓝河应用开发中，需特别注意以下高消耗性能操作，合理规避可显著提升渲染效率与运行时性能。\n避免使用后代选择器\n推荐级别：强烈\n后代选择器在传统 Web 开发中能有效规避样式污染，但蓝河应用的页面与组件采用\n天然样式隔离机制\n，嵌套选择器会触发冗余的样式计算，导致渲染性能下降。\n直接使用类名选择器，避免多级嵌套结构。\n反例\n.list .item\n{\ncolor\n:\nred\n;\n}\n复制代码\n正例\n.item\n{\ncolor\n:\nred\n;\n}\n复制代码\n精简打印日志\n推荐级别：强烈\n高频次、冗余的日志输出会引发以下问题：\n增加运行时内存开销\n干扰开发者调试关键信息\n优化方案\n仅记录核心调试信息\n避免全量序列化复杂对象\n反例\n/* 反例：全量序列化大对象产生性能损耗 */\nconsole\n.\nlog\n(\n`\nsportInfo =\n${\nJSON\n.\nstringify\n(\nsportInfo\n)\n}\n`\n)\n复制代码\n正例\n/* 正例：选择性输出关键字段 */\nconsole\n.\nlog\n(\n`\n运动ID:\n${\nsportInfo\n.\nid\n}\n, 类型:\n${\nsportInfo\n.\ntype\n}\n`\n)\n复制代码\n避免后台渲染指令堆积\n常驻后台的应用频繁更新 UI 会导致：\n渲染指令队列堆积\n内存占用持续增长\n应用恢复前台时出现 UI 抖动\n优化方案\n使用状态标志位控制渲染时机\n结合生命周期管理数据更新\n// 临时变量暂存后台刷新数据\nlet\ntempData\nexport\ndefault\n{\ndata\n:\n{\nbgData\n:\n[\n1\n,\n2\n]\n,\nshowing\n:\nfalse\n,\n}\n,\nonInit\n(\n)\n{\nconst\nevtId\n=\nevent\n.\nsubscribe\n(\n{\neventName\n:\n'new_data'\n,\ncallback\n:\n(\nres\n)\n=>\n{\nif\n(\n!\nthis\n.\nshowing\n)\n{\ntempData\n=\nres\n.\ndata\n}\nelse\n{\nthis\n.\nbgData\n=\nres\n.\ndata\n}\n}\n,\n}\n)\n}\n,\nonShow\n(\n)\n{\nthis\n.\nshowing\n=\ntrue\nif\n(\ntempData\n)\n{\nthis\n.\nbgData\n=\ntempData\n}\n}\n,\nonHide\n(\n)\n{\nthis\n.\nshowing\n=\nfalse\n}\n,\n}\n复制代码", "code_examples": [{"code": ".list .item {\n  color: red;\n}", "language": "css", "index": 0}, {"code": ".item {\n  color: red;\n}", "language": "css", "index": 1}, {"code": "/* 反例：全量序列化大对象产生性能损耗 */\nconsole.log(`sportInfo = ${JSON.stringify(sportInfo)}`)", "language": "ts", "index": 2}, {"code": "/* 正例：选择性输出关键字段 */\nconsole.log(`运动ID: ${sportInfo.id}, 类型: ${sportInfo.type}`)", "language": "ts", "index": 3}, {"code": "// 临时变量暂存后台刷新数据\nlet tempData\nexport default {\n  data: {\n    bgData: [1, 2],\n    showing: false,\n  },\n  onInit() {\n    const evtId = event.subscribe({\n      eventName: 'new_data',\n      callback: (res) => {\n        if (!this.showing) {\n          tempData = res.data\n        } else {\n          this.bgData = res.data\n        }\n      },\n    })\n  },\n  onShow() {\n    this.showing = true\n    if (tempData) {\n      this.bgData = tempData\n    }\n  },\n  onHide() {\n    this.showing = false\n  },\n}", "language": "js", "index": 4}], "frontmatter": {"title": "避免高耗性能操作"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/perf-guide/perf-data/", "category": "tutorial", "crawl_time": "2025-11-24T02:22:58.738834", "status": "success", "title": "响应式数据优化", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"响应式数据优化\" style=\"position:relative;\"><a aria-label=\"响应式数据优化 permalink\" class=\"anchor before\" href=\"#%E5%93%8D%E5%BA%94%E5%BC%8F%E6%95%B0%E6%8D%AE%E4%BC%98%E5%8C%96\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>响应式数据优化</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-04-27 11:06:02\">2025-04-27 11:06:02</time></p>\n<p>蓝河框架基于 Proxy 实现响应式追踪机制，data 对象中的每个属性都会创建监听代理。优化数据层可显著降低内存消耗，提升渲染速度。</p>\n<h2 id=\"消除冗余响应式数据\" style=\"position:relative;\"><a aria-label=\"消除冗余响应式数据 permalink\" class=\"anchor before\" href=\"#%E6%B6%88%E9%99%A4%E5%86%97%E4%BD%99%E5%93%8D%E5%BA%94%E5%BC%8F%E6%95%B0%E6%8D%AE\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>消除冗余响应式数据</h2>\n<p><strong>推荐级别：强烈</strong></p>\n<p>未使用的响应式数据仍会触发依赖收集，导致内存占用增加。</p>\n<p><strong>优化方案</strong></p>\n<ul>\n<li>采用普遍变量声明非响应式数据</li>\n</ul>\n<p><strong>反例 1</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn0\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{a}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">a</span><span class=\"token operator\">:</span> <span class=\"token string\">'hello'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">b</span><span class=\"token operator\">:</span> <span class=\"token string\">'world'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>a <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>a <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>b\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<p><strong>正例 1</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn1\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{a}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> <span class=\"token string\">'world'</span>\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">a</span><span class=\"token operator\">:</span> <span class=\"token string\">'hello'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>a <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>a <span class=\"token operator\">+</span> b\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<p><strong>反例 2</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn2\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>list</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>list-item</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{list}}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{ $item.name }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>image</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{ $item.icon }}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>image</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>list-item</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>list</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getSportsList</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Football'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">description</span><span class=\"token operator\">:</span> <span class=\"token string\">'A team sport played with ...'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">category</span><span class=\"token operator\">:</span> <span class=\"token string\">'Team Sports'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">icon</span><span class=\"token operator\">:</span> <span class=\"token string\">'football.png'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Basketball'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">description</span><span class=\"token operator\">:</span> <span class=\"token string\">'A team sport in which two teams, ...'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">category</span><span class=\"token operator\">:</span> <span class=\"token string\">'Team Sports'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">icon</span><span class=\"token operator\">:</span> <span class=\"token string\">'basketball.png'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Tennis'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">description</span><span class=\"token operator\">:</span> <span class=\"token string\">'A racket sport that can be ...'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">category</span><span class=\"token operator\">:</span> <span class=\"token string\">'Individual Sports'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">icon</span><span class=\"token operator\">:</span> <span class=\"token string\">'tennis.png'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">sports</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>sports <span class=\"token operator\">=</span> <span class=\"token function\">getSportsList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn2\">复制代码</div></div>\n<p><strong>正例 2</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn3\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>list</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>list-item</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{list}}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{ $item.name }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>image</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{ $item.icon }}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>image</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>list-item</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>list</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getSportsList</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Football'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">description</span><span class=\"token operator\">:</span> <span class=\"token string\">'A team sport played with ...'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">category</span><span class=\"token operator\">:</span> <span class=\"token string\">'Team Sports'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">icon</span><span class=\"token operator\">:</span> <span class=\"token string\">'football.png'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Basketball'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">description</span><span class=\"token operator\">:</span> <span class=\"token string\">'A team sport in which two teams, ...'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">category</span><span class=\"token operator\">:</span> <span class=\"token string\">'Team Sports'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">icon</span><span class=\"token operator\">:</span> <span class=\"token string\">'basketball.png'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Tennis'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">description</span><span class=\"token operator\">:</span> <span class=\"token string\">'A racket sport that can be ...'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">category</span><span class=\"token operator\">:</span> <span class=\"token string\">'Individual Sports'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">icon</span><span class=\"token operator\">:</span> <span class=\"token string\">'tennis.png'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">sports</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>sports <span class=\"token operator\">=</span> <span class=\"token function\">getSportsList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> item<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">icon</span><span class=\"token operator\">:</span> item<span class=\"token punctuation\">.</span>icon<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn3\">复制代码</div></div>\n<h2 id=\"静态属性访问规范\" style=\"position:relative;\"><a aria-label=\"静态属性访问规范 permalink\" class=\"anchor before\" href=\"#%E9%9D%99%E6%80%81%E5%B1%9E%E6%80%A7%E8%AE%BF%E9%97%AE%E8%A7%84%E8%8C%83\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>静态属性访问规范</h2>\n<p><strong>推荐级别：强烈</strong></p>\n<p><strong>编译优化:</strong> 动态属性访问会导致，阻碍编译时的优化分析。</p>\n<p><strong>反例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn4\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{person.name}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{person.location}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">person</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Vance'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">location</span><span class=\"token operator\">:</span> <span class=\"token string\">'shenzhen'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> location <span class=\"token operator\">=</span> <span class=\"token string\">'location'</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>person<span class=\"token punctuation\">[</span>location<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'beijing'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn4\">复制代码</div></div>\n<p><strong>正例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn5\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{person.name}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{person.location}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">person</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Vance'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">location</span><span class=\"token operator\">:</span> <span class=\"token string\">'shenzhen'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>person<span class=\"token punctuation\">.</span>location <span class=\"token operator\">=</span> <span class=\"token string\">'beijing'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn5\">复制代码</div></div>\n<h2 id=\"数据结构层级优化\" style=\"position:relative;\"><a aria-label=\"数据结构层级优化 permalink\" class=\"anchor before\" href=\"#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%B1%82%E7%BA%A7%E4%BC%98%E5%8C%96\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>数据结构层级优化</h2>\n<p><strong>推荐级别：鼓励</strong></p>\n<p>对于动态绑定的数据，不宜嵌套层级过深，建议不超过 3 层。</p>\n<p><strong>反例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn6\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{obj.a.name}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{obj.b.name}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">obj</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">a</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'name a'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">b</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'name b'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn6\">复制代码</div></div>\n<p><strong>正例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn7\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{obj.a}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{obj.b}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">obj</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">a</span><span class=\"token operator\">:</span> <span class=\"token string\">'name a'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">b</span><span class=\"token operator\">:</span> <span class=\"token string\">'name b'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn7\">复制代码</div></div></body></html></div>", "content_text": "响应式数据优化\n更新时间：\n2025-04-27 11:06:02\n蓝河框架基于 Proxy 实现响应式追踪机制，data 对象中的每个属性都会创建监听代理。优化数据层可显著降低内存消耗，提升渲染速度。\n消除冗余响应式数据\n推荐级别：强烈\n未使用的响应式数据仍会触发依赖收集，导致内存占用增加。\n优化方案\n采用普遍变量声明非响应式数据\n反例 1\n<\ntemplate\n>\n<\ntext\n>\n{{a}}\n</\ntext\n>\n</\ntemplate\n>\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\na\n:\n'hello'\n,\nb\n:\n'world'\n,\n}\n,\nonInit\n(\n)\n{\nthis\n.\na\n=\nthis\n.\na\n+\nthis\n.\nb\n}\n,\n}\n</\nscript\n>\n复制代码\n正例 1\n<\ntemplate\n>\n<\ntext\n>\n{{a}}\n</\ntext\n>\n</\ntemplate\n>\n<\nscript\n>\nconst\nb\n=\n'world'\nexport\ndefault\n{\ndata\n:\n{\na\n:\n'hello'\n,\n}\n,\nonInit\n(\n)\n{\nthis\n.\na\n=\nthis\n.\na\n+\nb\n}\n,\n}\n</\nscript\n>\n复制代码\n反例 2\n<\ntemplate\n>\n<\nlist\n>\n<\nlist-item\nfor\n=\n\"\n{{list}}\n\"\n>\n<\ntext\n>\n{{ $item.name }}\n</\ntext\n>\n<\nimage\nsrc\n=\n\"\n{{ $item.icon }}\n\"\n>\n</\nimage\n>\n</\nlist-item\n>\n</\nlist\n>\n</\ntemplate\n>\n<\nscript\n>\nconst\ngetSportsList\n=\n(\n)\n=>\n{\nreturn\n[\n{\nname\n:\n'Football'\n,\ndescription\n:\n'A team sport played with ...'\n,\ncategory\n:\n'Team Sports'\n,\nicon\n:\n'football.png'\n,\n}\n,\n{\nname\n:\n'Basketball'\n,\ndescription\n:\n'A team sport in which two teams, ...'\n,\ncategory\n:\n'Team Sports'\n,\nicon\n:\n'basketball.png'\n,\n}\n,\n{\nname\n:\n'Tennis'\n,\ndescription\n:\n'A racket sport that can be ...'\n,\ncategory\n:\n'Individual Sports'\n,\nicon\n:\n'tennis.png'\n,\n}\n,\n]\n}\nexport\ndefault\n{\ndata\n:\n{\nsports\n:\n[\n]\n,\n}\n,\nonInit\n(\n)\n{\nthis\n.\nsports\n=\ngetSportsList\n(\n)\n}\n,\n}\n</\nscript\n>\n复制代码\n正例 2\n<\ntemplate\n>\n<\nlist\n>\n<\nlist-item\nfor\n=\n\"\n{{list}}\n\"\n>\n<\ntext\n>\n{{ $item.name }}\n</\ntext\n>\n<\nimage\nsrc\n=\n\"\n{{ $item.icon }}\n\"\n>\n</\nimage\n>\n</\nlist-item\n>\n</\nlist\n>\n</\ntemplate\n>\n<\nscript\n>\nconst\ngetSportsList\n=\n(\n)\n=>\n{\nreturn\n[\n{\nname\n:\n'Football'\n,\ndescription\n:\n'A team sport played with ...'\n,\ncategory\n:\n'Team Sports'\n,\nicon\n:\n'football.png'\n,\n}\n,\n{\nname\n:\n'Basketball'\n,\ndescription\n:\n'A team sport in which two teams, ...'\n,\ncategory\n:\n'Team Sports'\n,\nicon\n:\n'basketball.png'\n,\n}\n,\n{\nname\n:\n'Tennis'\n,\ndescription\n:\n'A racket sport that can be ...'\n,\ncategory\n:\n'Individual Sports'\n,\nicon\n:\n'tennis.png'\n,\n}\n,\n]\n}\nexport\ndefault\n{\ndata\n:\n{\nsports\n:\n[\n]\n,\n}\n,\nonInit\n(\n)\n{\nthis\n.\nsports\n=\ngetSportsList\n(\n)\n.\nmap\n(\n(\nitem\n)\n=>\n(\n{\nname\n:\nitem\n.\nname\n,\nicon\n:\nitem\n.\nicon\n,\n}\n)\n)\n}\n,\n}\n</\nscript\n>\n复制代码\n静态属性访问规范\n推荐级别：强烈\n编译优化:\n动态属性访问会导致，阻碍编译时的优化分析。\n反例\n<\ntemplate\n>\n<\ndiv\n>\n<\ntext\n>\n{{person.name}}\n</\ntext\n>\n<\ntext\n>\n{{person.location}}\n</\ntext\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\nperson\n:\n{\nname\n:\n'Vance'\n,\nlocation\n:\n'shenzhen'\n,\n}\n,\n}\n,\nonInit\n(\n)\n{\nconst\nlocation\n=\n'location'\nthis\n.\nperson\n[\nlocation\n]\n=\n'beijing'\n}\n,\n}\n</\nscript\n>\n复制代码\n正例\n<\ntemplate\n>\n<\ndiv\n>\n<\ntext\n>\n{{person.name}}\n</\ntext\n>\n<\ntext\n>\n{{person.location}}\n</\ntext\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\nperson\n:\n{\nname\n:\n'Vance'\n,\nlocation\n:\n'shenzhen'\n,\n}\n,\n}\n,\nonInit\n(\n)\n{\nthis\n.\nperson\n.\nlocation\n=\n'beijing'\n}\n,\n}\n</\nscript\n>\n复制代码\n数据结构层级优化\n推荐级别：鼓励\n对于动态绑定的数据，不宜嵌套层级过深，建议不超过 3 层。\n反例\n<\ntemplate\n>\n<\ndiv\n>\n<\ntext\n>\n{{obj.a.name}}\n</\ntext\n>\n<\ntext\n>\n{{obj.b.name}}\n</\ntext\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\nobj\n:\n{\na\n:\n{\nname\n:\n'name a'\n,\n}\n,\nb\n:\n{\nname\n:\n'name b'\n,\n}\n,\n}\n,\n}\n,\n}\n</\nscript\n>\n复制代码\n正例\n<\ntemplate\n>\n<\ndiv\n>\n<\ntext\n>\n{{obj.a}}\n</\ntext\n>\n<\ntext\n>\n{{obj.b}}\n</\ntext\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\nobj\n:\n{\na\n:\n'name a'\n,\nb\n:\n'name b'\n,\n}\n,\n}\n,\n}\n</\nscript\n>\n复制代码", "code_examples": [{"code": "<template>\n  <text>{{a}}</text>\n</template>\n\n<script>\n  export default {\n    data: {\n      a: 'hello',\n      b: 'world',\n    },\n    onInit() {\n      this.a = this.a + this.b\n    },\n  }\n</script>", "language": "html", "index": 0}, {"code": "<template>\n  <text>{{a}}</text>\n</template>\n\n<script>\n  const b = 'world'\n  export default {\n    data: {\n      a: 'hello',\n    },\n    onInit() {\n      this.a = this.a + b\n    },\n  }\n</script>", "language": "html", "index": 1}, {"code": "<template>\n  <list>\n    <list-item for=\"{{list}}\">\n      <text>{{ $item.name }}</text>\n      <image src=\"{{ $item.icon }}\"></image>\n    </list-item>\n  </list>\n</template>\n\n<script>\n  const getSportsList = () => {\n    return [\n      {\n        name: 'Football',\n        description: 'A team sport played with ...',\n        category: 'Team Sports',\n        icon: 'football.png',\n      },\n      {\n        name: 'Basketball',\n        description: 'A team sport in which two teams, ...',\n        category: 'Team Sports',\n        icon: 'basketball.png',\n      },\n      {\n        name: 'Tennis',\n        description: 'A racket sport that can be ...',\n        category: 'Individual Sports',\n        icon: 'tennis.png',\n      },\n    ]\n  }\n  export default {\n    data: {\n      sports: [],\n    },\n    onInit() {\n      this.sports = getSportsList()\n    },\n  }\n</script>", "language": "html", "index": 2}, {"code": "<template>\n  <list>\n    <list-item for=\"{{list}}\">\n      <text>{{ $item.name }}</text>\n      <image src=\"{{ $item.icon }}\"></image>\n    </list-item>\n  </list>\n</template>\n\n<script>\n  const getSportsList = () => {\n    return [\n      {\n        name: 'Football',\n        description: 'A team sport played with ...',\n        category: 'Team Sports',\n        icon: 'football.png',\n      },\n      {\n        name: 'Basketball',\n        description: 'A team sport in which two teams, ...',\n        category: 'Team Sports',\n        icon: 'basketball.png',\n      },\n      {\n        name: 'Tennis',\n        description: 'A racket sport that can be ...',\n        category: 'Individual Sports',\n        icon: 'tennis.png',\n      },\n    ]\n  }\n  export default {\n    data: {\n      sports: [],\n    },\n    onInit() {\n      this.sports = getSportsList().map((item) => ({\n        name: item.name,\n        icon: item.icon,\n      }))\n    },\n  }\n</script>", "language": "html", "index": 3}, {"code": "<template>\n  <div>\n    <text>{{person.name}}</text>\n    <text>{{person.location}}</text>\n  </div>\n</template>\n\n<script>\n  export default {\n    data: {\n      person: {\n        name: 'Vance',\n        location: 'shenzhen',\n      },\n    },\n    onInit() {\n      const location = 'location'\n      this.person[location] = 'beijing'\n    },\n  }\n</script>", "language": "html", "index": 4}, {"code": "<template>\n  <div>\n    <text>{{person.name}}</text>\n    <text>{{person.location}}</text>\n  </div>\n</template>\n\n<script>\n  export default {\n    data: {\n      person: {\n        name: 'Vance',\n        location: 'shenzhen',\n      },\n    },\n    onInit() {\n      this.person.location = 'beijing'\n    },\n  }\n</script>", "language": "html", "index": 5}, {"code": "<template>\n  <div>\n    <text>{{obj.a.name}}</text>\n    <text>{{obj.b.name}}</text>\n  </div>\n</template>\n\n<script>\n  export default {\n    data: {\n      obj: {\n        a: {\n          name: 'name a',\n        },\n        b: {\n          name: 'name b',\n        },\n      },\n    },\n  }\n</script>", "language": "html", "index": 6}, {"code": "<template>\n  <div>\n    <text>{{obj.a}}</text>\n    <text>{{obj.b}}</text>\n  </div>\n</template>\n\n<script>\n  export default {\n    data: {\n      obj: {\n        a: 'name a',\n        b: 'name b',\n      },\n    },\n  }\n</script>", "language": "html", "index": 7}], "frontmatter": {"title": "响应式数据优化"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/perf-guide/perf-frame-rate/", "category": "tutorial", "crawl_time": "2025-11-24T02:23:01.984996", "status": "success", "title": "帧率优化指引", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"帧率优化指引\" style=\"position:relative;\"><a aria-label=\"帧率优化指引 permalink\" class=\"anchor before\" href=\"#%E5%B8%A7%E7%8E%87%E4%BC%98%E5%8C%96%E6%8C%87%E5%BC%95\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>帧率优化指引</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-04-25 20:12:10\">2025-04-25 20:12:10</time></p>\n<p>本节介绍提升帧率的有效方法。</p>\n<h2 id=\"避免冗余背景声明\" style=\"position:relative;\"><a aria-label=\"避免冗余背景声明 permalink\" class=\"anchor before\" href=\"#%E9%81%BF%E5%85%8D%E5%86%97%E4%BD%99%E8%83%8C%E6%99%AF%E5%A3%B0%E6%98%8E\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>避免冗余背景声明</h2>\n<ul>\n<li>如背景色为黑色，则不需要另外设置黑色（默认背景色为黑色）</li>\n<li>如父容器已经有背景颜色，则不需要单独给页面的容器设置一样的背景色</li>\n</ul>\n<h2 id=\"给-div-组件设置宽高\" style=\"position:relative;\"><a aria-label=\"给 div 组件设置宽高 permalink\" class=\"anchor before\" href=\"#%E7%BB%99-div-%E7%BB%84%E4%BB%B6%E8%AE%BE%E7%BD%AE%E5%AE%BD%E9%AB%98\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>给 div 组件设置宽高</h2>\n<ul>\n<li>横向布局至少设置高度</li>\n<li>纵向布局至少设置宽度</li>\n</ul>\n<h2 id=\"使用图片的原始尺寸\" style=\"position:relative;\"><a aria-label=\"使用图片的原始尺寸 permalink\" class=\"anchor before\" href=\"#%E4%BD%BF%E7%94%A8%E5%9B%BE%E7%89%87%E7%9A%84%E5%8E%9F%E5%A7%8B%E5%B0%BA%E5%AF%B8\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>使用图片的原始尺寸</h2>\n<ul>\n<li>image 组件上的宽高使用图片的原始尺寸</li>\n<li>background-image 上使用图片的原始尺寸</li>\n</ul></body></html></div>", "content_text": "帧率优化指引\n更新时间：\n2025-04-25 20:12:10\n本节介绍提升帧率的有效方法。\n避免冗余背景声明\n如背景色为黑色，则不需要另外设置黑色（默认背景色为黑色）\n如父容器已经有背景颜色，则不需要单独给页面的容器设置一样的背景色\n给 div 组件设置宽高\n横向布局至少设置高度\n纵向布局至少设置宽度\n使用图片的原始尺寸\nimage 组件上的宽高使用图片的原始尺寸\nbackground-image 上使用图片的原始尺寸", "code_examples": [], "frontmatter": {"title": "帧率优化指引"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/perf-guide/perf-init/", "category": "tutorial", "crawl_time": "2025-11-24T02:23:03.647349", "status": "success", "title": "减少初始化开销", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"减少初始化开销\" style=\"position:relative;\"><a aria-label=\"减少初始化开销 permalink\" class=\"anchor before\" href=\"#%E5%87%8F%E5%B0%91%E5%88%9D%E5%A7%8B%E5%8C%96%E5%BC%80%E9%94%80\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>减少初始化开销</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-04-28 19:30:44\">2025-04-28 19:30:44</time></p>\n<p>应用初始化阶段的代码复杂度直接影响应用/页面实例的创建耗时，优化该阶段的执行效率能显著改善首屏渲染性能。</p>\n<h2 id=\"避免引入耗时自执行模块\" style=\"position:relative;\"><a aria-label=\"避免引入耗时自执行模块 permalink\" class=\"anchor before\" href=\"#%E9%81%BF%E5%85%8D%E5%BC%95%E5%85%A5%E8%80%97%E6%97%B6%E8%87%AA%E6%89%A7%E8%A1%8C%E6%A8%A1%E5%9D%97\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>避免引入耗时自执行模块</h2>\n<p><strong>推荐级别：强烈</strong></p>\n<p>模块中的自执行逻辑会在导入时立即执行，导致页面加载阻塞。应将初始化逻辑移至生命周期钩子中按需执行。</p>\n<p><strong>反例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn0\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// init.js 中的自执行逻辑会立即执行，延长加载时间</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'./init.js'</span> <span class=\"token comment\">// 包含立即执行的复杂初始化逻辑</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<p><strong>正例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn1\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 将初始化逻辑移至生命周期钩子中按需执行</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">performInitialization</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">performInitialization</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 具体的初始化操作</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<h2 id=\"优化-appux-数据管理\" style=\"position:relative;\"><a aria-label=\"优化 appux 数据管理 permalink\" class=\"anchor before\" href=\"#%E4%BC%98%E5%8C%96-appux-%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>优化 app.ux 数据管理</h2>\n<p><strong>推荐级别：建议</strong></p>\n<p>过度加载的全局数据会延长应用启动时间，建议遵循以下原则：</p>\n<ol>\n<li>仅将全局共享状态存储在 app.ux</li>\n<li>工具类方法按需在各页面独立引入</li>\n</ol>\n<p><strong>反例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn2\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// app.ux</span>\n<span class=\"token keyword\">import</span> utils <span class=\"token keyword\">from</span> <span class=\"token string\">'./utils'</span> <span class=\"token comment\">// 引入可能包含复杂逻辑的工具库</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  utils<span class=\"token punctuation\">,</span> <span class=\"token comment\">// 全局挂载非必要工具方法</span>\n  <span class=\"token comment\">// ...其他全局配置</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn2\">复制代码</div></div>\n<h2 id=\"长页面分段加载\" style=\"position:relative;\"><a aria-label=\"长页面分段加载 permalink\" class=\"anchor before\" href=\"#%E9%95%BF%E9%A1%B5%E9%9D%A2%E5%88%86%E6%AE%B5%E5%8A%A0%E8%BD%BD\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>长页面分段加载</h2>\n<p><strong>推荐级别：建议</strong></p>\n<p>对复杂长页面实施分阶段加载策略：</p>\n<ol>\n<li>首屏优先加载关键数据/视图</li>\n<li>可视区域外内容延迟加载</li>\n</ol>\n<p><strong>正例 1</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn3\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{visibleItems}}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{$item}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">const</span> fullDataset <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span><span class=\"token comment\">/* 完整数据集 */</span><span class=\"token punctuation\">]</span>\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">visibleItems</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 首屏加载前6条</span>\n     <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>visibleItems <span class=\"token operator\">=</span> fullDataset<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">onShow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// onShow 后显示所有数据</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>visibleItems <span class=\"token operator\">=</span> fullDataset\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn3\">复制代码</div></div>\n<p><strong>正例 2</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn4\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 首屏核心模块 --&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>critical-module</span> <span class=\"token punctuation\">/&gt;</span></span>\n\n    <span class=\"token comment\">&lt;!-- 次要模块延迟加载 --&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>secondary-module</span> <span class=\"token attr-name\">if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{isSecondaryLoaded}}<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">isSecondaryLoaded</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">onShow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 首屏渲染完成后加载次要模块</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isSecondaryLoaded <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn4\">复制代码</div></div></body></html></div>", "content_text": "减少初始化开销\n更新时间：\n2025-04-28 19:30:44\n应用初始化阶段的代码复杂度直接影响应用/页面实例的创建耗时，优化该阶段的执行效率能显著改善首屏渲染性能。\n避免引入耗时自执行模块\n推荐级别：强烈\n模块中的自执行逻辑会在导入时立即执行，导致页面加载阻塞。应将初始化逻辑移至生命周期钩子中按需执行。\n反例\n// init.js 中的自执行逻辑会立即执行，延长加载时间\nimport\n'./init.js'\n// 包含立即执行的复杂初始化逻辑\nexport\ndefault\n{\n}\n复制代码\n正例\nexport\ndefault\n{\nonInit\n(\n)\n{\n// 将初始化逻辑移至生命周期钩子中按需执行\nthis\n.\nperformInitialization\n(\n)\n}\n,\nperformInitialization\n(\n)\n{\n// 具体的初始化操作\n}\n,\n}\n复制代码\n优化 app.ux 数据管理\n推荐级别：建议\n过度加载的全局数据会延长应用启动时间，建议遵循以下原则：\n仅将全局共享状态存储在 app.ux\n工具类方法按需在各页面独立引入\n反例\n// app.ux\nimport\nutils\nfrom\n'./utils'\n// 引入可能包含复杂逻辑的工具库\nexport\ndefault\n{\nutils\n,\n// 全局挂载非必要工具方法\n// ...其他全局配置\n}\n复制代码\n长页面分段加载\n推荐级别：建议\n对复杂长页面实施分阶段加载策略：\n首屏优先加载关键数据/视图\n可视区域外内容延迟加载\n正例 1\n<\ntemplate\n>\n<\ndiv\n>\n<\ndiv\nfor\n=\n\"\n{{visibleItems}}\n\"\n>\n<\ntext\n>\n{{$item}}\n</\ntext\n>\n</\ndiv\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nscript\n>\nconst\nfullDataset\n=\n[\n...\n/* 完整数据集 */\n]\nexport\ndefault\n{\ndata\n:\n{\nvisibleItems\n:\n[\n]\n,\n}\n,\nonInit\n(\n)\n{\n// 首屏加载前6条\nthis\n.\nvisibleItems\n=\nfullDataset\n.\nslice\n(\n0\n,\n6\n)\n}\n,\nonShow\n(\n)\n{\n// onShow 后显示所有数据\nthis\n.\nvisibleItems\n=\nfullDataset\n}\n,\n}\n</\nscript\n>\n复制代码\n正例 2\n<\ntemplate\n>\n<\ndiv\n>\n<!-- 首屏核心模块 -->\n<\ncritical-module\n/>\n<!-- 次要模块延迟加载 -->\n<\nsecondary-module\nif\n=\n\"\n{{isSecondaryLoaded}}\n\"\n/>\n</\ndiv\n>\n</\ntemplate\n>\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\nisSecondaryLoaded\n:\nfalse\n,\n}\n,\nonShow\n(\n)\n{\n// 首屏渲染完成后加载次要模块\nthis\n.\nisSecondaryLoaded\n=\ntrue\n}\n,\n}\n</\nscript\n>\n复制代码", "code_examples": [{"code": "// init.js 中的自执行逻辑会立即执行，延长加载时间\nimport './init.js' // 包含立即执行的复杂初始化逻辑\nexport default {}", "language": "js", "index": 0}, {"code": "export default {\n  onInit() {\n    // 将初始化逻辑移至生命周期钩子中按需执行\n    this.performInitialization()\n  },\n  performInitialization() {\n    // 具体的初始化操作\n  },\n}", "language": "js", "index": 1}, {"code": "// app.ux\nimport utils from './utils' // 引入可能包含复杂逻辑的工具库\n\nexport default {\n  utils, // 全局挂载非必要工具方法\n  // ...其他全局配置\n}", "language": "js", "index": 2}, {"code": "<template>\n  <div>\n    <div for=\"{{visibleItems}}\">\n      <text>{{$item}}</text>\n    </div>\n  </div>\n</template>\n<script>\n  const fullDataset = [.../* 完整数据集 */]\n  export default {\n    data: {\n      visibleItems: [],\n    },\n    onInit() {\n      // 首屏加载前6条\n     this.visibleItems = fullDataset.slice(0, 6)\n    },\n    onShow() {\n      // onShow 后显示所有数据\n      this.visibleItems = fullDataset\n    },\n  }\n</script>", "language": "html", "index": 3}, {"code": "<template>\n  <div>\n    <!-- 首屏核心模块 -->\n    <critical-module />\n\n    <!-- 次要模块延迟加载 -->\n    <secondary-module if=\"{{isSecondaryLoaded}}\" />\n  </div>\n</template>\n<script>\n  export default {\n    data: {\n      isSecondaryLoaded: false,\n    },\n    onShow() {\n      // 首屏渲染完成后加载次要模块\n      this.isSecondaryLoaded = true\n    },\n  }\n</script>", "language": "html", "index": 4}], "frontmatter": {"title": "减少初始化开销"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/perf-guide/perf-longlist/", "category": "tutorial", "crawl_time": "2025-11-24T02:23:05.689761", "status": "success", "title": "长列表性能优化", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"长列表性能优化\" style=\"position:relative;\"><a aria-label=\"长列表性能优化 permalink\" class=\"anchor before\" href=\"#%E9%95%BF%E5%88%97%E8%A1%A8%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>长列表性能优化</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-10-09 11:25:10\">2025-10-09 11:25:10</time></p>\n<p>本文阐述了长列表场景下的性能优化方案，在开发过程中遇到长列表性能问题时，可参考下面优化方案。</p>\n<h2 id=\"分离固定标题与列表容器\" style=\"position:relative;\"><a aria-label=\"分离固定标题与列表容器 permalink\" class=\"anchor before\" href=\"#%E5%88%86%E7%A6%BB%E5%9B%BA%E5%AE%9A%E6%A0%87%E9%A2%98%E4%B8%8E%E5%88%97%E8%A1%A8%E5%AE%B9%E5%99%A8\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>分离固定标题与列表容器</h2>\n<p>当<code class=\"language-text\">&lt;list&gt;</code>组件滚动时，内部元素复杂度直接影响滚动性能。建议将固定标题等静态元素移出列表容器，采用绝对定位等方式处理。</p>\n<p><strong>推荐级别：强烈</strong></p>\n<p><strong>反例</strong></p>\n<p>标题内嵌于列表容器，影响滚动性能：</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn0\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>list</span> <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>list-item</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>vw-title</span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>蔬菜列表<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">is-fixed</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>vw-title</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>list-item</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 列表内容 --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>list</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<p><strong>正例</strong></p>\n<p>通过外层容器实现布局分离：</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn1\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>list-container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>vw-title</span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>蔬菜列表<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">is-fixed</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>vw-title</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>list</span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token comment\">&lt;!-- 列表内容 --&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>list</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<h2 id=\"避免模板内表达式\" style=\"position:relative;\"><a aria-label=\"避免模板内表达式 permalink\" class=\"anchor before\" href=\"#%E9%81%BF%E5%85%8D%E6%A8%A1%E6%9D%BF%E5%86%85%E8%A1%A8%E8%BE%BE%E5%BC%8F\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>避免模板内表达式</h2>\n<p>模板中的复杂表达式会频繁触发 JS 引擎执行，建议通过数据预处理替代模板运算。</p>\n<p><strong>推荐级别：强烈</strong></p>\n<p><strong>反例</strong></p>\n<p>模板中使用条件表达式：</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn2\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{foodList}}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{$item.vegetarian ? 'Vegetarian' : 'Non-Vegetarian'}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn2\">复制代码</div></div>\n<p><strong>正例</strong></p>\n<p>预处理数据格式：</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><div id=\"copyBtn3\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// Script部分</span>\ndata<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  foodList<span class=\"token operator\">:</span> foodList<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">...</span>item<span class=\"token punctuation\">,</span>\n    vegetarianStatus<span class=\"token operator\">:</span> item<span class=\"token punctuation\">.</span>vegetarian <span class=\"token operator\">?</span> <span class=\"token string\">'Vegetarian'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'Non-Vegetarian'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn3\">复制代码</div></div>\n<h2 id=\"规避列表循环中的自定义组件\" style=\"position:relative;\"><a aria-label=\"规避列表循环中的自定义组件 permalink\" class=\"anchor before\" href=\"#%E8%A7%84%E9%81%BF%E5%88%97%E8%A1%A8%E5%BE%AA%E7%8E%AF%E4%B8%AD%E7%9A%84%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>规避列表循环中的自定义组件</h2>\n<p><strong>推荐级别：强烈</strong></p>\n<p>列表项内使用自定义组件会创建大量 vm 实例，建议优先使用原生组件。</p>\n<h2 id=\"保持列表数据独立性\" style=\"position:relative;\"><a aria-label=\"保持列表数据独立性 permalink\" class=\"anchor before\" href=\"#%E4%BF%9D%E6%8C%81%E5%88%97%E8%A1%A8%E6%95%B0%E6%8D%AE%E7%8B%AC%E7%AB%8B%E6%80%A7\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>保持列表数据独立性</h2>\n<p><strong>推荐级别：强烈</strong></p>\n<p>确保列表项仅依赖自身数据，避免引入外部响应式变量。</p>\n<p><strong>反例</strong></p>\n<p>依赖外部变量：</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn4\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{list}}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{$item.num &gt; count ? 'red' : 'blue'}}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>{{$item.num}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn4\">复制代码</div></div>\n<p><strong>正例</strong></p>\n<p>预处理样式状态：</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><div id=\"copyBtn5\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// 预处理时添加状态字段</span>\nlist<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>item<span class=\"token punctuation\">,</span>\n  className<span class=\"token operator\">:</span> item<span class=\"token punctuation\">.</span>num <span class=\"token operator\">&gt;</span> threshold <span class=\"token operator\">?</span> <span class=\"token string\">'red'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'blue'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn5\">复制代码</div></div>\n<h2 id=\"分段懒加载实现\" style=\"position:relative;\"><a aria-label=\"分段懒加载实现 permalink\" class=\"anchor before\" href=\"#%E5%88%86%E6%AE%B5%E6%87%92%E5%8A%A0%E8%BD%BD%E5%AE%9E%E7%8E%B0\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>分段懒加载实现</h2>\n<p><strong>推荐级别：强烈</strong></p>\n<p>结合滚动监听实现动态加载，分页大小控制在一屏可见就可以。</p>\n<p><strong>正例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><div id=\"copyBtn6\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">let</span> currentPage <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">async</span> <span class=\"token function\">loadMore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> newData <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetchPageData</span><span class=\"token punctuation\">(</span><span class=\"token operator\">++</span>currentPage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>list <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>list<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>newData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn6\">复制代码</div></div>\n<h2 id=\"关注-oninit-的执行时间\" style=\"position:relative;\"><a aria-label=\"关注 oninit 的执行时间 permalink\" class=\"anchor before\" href=\"#%E5%85%B3%E6%B3%A8-oninit-%E7%9A%84%E6%89%A7%E8%A1%8C%E6%97%B6%E9%97%B4\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>关注 onInit 的执行时间</h2>\n<p><strong>推荐级别：建议</strong></p>\n<p>使用性能分析工具监控关键生命周期。</p></body></html></div>", "content_text": "长列表性能优化\n更新时间：\n2025-10-09 11:25:10\n本文阐述了长列表场景下的性能优化方案，在开发过程中遇到长列表性能问题时，可参考下面优化方案。\n分离固定标题与列表容器\n当\n<list>\n组件滚动时，内部元素复杂度直接影响滚动性能。建议将固定标题等静态元素移出列表容器，采用绝对定位等方式处理。\n推荐级别：强烈\n反例\n标题内嵌于列表容器，影响滚动性能：\n<\ntemplate\n>\n<\nlist\ntitle\n=\n\"\ntrue\n\"\n>\n<\nlist-item\ntype\n=\n\"\ntitle\n\"\n>\n<\nvw-title\nvalue\n=\n\"\n蔬菜列表\n\"\nis-fixed\n=\n\"\ntrue\n\"\n>\n</\nvw-title\n>\n</\nlist-item\n>\n<!-- 列表内容 -->\n</\nlist\n>\n</\ntemplate\n>\n复制代码\n正例\n通过外层容器实现布局分离：\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\nlist-container\n\"\n>\n<\nvw-title\nvalue\n=\n\"\n蔬菜列表\n\"\nis-fixed\n=\n\"\ntrue\n\"\n>\n</\nvw-title\n>\n<\nlist\n>\n<!-- 列表内容 -->\n</\nlist\n>\n</\ndiv\n>\n</\ntemplate\n>\n复制代码\n避免模板内表达式\n模板中的复杂表达式会频繁触发 JS 引擎执行，建议通过数据预处理替代模板运算。\n推荐级别：强烈\n反例\n模板中使用条件表达式：\n<\ndiv\nfor\n=\n\"\n{{foodList}}\n\"\n>\n<\ntext\n>\n{{$item.vegetarian ? 'Vegetarian' : 'Non-Vegetarian'}}\n</\ntext\n>\n</\ndiv\n>\n复制代码\n正例\n预处理数据格式：\n// Script部分\ndata\n:\n{\nfoodList\n:\nfoodList\n.\nmap\n(\n(\nitem\n)\n=>\n(\n{\n...\nitem\n,\nvegetarianStatus\n:\nitem\n.\nvegetarian\n?\n'Vegetarian'\n:\n'Non-Vegetarian'\n,\n}\n)\n)\n}\n复制代码\n规避列表循环中的自定义组件\n推荐级别：强烈\n列表项内使用自定义组件会创建大量 vm 实例，建议优先使用原生组件。\n保持列表数据独立性\n推荐级别：强烈\n确保列表项仅依赖自身数据，避免引入外部响应式变量。\n反例\n依赖外部变量：\n<\ndiv\nfor\n=\n\"\n{{list}}\n\"\n>\n<\ntext\nclass\n=\n\"\n{{$item.num > count ? 'red' : 'blue'}}\n\"\n>\n{{$item.num}}\n</\ntext\n>\n</\ndiv\n>\n复制代码\n正例\n预处理样式状态：\n// 预处理时添加状态字段\nlist\n.\nmap\n(\n(\nitem\n)\n=>\n(\n{\n...\nitem\n,\nclassName\n:\nitem\n.\nnum\n>\nthreshold\n?\n'red'\n:\n'blue'\n,\n}\n)\n)\n复制代码\n分段懒加载实现\n推荐级别：强烈\n结合滚动监听实现动态加载，分页大小控制在一屏可见就可以。\n正例\nlet\ncurrentPage\n=\n0\n;\nasync\nloadMore\n(\n)\n{\nconst\nnewData\n=\nawait\nfetchPageData\n(\n++\ncurrentPage\n)\n;\nthis\n.\nlist\n=\nthis\n.\nlist\n.\npush\n(\n...\nnewData\n)\n;\n}\n复制代码\n关注 onInit 的执行时间\n推荐级别：建议\n使用性能分析工具监控关键生命周期。", "code_examples": [{"code": "<template>\n  <list title=\"true\">\n    <list-item type=\"title\">\n      <vw-title value=\"蔬菜列表\" is-fixed=\"true\"></vw-title>\n    </list-item>\n    <!-- 列表内容 -->\n  </list>\n</template>", "language": "html", "index": 0}, {"code": "<template>\n  <div class=\"list-container\">\n    <vw-title value=\"蔬菜列表\" is-fixed=\"true\"></vw-title>\n    <list>\n      <!-- 列表内容 -->\n    </list>\n  </div>\n</template>", "language": "html", "index": 1}, {"code": "<div for=\"{{foodList}}\">\n  <text>{{$item.vegetarian ? 'Vegetarian' : 'Non-Vegetarian'}}</text>\n</div>", "language": "html", "index": 2}, {"code": "// Script部分\ndata: {\n  foodList: foodList.map((item) => ({\n    ...item,\n    vegetarianStatus: item.vegetarian ? 'Vegetarian' : 'Non-Vegetarian',\n  }))\n}", "language": "ts", "index": 3}, {"code": "<div for=\"{{list}}\">\n  <text class=\"{{$item.num > count ? 'red' : 'blue'}}\">{{$item.num}}</text>\n</div>", "language": "html", "index": 4}, {"code": "// 预处理时添加状态字段\nlist.map((item) => ({\n  ...item,\n  className: item.num > threshold ? 'red' : 'blue',\n}))", "language": "ts", "index": 5}, {"code": "let currentPage = 0;\n\nasync loadMore() {\n  const newData = await fetchPageData(++currentPage);\n  this.list = this.list.push(...newData);\n}", "language": "ts", "index": 6}], "frontmatter": {"title": "长列表性能优化"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/perf-guide/perf-memory-leak/", "category": "tutorial", "crawl_time": "2025-11-24T02:23:07.850237", "status": "success", "title": "js 内存泄漏排查", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"js-内存泄漏排查\" style=\"position:relative;\"><a aria-label=\"js 内存泄漏排查 permalink\" class=\"anchor before\" href=\"#js-%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E6%8E%92%E6%9F%A5\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>js 内存泄漏排查</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-05-20 10:54:23\">2025-05-20 10:54:23</time></p>\n<p>在需要排查的场景先后进行两次 dump, 比如排查页面泄漏，在进入页面前 dump 一次，进入页面退出后再 dump 一次</p>\n<p>导出泄漏可以分为两种情况</p>\n<ul>\n<li>\n<p>如果应用不需要底层能力支撑</p>\n<p>比如不需要 <code class=\"language-text\">blueos.multimedia.audio</code>这些底层能力，可以直接在 BlueOS Studio 测试，在下图场景前后分别点击 <code class=\"language-text\">位置 4</code> 进行 dump</p>\n</li>\n<li>\n<p>如果应用需要底层能力支持</p>\n</li>\n</ul>\n<p>​ 先安装具有能 dump js heap 的固件， <code class=\"language-text\">dump_js_heap /sdcard</code> , 然后拷贝到主机，来到 BlueOS Studio 的面板进行 <code class=\"language-text\">位置3</code>加载</p>\n<p>下图为 js heap 分析和导出的在 BlueOS Studio 中位置<code class=\"language-text\">Devtool-&gt;Snapshot-&gt;Profile</code></p>\n<p><img alt=\"sample_eg25\" src=\"/9e5f013430e1f98818f8fc0642438567/sample_eg25.png\"/></p>\n<h2 id=\"分析泄漏\" style=\"position:relative;\"><a aria-label=\"分析泄漏 permalink\" class=\"anchor before\" href=\"#%E5%88%86%E6%9E%90%E6%B3%84%E6%BC%8F\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>分析泄漏</h2>\n<p>比如我们构造一个常见的泄漏，event 订阅了但没有取消 （npm 类库 <a href=\"https://www.npmjs.com/package/eventemitter3\" target=\"_blank\">[eventEmitter3]</a>有类似的问题）</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn0\"><pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token keyword\">import</span> event <span class=\"token keyword\">from</span> <span class=\"token string\">'@blueos.app.event'</span>\n  <span class=\"token function\">onReady</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> that <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span>\n    <span class=\"token keyword\">const</span> evtId <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">eventName</span><span class=\"token operator\">:</span> <span class=\"token string\">'myEventName'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function-variable function\">callback</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token function\">MyEvent</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>params<span class=\"token punctuation\">)</span>\n        that<span class=\"token punctuation\">.</span><span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<p>进入退出页面后，导出两份 snapshot，选中第二份 snapshot (标号 1), 在 <code class=\"language-text\">标号2</code> 处切换到 <code class=\"language-text\">comparison</code>试图，然后重点关注<code class=\"language-text\">标号3</code>的 Delta 部分， 增量即为泄漏</p>\n<p>可以重点关注以下对象</p>\n<ul>\n<li>App, 每个应用有一个，如果新增，代表应用泄漏</li>\n<li>Page，对应一个页面或者表盘，有新增代表相关泄漏</li>\n<li>Vm，每个 Page 和自定义组件对应一个 Vm，List 的每个 Item 不触发 JIT 的情况也会有</li>\n<li>自己 Page 中特有的对象和函数</li>\n</ul>\n<p><img alt=\"sample_eg26\" src=\"/185e981127f6e4db7302928df73b0d86/sample_eg26.png\"/></p>\n<h3 id=\"其他说明\" style=\"position:relative;\"><a aria-label=\"其他说明 permalink\" class=\"anchor before\" href=\"#%E5%85%B6%E4%BB%96%E8%AF%B4%E6%98%8E\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>其他说明</h3>\n<ul>\n<li>\n<p>标号 4 <code class=\"language-text\">_valid</code> 可以 Page 是否泄漏</p>\n</li>\n<li>\n<p>标号 5 内容不为空（有右箭头），说明有 timer 泄漏</p>\n</li>\n</ul>\n<p>这个格式其实是 chrome 的 devtools 的标准格式</p></body></html></div>", "content_text": "js 内存泄漏排查\n更新时间：\n2025-05-20 10:54:23\n在需要排查的场景先后进行两次 dump, 比如排查页面泄漏，在进入页面前 dump 一次，进入页面退出后再 dump 一次\n导出泄漏可以分为两种情况\n如果应用不需要底层能力支撑\n比如不需要\nblueos.multimedia.audio\n这些底层能力，可以直接在 BlueOS Studio 测试，在下图场景前后分别点击\n位置 4\n进行 dump\n如果应用需要底层能力支持\n​ 先安装具有能 dump js heap 的固件，\ndump_js_heap /sdcard\n, 然后拷贝到主机，来到 BlueOS Studio 的面板进行\n位置3\n加载\n下图为 js heap 分析和导出的在 BlueOS Studio 中位置\nDevtool->Snapshot->Profile\n分析泄漏\n比如我们构造一个常见的泄漏，event 订阅了但没有取消 （npm 类库\n[eventEmitter3]\n有类似的问题）\nimport\nevent\nfrom\n'@blueos.app.event'\nonReady\n(\n)\n{\nconst\nthat\n=\nthis\nconst\nevtId\n=\nevent\n.\nsubscribe\n(\n{\neventName\n:\n'myEventName'\n,\ncallback\n:\nfunction\nMyEvent\n(\nres\n)\n{\nconsole\n.\nlog\n(\nres\n.\nparams\n)\nthat\n.\nhello\n(\n)\n}\n,\n}\n)\n复制代码\n进入退出页面后，导出两份 snapshot，选中第二份 snapshot (标号 1), 在\n标号2\n处切换到\ncomparison\n试图，然后重点关注\n标号3\n的 Delta 部分， 增量即为泄漏\n可以重点关注以下对象\nApp, 每个应用有一个，如果新增，代表应用泄漏\nPage，对应一个页面或者表盘，有新增代表相关泄漏\nVm，每个 Page 和自定义组件对应一个 Vm，List 的每个 Item 不触发 JIT 的情况也会有\n自己 Page 中特有的对象和函数\n其他说明\n标号 4\n_valid\n可以 Page 是否泄漏\n标号 5 内容不为空（有右箭头），说明有 timer 泄漏\n这个格式其实是 chrome 的 devtools 的标准格式", "code_examples": [{"code": "import event from '@blueos.app.event'\n  onReady() {\n    const that = this\n    const evtId = event.subscribe({\n      eventName: 'myEventName',\n      callback: function MyEvent(res) {\n        console.log(res.params)\n        that.hello()\n      },\n    })", "language": "js", "index": 0}], "frontmatter": {"title": "js 内存泄漏排查"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/perf-guide/perf-runtime/", "category": "tutorial", "crawl_time": "2025-11-24T02:23:10.129388", "status": "success", "title": "运行时性能优化", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"运行时性能优化\" style=\"position:relative;\"><a aria-label=\"运行时性能优化 permalink\" class=\"anchor before\" href=\"#%E8%BF%90%E8%A1%8C%E6%97%B6%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>运行时性能优化</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-04-27 11:06:02\">2025-04-27 11:06:02</time></p>\n<p>本节提供的关键优化手段可显著提升页面渲染与更新效率。</p>\n<h2 id=\"避免在-css-中使用-id-选择器\" style=\"position:relative;\"><a aria-label=\"避免在 css 中使用 id 选择器 permalink\" class=\"anchor before\" href=\"#%E9%81%BF%E5%85%8D%E5%9C%A8-css-%E4%B8%AD%E4%BD%BF%E7%94%A8-id-%E9%80%89%E6%8B%A9%E5%99%A8\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>避免在 CSS 中使用 ID 选择器</h2>\n<p><strong>推荐级别：强烈</strong></p>\n<p>如果只需要在 css 中给组件添加样式，建议使用 class 选择器，只有需要使用 js 操作组件时，才会给组件注册 ID。</p>\n<p><strong>反例 1</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn0\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- 错误：在CSS中通过ID定义样式 --&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>red<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token selector\">#red</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token comment\">/* 存在选择器性能损耗 */</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<p><strong>正例 1</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn1\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- 正确：使用class类选择器 --&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>red<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token selector\">.red</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token comment\">/* 高效样式定义方式 */</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<p><strong>特殊场景说明</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn2\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- 当元素需被JS操作时保留id --&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token comment\">&lt;!-- ID用于JS交互 --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>root<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$element</span><span class=\"token punctuation\">(</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 通过ID获取元素</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn2\">复制代码</div></div>\n<h2 id=\"避免循环指令与条件指令叠加使用\" style=\"position:relative;\"><a aria-label=\"避免循环指令与条件指令叠加使用 permalink\" class=\"anchor before\" href=\"#%E9%81%BF%E5%85%8D%E5%BE%AA%E7%8E%AF%E6%8C%87%E4%BB%A4%E4%B8%8E%E6%9D%A1%E4%BB%B6%E6%8C%87%E4%BB%A4%E5%8F%A0%E5%8A%A0%E4%BD%BF%E7%94%A8\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>避免循环指令与条件指令叠加使用</h2>\n<p><strong>推荐级别：建议</strong></p>\n<p>若需在循环渲染时进行条件过滤，建议在 JavaScript 中预处理数据，而非在模板层混合<code class=\"language-text\">for</code>与<code class=\"language-text\">if</code>指令。此优化可减少模板解析复杂度，避免重复渲染计算。</p>\n<p><strong>反例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn3\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- 低效：模板中混合循环与条件判断 --&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{foodList}}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{$item.vegetarian}}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{$item.name}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{$item.category}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn3\">复制代码</div></div>\n<p><strong>正例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn4\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- 高效：数据层预过滤 --&gt;</span>\n<span class=\"token comment\">&lt;!-- 直接渲染已过滤数据 --&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{vegetarianFoods}}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{$item.name}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{$item.category}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn4\">复制代码</div></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><div id=\"copyBtn5\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  data<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> vegetarianFoods<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>vegetarianFoods <span class=\"token operator\">=</span> foodList<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>food<span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> food<span class=\"token punctuation\">.</span>vegetarian<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn5\">复制代码</div></div>\n<h2 id=\"合理选择条件指令\" style=\"position:relative;\"><a aria-label=\"合理选择条件指令 permalink\" class=\"anchor before\" href=\"#%E5%90%88%E7%90%86%E9%80%89%E6%8B%A9%E6%9D%A1%E4%BB%B6%E6%8C%87%E4%BB%A4\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>合理选择条件指令</h2>\n<p><strong>推荐级别：建议</strong></p>\n<p><code class=\"language-text\">if</code>与<code class=\"language-text\">show</code>指令的本质差异在于 DOM 树操作机制：</p>\n<ul>\n<li><code class=\"language-text\">if</code>指令：触发组件级 DOM 树动态构建/销毁，适合低频次状态变更场景</li>\n<li><code class=\"language-text\">show</code>指令：通过 CSS display 属性控制可视性，DOM 结构保持稳定，适用于高频次显隐切换场景</li>\n</ul>\n<p>最佳实践原则：</p>\n<ul>\n<li>首屏不可见但需快速激活 → <code class=\"language-text\">if</code>指令（降低初始化开销）</li>\n<li>高频交互元素（如 Tab 切换） → <code class=\"language-text\">show</code>指令（减少 DOM 操作损耗）</li>\n</ul>\n<p><strong>反例 1</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn6\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- show指令导致隐藏元素参与首屏渲染，破坏分段加载设计 --&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>首屏核心模块<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">show</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{display}}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>延迟加载模块<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">onShow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span> <span class=\"token comment\">// 触发CSS样式变更而非DOM操作</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn6\">复制代码</div></div>\n<p><strong>正例 1</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn7\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>首屏核心模块<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{display}}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>动态加载模块<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">onShow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span> <span class=\"token comment\">// 触发DOM树动态构建</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn7\">复制代码</div></div>\n<p><strong>反例 2</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn8\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- if指令导致高频DOM重建，引发布局抖动 --&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>changeView('A')<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>视图A<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>changeView('B')<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>视图B<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{viewState == 'A'}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>视图内容A<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">elif</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{viewState == 'B'}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>视图内容B<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn8\">复制代码</div></div>\n<p><strong>正例 2</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn9\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>changeView('A')<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>视图A<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>changeView('B')<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>视图B<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">show</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{viewState == 'A'}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>视图内容A<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">show</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{viewState == 'B'}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>视图内容B<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn9\">复制代码</div></div>\n<h2 id=\"组件层级精简\" style=\"position:relative;\"><a aria-label=\"组件层级精简 permalink\" class=\"anchor before\" href=\"#%E7%BB%84%E4%BB%B6%E5%B1%82%E7%BA%A7%E7%B2%BE%E7%AE%80\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>组件层级精简</h2>\n<p><strong>推荐级别：建议</strong></p>\n<p>在页面布局中，尽量减少组件的嵌套，如 <code class=\"language-text\">list-item</code> 本身可以作为容器，不需在其内部要额外的 div 嵌套。</p>\n<p><strong>反例</strong></p>\n<p>冗余嵌套结构</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn10\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>list</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>list-item</span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token comment\">&lt;!-- 冗余包装容器 --&gt;</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>数据项标题<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>image</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item.png<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>image</span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>list-item</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>list</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn10\">复制代码</div></div>\n<p><strong>正例</strong></p>\n<p>扁平化结构</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn11\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>list</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>list-item</span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>数据项标题<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>image</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item.png<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>image</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>list-item</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>list</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn11\">复制代码</div></div>\n<h2 id=\"组件抽象平衡法则\" style=\"position:relative;\"><a aria-label=\"组件抽象平衡法则 permalink\" class=\"anchor before\" href=\"#%E7%BB%84%E4%BB%B6%E6%8A%BD%E8%B1%A1%E5%B9%B3%E8%A1%A1%E6%B3%95%E5%88%99\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>组件抽象平衡法则</h2>\n<p><strong>推荐级别：鼓励</strong></p>\n<p>组件化需遵循以下原则：</p>\n<ol>\n<li>单一页面自定义组件数 ≤ 3</li>\n<li>简单元素组合（≤3 个基础组件）不建议抽象</li>\n</ol>\n<p><strong>反例</strong> 1</p>\n<p>过度抽象</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn12\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- 简单统计模块被过度拆分为独立组件 --&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>import</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>./components/heartRateBlock.ux<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>heartRate<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>import</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>import</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>./components/calorieBlock.ux<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>calorie<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>import</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn12\">复制代码</div></div>\n<p><strong>反例</strong> 2</p>\n<p>抽象组件滥用</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn13\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- 独立心率数字展示无需组件化 --&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>import</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>./components/heartRate.ux<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>import</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>heartRate</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>heartRate</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn13\">复制代码</div></div>\n<h2 id=\"页面职责单一化原则\" style=\"position:relative;\"><a aria-label=\"页面职责单一化原则 permalink\" class=\"anchor before\" href=\"#%E9%A1%B5%E9%9D%A2%E8%81%8C%E8%B4%A3%E5%8D%95%E4%B8%80%E5%8C%96%E5%8E%9F%E5%88%99\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>页面职责单一化原则</h2>\n<p><strong>推荐级别：鼓励</strong></p>\n<p>工程化实践要求：</p>\n<ol>\n<li>功能模块隔离：独立业务状态使用独立页面承载</li>\n<li>路由参数规范：仅传递必要标识参数，避免状态注入</li>\n<li>页面体积控制：单文件源码 ≤ 1000 行（编译前）</li>\n</ol>\n<p><strong>反例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn14\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token comment\">&lt;!-- 多态视图混合实例 --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{status === 1}}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>视图模块A<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 50+ 相关节点 --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{status === 2}}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>视图模块B<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 30+ 相关节点 --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">status</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 状态维护成本随功能增加而上升</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn14\">复制代码</div></div>\n<p><strong>正例</strong></p>\n<p>采用路由级组件拆分：</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn15\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- modules/module-a.ux --&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>optimized-view<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>独立视图模块A<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 功能隔离的节点树 --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token comment\">&lt;!-- modules/module-b.ux --&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>optimized-view<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>独立视图模块B<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 精简的独立节点树 --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn15\">复制代码</div></div>\n<h2 id=\"指定列表渲染标识\" style=\"position:relative;\"><a aria-label=\"指定列表渲染标识 permalink\" class=\"anchor before\" href=\"#%E6%8C%87%E5%AE%9A%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93%E6%A0%87%E8%AF%86\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>指定列表渲染标识</h2>\n<p><strong>推荐级别：鼓励</strong></p>\n<p>在动态列表场景中，通过<code class=\"language-text\">tid</code>属性指定唯一性标识，确保 Diff 算法准确执行节点复用。</p>\n<p><strong>实施要点</strong></p>\n<ol>\n<li>使用业务主键而非数组索引</li>\n<li>确保<code class=\"language-text\">tid</code>值的全局唯一性</li>\n</ol>\n<p><strong>正例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn16\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token comment\">&lt;!-- 使用唯一业务标识 --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{athleteList}}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">tid</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>athleteId<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sport-item<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    {{$item.rank}} {{$item.name}}\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">athleteList</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">athleteId</span><span class=\"token operator\">:</span> <span class=\"token number\">1001</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">rank</span><span class=\"token operator\">:</span> <span class=\"token string\">'金牌'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'张三'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">athleteId</span><span class=\"token operator\">:</span> <span class=\"token number\">1002</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">rank</span><span class=\"token operator\">:</span> <span class=\"token string\">'银牌'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'李四'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn16\">复制代码</div></div></body></html></div>", "content_text": "运行时性能优化\n更新时间：\n2025-04-27 11:06:02\n本节提供的关键优化手段可显著提升页面渲染与更新效率。\n避免在 CSS 中使用 ID 选择器\n推荐级别：强烈\n如果只需要在 css 中给组件添加样式，建议使用 class 选择器，只有需要使用 js 操作组件时，才会给组件注册 ID。\n反例 1\n<!-- 错误：在CSS中通过ID定义样式 -->\n<\ntemplate\n>\n<\ndiv\nid\n=\n\"\nred\n\"\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nstyle\n>\n#red\n{\ncolor\n:\nred\n;\n}\n/* 存在选择器性能损耗 */\n</\nstyle\n>\n复制代码\n正例 1\n<!-- 正确：使用class类选择器 -->\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\nred\n\"\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nstyle\n>\n.red\n{\ncolor\n:\nred\n;\n}\n/* 高效样式定义方式 */\n</\nstyle\n>\n复制代码\n特殊场景说明\n<!-- 当元素需被JS操作时保留id -->\n<\ntemplate\n>\n<!-- ID用于JS交互 -->\n<\ndiv\nid\n=\n\"\nroot\n\"\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nscript\n>\nexport\ndefault\n{\nonInit\n(\n)\n{\nthis\n.\n$element\n(\n'root'\n)\n.\nanimate\n(\n)\n// 通过ID获取元素\n}\n,\n}\n</\nscript\n>\n复制代码\n避免循环指令与条件指令叠加使用\n推荐级别：建议\n若需在循环渲染时进行条件过滤，建议在 JavaScript 中预处理数据，而非在模板层混合\nfor\n与\nif\n指令。此优化可减少模板解析复杂度，避免重复渲染计算。\n反例\n<!-- 低效：模板中混合循环与条件判断 -->\n<\ndiv\nfor\n=\n\"\n{{foodList}}\n\"\nif\n=\n\"\n{{$item.vegetarian}}\n\"\n>\n<\ntext\n>\n{{$item.name}}\n</\ntext\n>\n<\ntext\n>\n{{$item.category}}\n</\ntext\n>\n</\ndiv\n>\n复制代码\n正例\n<!-- 高效：数据层预过滤 -->\n<!-- 直接渲染已过滤数据 -->\n<\ndiv\nfor\n=\n\"\n{{vegetarianFoods}}\n\"\n>\n<\ntext\n>\n{{$item.name}}\n</\ntext\n>\n<\ntext\n>\n{{$item.category}}\n</\ntext\n>\n</\ndiv\n>\n复制代码\nexport\ndefault\n{\ndata\n:\n{\nvegetarianFoods\n:\n[\n]\n}\n,\nonInit\n(\n)\n{\nthis\n.\nvegetarianFoods\n=\nfoodList\n.\nfilter\n(\n(\nfood\n)\n=>\nfood\n.\nvegetarian\n)\n}\n,\n}\n复制代码\n合理选择条件指令\n推荐级别：建议\nif\n与\nshow\n指令的本质差异在于 DOM 树操作机制：\nif\n指令：触发组件级 DOM 树动态构建/销毁，适合低频次状态变更场景\nshow\n指令：通过 CSS display 属性控制可视性，DOM 结构保持稳定，适用于高频次显隐切换场景\n最佳实践原则：\n首屏不可见但需快速激活 →\nif\n指令（降低初始化开销）\n高频交互元素（如 Tab 切换） →\nshow\n指令（减少 DOM 操作损耗）\n反例 1\n<!-- show指令导致隐藏元素参与首屏渲染，破坏分段加载设计 -->\n<\ntemplate\n>\n<\ndiv\n>\n<\ndiv\n>\n首屏核心模块\n</\ndiv\n>\n<\ndiv\nshow\n=\n\"\n{{display}}\n\"\n>\n延迟加载模块\n</\ndiv\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\ndisplay\n:\nfalse\n}\n,\nonShow\n(\n)\n{\nthis\n.\ndisplay\n=\ntrue\n// 触发CSS样式变更而非DOM操作\n}\n,\n}\n</\nscript\n>\n复制代码\n正例 1\n<\ntemplate\n>\n<\ndiv\n>\n<\ndiv\n>\n首屏核心模块\n</\ndiv\n>\n<\ndiv\nif\n=\n\"\n{{display}}\n\"\n>\n动态加载模块\n</\ndiv\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\ndisplay\n:\nfalse\n}\n,\nonShow\n(\n)\n{\nthis\n.\ndisplay\n=\ntrue\n// 触发DOM树动态构建\n}\n,\n}\n</\nscript\n>\n复制代码\n反例 2\n<!-- if指令导致高频DOM重建，引发布局抖动 -->\n<\ntemplate\n>\n<\ndiv\n>\n<\ntext\n@click\n=\n\"\nchangeView('A')\n\"\n>\n视图A\n</\ntext\n>\n<\ntext\n@click\n=\n\"\nchangeView('B')\n\"\n>\n视图B\n</\ntext\n>\n<\ndiv\nif\n=\n\"\n{{viewState == 'A'}\n\"\n>\n视图内容A\n</\ndiv\n>\n<\ndiv\nelif\n=\n\"\n{{viewState == 'B'}\n\"\n>\n视图内容B\n</\ndiv\n>\n</\ndiv\n>\n</\ntemplate\n>\n复制代码\n正例 2\n<\ntemplate\n>\n<\ndiv\n>\n<\ntext\n@click\n=\n\"\nchangeView('A')\n\"\n>\n视图A\n</\ntext\n>\n<\ntext\n@click\n=\n\"\nchangeView('B')\n\"\n>\n视图B\n</\ntext\n>\n<\ndiv\nshow\n=\n\"\n{{viewState == 'A'}\n\"\n>\n视图内容A\n</\ndiv\n>\n<\ndiv\nshow\n=\n\"\n{{viewState == 'B'}\n\"\n>\n视图内容B\n</\ndiv\n>\n</\ndiv\n>\n</\ntemplate\n>\n复制代码\n组件层级精简\n推荐级别：建议\n在页面布局中，尽量减少组件的嵌套，如\nlist-item\n本身可以作为容器，不需在其内部要额外的 div 嵌套。\n反例\n冗余嵌套结构\n<\ntemplate\n>\n<\nlist\n>\n<\nlist-item\n>\n<!-- 冗余包装容器 -->\n<\ndiv\n>\n<\ntext\n>\n数据项标题\n</\ntext\n>\n<\nimage\nsrc\n=\n\"\nitem.png\n\"\n>\n</\nimage\n>\n</\ndiv\n>\n</\nlist-item\n>\n</\nlist\n>\n</\ntemplate\n>\n复制代码\n正例\n扁平化结构\n<\ntemplate\n>\n<\nlist\n>\n<\nlist-item\n>\n<\ntext\n>\n数据项标题\n</\ntext\n>\n<\nimage\nsrc\n=\n\"\nitem.png\n\"\n>\n</\nimage\n>\n</\nlist-item\n>\n</\nlist\n>\n</\ntemplate\n>\n复制代码\n组件抽象平衡法则\n推荐级别：鼓励\n组件化需遵循以下原则：\n单一页面自定义组件数 ≤ 3\n简单元素组合（≤3 个基础组件）不建议抽象\n反例\n1\n过度抽象\n<!-- 简单统计模块被过度拆分为独立组件 -->\n<\nimport\nsrc\n=\n\"\n./components/heartRateBlock.ux\n\"\nname\n=\n\"\nheartRate\n\"\n>\n</\nimport\n>\n<\nimport\nsrc\n=\n\"\n./components/calorieBlock.ux\n\"\nname\n=\n\"\ncalorie\n\"\n>\n</\nimport\n>\n复制代码\n反例\n2\n抽象组件滥用\n<!-- 独立心率数字展示无需组件化 -->\n<\nimport\nsrc\n=\n\"\n./components/heartRate.ux\n\"\n>\n</\nimport\n>\n<\ntemplate\n>\n<\nheartRate\n>\n</\nheartRate\n>\n</\ntemplate\n>\n复制代码\n页面职责单一化原则\n推荐级别：鼓励\n工程化实践要求：\n功能模块隔离：独立业务状态使用独立页面承载\n路由参数规范：仅传递必要标识参数，避免状态注入\n页面体积控制：单文件源码 ≤ 1000 行（编译前）\n反例\n<\ntemplate\n>\n<!-- 多态视图混合实例 -->\n<\ndiv\nif\n=\n\"\n{{status === 1}}\n\"\n>\n<\ndiv\n>\n视图模块A\n</\ndiv\n>\n<!-- 50+ 相关节点 -->\n</\ndiv\n>\n<\ndiv\nif\n=\n\"\n{{status === 2}}\n\"\n>\n<\ndiv\n>\n视图模块B\n</\ndiv\n>\n<!-- 30+ 相关节点 -->\n</\ndiv\n>\n</\ntemplate\n>\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\nstatus\n:\n1\n,\n// 状态维护成本随功能增加而上升\n}\n,\n}\n</\nscript\n>\n复制代码\n正例\n采用路由级组件拆分：\n<!-- modules/module-a.ux -->\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\noptimized-view\n\"\n>\n<\ndiv\n>\n独立视图模块A\n</\ndiv\n>\n<!-- 功能隔离的节点树 -->\n</\ndiv\n>\n</\ntemplate\n>\n<!-- modules/module-b.ux -->\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\noptimized-view\n\"\n>\n<\ndiv\n>\n独立视图模块B\n</\ndiv\n>\n<!-- 精简的独立节点树 -->\n</\ndiv\n>\n</\ntemplate\n>\n复制代码\n指定列表渲染标识\n推荐级别：鼓励\n在动态列表场景中，通过\ntid\n属性指定唯一性标识，确保 Diff 算法准确执行节点复用。\n实施要点\n使用业务主键而非数组索引\n确保\ntid\n值的全局唯一性\n正例\n<\ntemplate\n>\n<!-- 使用唯一业务标识 -->\n<\ntext\nfor\n=\n\"\n{{athleteList}}\n\"\ntid\n=\n\"\nathleteId\n\"\nclass\n=\n\"\nsport-item\n\"\n>\n{{$item.rank}} {{$item.name}}\n</\ntext\n>\n</\ntemplate\n>\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\nathleteList\n:\n[\n{\nathleteId\n:\n1001\n,\nrank\n:\n'金牌'\n,\nname\n:\n'张三'\n}\n,\n{\nathleteId\n:\n1002\n,\nrank\n:\n'银牌'\n,\nname\n:\n'李四'\n}\n,\n]\n,\n}\n,\n}\n</\nscript\n>\n复制代码", "code_examples": [{"code": "<!-- 错误：在CSS中通过ID定义样式 -->\n<template>\n  <div id=\"red\"></div>\n</template>\n<style>\n  #red {\n    color: red;\n  } /* 存在选择器性能损耗 */\n</style>", "language": "html", "index": 0}, {"code": "<!-- 正确：使用class类选择器 -->\n<template>\n  <div class=\"red\"></div>\n</template>\n<style>\n  .red {\n    color: red;\n  } /* 高效样式定义方式 */\n</style>", "language": "html", "index": 1}, {"code": "<!-- 当元素需被JS操作时保留id -->\n<template>\n  <!-- ID用于JS交互 -->\n  <div id=\"root\"></div>\n</template>\n<script>\n  export default {\n    onInit() {\n      this.$element('root').animate() // 通过ID获取元素\n    },\n  }\n</script>", "language": "html", "index": 2}, {"code": "<!-- 低效：模板中混合循环与条件判断 -->\n<div for=\"{{foodList}}\" if=\"{{$item.vegetarian}}\">\n  <text>{{$item.name}}</text>\n  <text>{{$item.category}}</text>\n</div>", "language": "html", "index": 3}, {"code": "<!-- 高效：数据层预过滤 -->\n<!-- 直接渲染已过滤数据 -->\n<div for=\"{{vegetarianFoods}}\">\n  <text>{{$item.name}}</text>\n  <text>{{$item.category}}</text>\n</div>", "language": "html", "index": 4}, {"code": "export default {\n  data: { vegetarianFoods: [] },\n  onInit() {\n    this.vegetarianFoods = foodList.filter((food) => food.vegetarian)\n  },\n}", "language": "ts", "index": 5}, {"code": "<!-- show指令导致隐藏元素参与首屏渲染，破坏分段加载设计 -->\n<template>\n  <div>\n    <div>首屏核心模块</div>\n    <div show=\"{{display}}\">延迟加载模块</div>\n  </div>\n</template>\n<script>\n  export default {\n    data: { display: false },\n    onShow() {\n      this.display = true // 触发CSS样式变更而非DOM操作\n    },\n  }\n</script>", "language": "html", "index": 6}, {"code": "<template>\n  <div>\n    <div>首屏核心模块</div>\n    <div if=\"{{display}}\">动态加载模块</div>\n  </div>\n</template>\n<script>\n  export default {\n    data: { display: false },\n    onShow() {\n      this.display = true // 触发DOM树动态构建\n    },\n  }\n</script>", "language": "html", "index": 7}, {"code": "<!-- if指令导致高频DOM重建，引发布局抖动 -->\n<template>\n  <div>\n    <text @click=\"changeView('A')\">视图A</text>\n    <text @click=\"changeView('B')\">视图B</text>\n    <div if=\"{{viewState == 'A'}\">视图内容A</div>\n    <div elif=\"{{viewState == 'B'}\">视图内容B</div>\n  </div>\n</template>", "language": "html", "index": 8}, {"code": "<template>\n  <div>\n    <text @click=\"changeView('A')\">视图A</text>\n    <text @click=\"changeView('B')\">视图B</text>\n    <div show=\"{{viewState == 'A'}\">视图内容A</div>\n    <div show=\"{{viewState == 'B'}\">视图内容B</div>\n  </div>\n</template>", "language": "html", "index": 9}, {"code": "<template>\n  <list>\n    <list-item>\n      <!-- 冗余包装容器 -->\n      <div>\n        <text>数据项标题</text>\n        <image src=\"item.png\"></image>\n      </div>\n    </list-item>\n  </list>\n</template>", "language": "html", "index": 10}, {"code": "<template>\n  <list>\n    <list-item>\n      <text>数据项标题</text>\n      <image src=\"item.png\"></image>\n    </list-item>\n  </list>\n</template>", "language": "html", "index": 11}, {"code": "<!-- 简单统计模块被过度拆分为独立组件 -->\n<import src=\"./components/heartRateBlock.ux\" name=\"heartRate\"></import>\n<import src=\"./components/calorieBlock.ux\" name=\"calorie\"></import>", "language": "html", "index": 12}, {"code": "<!-- 独立心率数字展示无需组件化 -->\n<import src=\"./components/heartRate.ux\"></import>\n<template>\n  <heartRate></heartRate>\n</template>", "language": "html", "index": 13}, {"code": "<template>\n  <!-- 多态视图混合实例 -->\n  <div if=\"{{status === 1}}\">\n    <div>视图模块A</div>\n    <!-- 50+ 相关节点 -->\n  </div>\n  <div if=\"{{status === 2}}\">\n    <div>视图模块B</div>\n    <!-- 30+ 相关节点 -->\n  </div>\n</template>\n\n<script>\n  export default {\n    data: {\n      status: 1, // 状态维护成本随功能增加而上升\n    },\n  }\n</script>", "language": "html", "index": 14}, {"code": "<!-- modules/module-a.ux -->\n<template>\n  <div class=\"optimized-view\">\n    <div>独立视图模块A</div>\n    <!-- 功能隔离的节点树 -->\n  </div>\n</template>\n\n<!-- modules/module-b.ux -->\n<template>\n  <div class=\"optimized-view\">\n    <div>独立视图模块B</div>\n    <!-- 精简的独立节点树 -->\n  </div>\n</template>", "language": "html", "index": 15}, {"code": "<template>\n  <!-- 使用唯一业务标识 -->\n  <text for=\"{{athleteList}}\" tid=\"athleteId\" class=\"sport-item\">\n    {{$item.rank}} {{$item.name}}\n  </text>\n</template>\n\n<script>\n  export default {\n    data: {\n      athleteList: [\n        { athleteId: 1001, rank: '金牌', name: '张三' },\n        { athleteId: 1002, rank: '银牌', name: '李四' },\n      ],\n    },\n  }\n</script>", "language": "html", "index": 16}], "frontmatter": {"title": "运行时性能优化"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/perf-guide/perf-src/", "category": "tutorial", "crawl_time": "2025-11-24T02:23:13.150150", "status": "success", "title": "图片资源优化", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"图片资源优化\" style=\"position:relative;\"><a aria-label=\"图片资源优化 permalink\" class=\"anchor before\" href=\"#%E5%9B%BE%E7%89%87%E8%B5%84%E6%BA%90%E4%BC%98%E5%8C%96\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>图片资源优化</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-04-27 11:06:02\">2025-04-27 11:06:02</time></p>\n<p>本章为 UI 设计师提供界面资源设计规范，通过科学管理图片资源降低内存占用、提升渲染性能、优化安装包体积，适用于设计阶段至开发交付全流程。</p>\n<h2 id=\"图片尺寸适配原则\" style=\"position:relative;\"><a aria-label=\"图片尺寸适配原则 permalink\" class=\"anchor before\" href=\"#%E5%9B%BE%E7%89%87%E5%B0%BA%E5%AF%B8%E9%80%82%E9%85%8D%E5%8E%9F%E5%88%99\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>图片尺寸适配原则</h2>\n<p><strong>推荐级别：强烈</strong></p>\n<p>图片物理尺寸必须与目标显示区域像素尺寸严格匹配，禁止使用超分辨率图片。大尺寸图片会导致内存占用激增，同时增加 GPU 渲染管线压力。</p>\n<h2 id=\"8-位色深资源优先\" style=\"position:relative;\"><a aria-label=\"8 位色深资源优先 permalink\" class=\"anchor before\" href=\"#8-%E4%BD%8D%E8%89%B2%E6%B7%B1%E8%B5%84%E6%BA%90%E4%BC%98%E5%85%88\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>8 位色深资源优先</h2>\n<p><strong>推荐级别：建议</strong></p>\n<p>智能手表等穿戴设备屏幕色域有限，建议采用 8 位色深（256 色）PNG 格式：</p>\n<ul>\n<li>通常可以提供足够的颜色范围</li>\n<li>有助于减少的存储空间</li>\n<li>支持透明度通道且无画质损失</li>\n</ul>\n<h2 id=\"png-图片替代-svg-图片\" style=\"position:relative;\"><a aria-label=\"png 图片替代 svg 图片 permalink\" class=\"anchor before\" href=\"#png-%E5%9B%BE%E7%89%87%E6%9B%BF%E4%BB%A3-svg-%E5%9B%BE%E7%89%87\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>png 图片替代 svg 图片</h2>\n<p><strong>推荐级别：建议</strong></p>\n<p>svg 只在有动画或动态修改属性等特殊场景时使用，一般情况下都使用 png 格式图片资源</p>\n<p><strong>反例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn0\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>image</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/assets/images/logo.svg<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>image</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<p><strong>正例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn1\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>image</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/assets/images/logo.png<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>image</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<h2 id=\"删除冗余图片\" style=\"position:relative;\"><a aria-label=\"删除冗余图片 permalink\" class=\"anchor before\" href=\"#%E5%88%A0%E9%99%A4%E5%86%97%E4%BD%99%E5%9B%BE%E7%89%87\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>删除冗余图片</h2>\n<p><strong>推荐级别：建议</strong></p>\n<p>如果图片已经用不到了，需要及时的在项目中删除，否则冗余的图片会使得包体积增加。</p>\n<h2 id=\"资源复用体系\" style=\"position:relative;\"><a aria-label=\"资源复用体系 permalink\" class=\"anchor before\" href=\"#%E8%B5%84%E6%BA%90%E5%A4%8D%E7%94%A8%E4%BD%93%E7%B3%BB\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>资源复用体系</h2>\n<p><strong>推荐级别：鼓励</strong></p>\n<p>设计的图片尽量实现共用，来减少存储占用。比如：确定、取消、返回、选中、未选中等使用频繁的按钮。</p></body></html></div>", "content_text": "图片资源优化\n更新时间：\n2025-04-27 11:06:02\n本章为 UI 设计师提供界面资源设计规范，通过科学管理图片资源降低内存占用、提升渲染性能、优化安装包体积，适用于设计阶段至开发交付全流程。\n图片尺寸适配原则\n推荐级别：强烈\n图片物理尺寸必须与目标显示区域像素尺寸严格匹配，禁止使用超分辨率图片。大尺寸图片会导致内存占用激增，同时增加 GPU 渲染管线压力。\n8 位色深资源优先\n推荐级别：建议\n智能手表等穿戴设备屏幕色域有限，建议采用 8 位色深（256 色）PNG 格式：\n通常可以提供足够的颜色范围\n有助于减少的存储空间\n支持透明度通道且无画质损失\npng 图片替代 svg 图片\n推荐级别：建议\nsvg 只在有动画或动态修改属性等特殊场景时使用，一般情况下都使用 png 格式图片资源\n反例\n<\nimage\nsrc\n=\n\"\n/assets/images/logo.svg\n\"\n>\n</\nimage\n>\n复制代码\n正例\n<\nimage\nsrc\n=\n\"\n/assets/images/logo.png\n\"\n>\n</\nimage\n>\n复制代码\n删除冗余图片\n推荐级别：建议\n如果图片已经用不到了，需要及时的在项目中删除，否则冗余的图片会使得包体积增加。\n资源复用体系\n推荐级别：鼓励\n设计的图片尽量实现共用，来减少存储占用。比如：确定、取消、返回、选中、未选中等使用频繁的按钮。", "code_examples": [{"code": "<image src=\"/assets/images/logo.svg\"></image>", "language": "html", "index": 0}, {"code": "<image src=\"/assets/images/logo.png\"></image>", "language": "html", "index": 1}], "frontmatter": {"title": "图片资源优化"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/perf-guide/perf-subscription/", "category": "tutorial", "crawl_time": "2025-11-24T02:23:14.858249", "status": "success", "title": "退出页面释放监听", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"退出页面释放监听\" style=\"position:relative;\"><a aria-label=\"退出页面释放监听 permalink\" class=\"anchor before\" href=\"#%E9%80%80%E5%87%BA%E9%A1%B5%E9%9D%A2%E9%87%8A%E6%94%BE%E7%9B%91%E5%90%AC\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>退出页面释放监听</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-04-27 09:58:15\">2025-04-27 09:58:15</time></p>\n<p>在蓝河应用开发中，正确处理页面生命周期末端的资源释放是保障应用性能的关键。以下规范针对页面销毁阶段（onDestroy）必须执行的三类资源清理操作。</p>\n<h2 id=\"定时器资源释放\" style=\"position:relative;\"><a aria-label=\"定时器资源释放 permalink\" class=\"anchor before\" href=\"#%E5%AE%9A%E6%97%B6%E5%99%A8%E8%B5%84%E6%BA%90%E9%87%8A%E6%94%BE\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>定时器资源释放</h2>\n<p><strong>推荐级别：强烈</strong></p>\n<p>所有通过 <code class=\"language-text\">setTimeout</code>/<code class=\"language-text\">setInterval</code> 创建的计时器，必须在页面销毁时通过 <code class=\"language-text\">clearTimeout</code>/<code class=\"language-text\">clearInterval</code> 进行匹配清除。</p>\n<p><strong>反例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><div id=\"copyBtn0\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 未记录定时器引用</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 业务逻辑</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 周期任务</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">onDestroy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 未执行清理</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<p><strong>正例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><div id=\"copyBtn1\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// 声明模块级变量存储计时器ID</span>\n<span class=\"token keyword\">let</span> timeoutId\n<span class=\"token keyword\">let</span> intervalId\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    timeoutId <span class=\"token operator\">=</span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 业务逻辑</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n\n    intervalId <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 周期任务</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token function\">onDestroy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 精确清除计时器</span>\n    <span class=\"token function\">clearTimeout</span><span class=\"token punctuation\">(</span>timeoutId<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>intervalId<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<h2 id=\"事件监听器注销\" style=\"position:relative;\"><a aria-label=\"事件监听器注销 permalink\" class=\"anchor before\" href=\"#%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC%E5%99%A8%E6%B3%A8%E9%94%80\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>事件监听器注销</h2>\n<p><strong>推荐级别：强烈</strong></p>\n<p>页面中使用的监听类接口(如 feature、C2JS 等)，页面退出时必须清除监听。原因同上。</p>\n<p><strong>反例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><div id=\"copyBtn2\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> event <span class=\"token keyword\">from</span> <span class=\"token string\">'@blueos.app.event.eventManager'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 未记录订阅ID</span>\n    event<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      eventName<span class=\"token operator\">:</span> <span class=\"token string\">'usual.event.SCREEN_AOD'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function-variable function\">callback</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// 事件处理</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">onDestroy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 监听器未注销</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn2\">复制代码</div></div>\n<p><strong>正例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><div id=\"copyBtn3\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> event <span class=\"token keyword\">from</span> <span class=\"token string\">'@blueos.app.event.eventManager'</span>\n\n<span class=\"token comment\">// 使用容器存储多订阅ID</span>\n<span class=\"token keyword\">const</span> eventSubscriptions <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> subscriptionId <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      eventName<span class=\"token operator\">:</span> <span class=\"token string\">'usual.event.SCREEN_AOD'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function-variable function\">callback</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// 事件处理</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    eventSubscriptions<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>subscriptionId<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token function\">onDestroy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 批量注销所有事件监听</span>\n    eventSubscriptions<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> event<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    eventSubscriptions<span class=\"token punctuation\">.</span>length <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token comment\">// 清空ID容器</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn3\">复制代码</div></div></body></html></div>", "content_text": "退出页面释放监听\n更新时间：\n2025-04-27 09:58:15\n在蓝河应用开发中，正确处理页面生命周期末端的资源释放是保障应用性能的关键。以下规范针对页面销毁阶段（onDestroy）必须执行的三类资源清理操作。\n定时器资源释放\n推荐级别：强烈\n所有通过\nsetTimeout\n/\nsetInterval\n创建的计时器，必须在页面销毁时通过\nclearTimeout\n/\nclearInterval\n进行匹配清除。\n反例\nexport\ndefault\n{\nonInit\n(\n)\n{\n// 未记录定时器引用\nsetTimeout\n(\n(\n)\n=>\n{\n// 业务逻辑\n}\n,\n1000\n)\nsetInterval\n(\n(\n)\n=>\n{\n// 周期任务\n}\n,\n1000\n)\n}\n,\nonDestroy\n(\n)\n{\n}\n,\n// 未执行清理\n}\n复制代码\n正例\n// 声明模块级变量存储计时器ID\nlet\ntimeoutId\nlet\nintervalId\nexport\ndefault\n{\nonInit\n(\n)\n{\ntimeoutId\n=\nsetTimeout\n(\n(\n)\n=>\n{\n// 业务逻辑\n}\n,\n1000\n)\nintervalId\n=\nsetInterval\n(\n(\n)\n=>\n{\n// 周期任务\n}\n,\n1000\n)\n}\n,\nonDestroy\n(\n)\n{\n// 精确清除计时器\nclearTimeout\n(\ntimeoutId\n)\nclearInterval\n(\nintervalId\n)\n}\n,\n}\n复制代码\n事件监听器注销\n推荐级别：强烈\n页面中使用的监听类接口(如 feature、C2JS 等)，页面退出时必须清除监听。原因同上。\n反例\nimport\nevent\nfrom\n'@blueos.app.event.eventManager'\nexport\ndefault\n{\nonInit\n(\n)\n{\n// 未记录订阅ID\nevent\n.\nsubscribe\n(\n{\neventName\n:\n'usual.event.SCREEN_AOD'\n,\ncallback\n:\n(\nres\n)\n=>\n{\n// 事件处理\n}\n,\n}\n)\n}\n,\nonDestroy\n(\n)\n{\n}\n,\n// 监听器未注销\n}\n复制代码\n正例\nimport\nevent\nfrom\n'@blueos.app.event.eventManager'\n// 使用容器存储多订阅ID\nconst\neventSubscriptions\n=\n[\n]\nexport\ndefault\n{\nonInit\n(\n)\n{\nconst\nsubscriptionId\n=\nevent\n.\nsubscribe\n(\n{\neventName\n:\n'usual.event.SCREEN_AOD'\n,\ncallback\n:\n(\nres\n)\n=>\n{\n// 事件处理\n}\n,\n}\n)\neventSubscriptions\n.\npush\n(\nsubscriptionId\n)\n}\n,\nonDestroy\n(\n)\n{\n// 批量注销所有事件监听\neventSubscriptions\n.\nforEach\n(\n(\nid\n)\n=>\nevent\n.\nunsubscribe\n(\n{\nid\n}\n)\n)\neventSubscriptions\n.\nlength\n=\n0\n// 清空ID容器\n}\n,\n}\n复制代码", "code_examples": [{"code": "export default {\n  onInit() {\n    // 未记录定时器引用\n    setTimeout(() => {\n      // 业务逻辑\n    }, 1000)\n    setInterval(() => {\n      // 周期任务\n    }, 1000)\n  },\n  onDestroy() {}, // 未执行清理\n}", "language": "ts", "index": 0}, {"code": "// 声明模块级变量存储计时器ID\nlet timeoutId\nlet intervalId\n\nexport default {\n  onInit() {\n    timeoutId = setTimeout(() => {\n      // 业务逻辑\n    }, 1000)\n\n    intervalId = setInterval(() => {\n      // 周期任务\n    }, 1000)\n  },\n\n  onDestroy() {\n    // 精确清除计时器\n    clearTimeout(timeoutId)\n    clearInterval(intervalId)\n  },\n}", "language": "ts", "index": 1}, {"code": "import event from '@blueos.app.event.eventManager'\n\nexport default {\n  onInit() {\n    // 未记录订阅ID\n    event.subscribe({\n      eventName: 'usual.event.SCREEN_AOD',\n      callback: (res) => {\n        // 事件处理\n      },\n    })\n  },\n  onDestroy() {}, // 监听器未注销\n}", "language": "ts", "index": 2}, {"code": "import event from '@blueos.app.event.eventManager'\n\n// 使用容器存储多订阅ID\nconst eventSubscriptions = []\n\nexport default {\n  onInit() {\n    const subscriptionId = event.subscribe({\n      eventName: 'usual.event.SCREEN_AOD',\n      callback: (res) => {\n        // 事件处理\n      },\n    })\n    eventSubscriptions.push(subscriptionId)\n  },\n\n  onDestroy() {\n    // 批量注销所有事件监听\n    eventSubscriptions.forEach((id) => event.unsubscribe({ id }))\n    eventSubscriptions.length = 0 // 清空ID容器\n  },\n}", "language": "ts", "index": 3}], "frontmatter": {"title": "退出页面释放监听"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/perf-guide/perf-treeshaking/", "category": "tutorial", "crawl_time": "2025-11-24T02:23:17.675088", "status": "success", "title": "减少代码体积", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"减少代码体积\" style=\"position:relative;\"><a aria-label=\"减少代码体积 permalink\" class=\"anchor before\" href=\"#%E5%87%8F%E5%B0%91%E4%BB%A3%E7%A0%81%E4%BD%93%E7%A7%AF\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>减少代码体积</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-04-27 09:58:15\">2025-04-27 09:58:15</time></p>\n<p>本节非常重要，优劣不同的写法会有明显的代码体积差异，而代码体积越小，会获得更快的加载速度。</p>\n<h2 id=\"js-封装要支持-treeshaking\" style=\"position:relative;\"><a aria-label=\"js 封装要支持 treeshaking permalink\" class=\"anchor before\" href=\"#js-%E5%B0%81%E8%A3%85%E8%A6%81%E6%94%AF%E6%8C%81-treeshaking\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>js 封装要支持 Treeshaking</h2>\n<p><strong>推荐级别：强烈</strong></p>\n<p>统一支持 Treeshaking 是非常重要的，因为它可以在打包编译时移除未使用的代码，减小输出的文件大小。</p>\n<p>在进行 JavaScript 封装时，请牢记以下两点：</p>\n<ul>\n<li>\n<p>在能使用函数实现的情况下，优先使用函数而非 class 或 Object。只有需要频繁创建实例的情况才需要考虑使用 class。</p>\n</li>\n<li>\n<p>慎重使用 export default 导出。如果你的模块有多个导出，可以考虑逐个导出而非使用 default 导出，这样可以更好地遵循 Treeshaking 的原则，因为 default 导出整个模块会被引入，而逐个导出只会引入需要的部分。</p>\n</li>\n</ul>\n<p><strong>反例 1</strong></p>\n<p>对象捆绑导出</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn0\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">b</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// 未使用的变量仍会被打包</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span> a<span class=\"token punctuation\">,</span> b <span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<p><strong>反例 2</strong></p>\n<p>class 方法捆绑</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn1\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 即使只使用单个方法也会引入整个类</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Utils</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">a</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token function\">b</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<p><strong>反例 3</strong></p>\n<p>构造函数导出</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn2\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 方法被绑定在实例上无法分离</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Utils</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function-variable function\">a</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function-variable function\">b</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn2\">复制代码</div></div>\n<p><strong>反例 4</strong></p>\n<p>返回对象函数</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn3\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 方法仍会整体打包</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Utils</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">a</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">b</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn3\">复制代码</div></div>\n<p><strong>正例 1</strong></p>\n<p>具名导出</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn4\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">b</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> a<span class=\"token punctuation\">,</span> b <span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn4\">复制代码</div></div>\n<p><strong>正例 2</strong></p>\n<p>独立导出</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn5\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">b</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn5\">复制代码</div></div>\n<h2 id=\"按需引入\" style=\"position:relative;\"><a aria-label=\"按需引入 permalink\" class=\"anchor before\" href=\"#%E6%8C%89%E9%9C%80%E5%BC%95%E5%85%A5\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>按需引入</h2>\n<p><strong>推荐级别：强烈</strong></p>\n<p>精准导入所需内容，避免引入冗余代码。</p>\n<p><strong>反例 1</strong></p>\n<p>多引入未使用</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn6\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> sayHi<span class=\"token punctuation\">,</span> sayBye <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./say.js'</span>\n<span class=\"token function\">sayHi</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Vance'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// sayBye 未被使用但仍会打包</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn6\">复制代码</div></div>\n<p><strong>反例 2</strong></p>\n<p>全量引入</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn7\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> say <span class=\"token keyword\">from</span> <span class=\"token string\">'./say.js'</span>\nsay<span class=\"token punctuation\">.</span><span class=\"token function\">sayHi</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Vance'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 引入整个模块</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn7\">复制代码</div></div>\n<p><strong>正例</strong></p>\n<p>精准引入</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn8\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> sayHi <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./say.js'</span>\n<span class=\"token function\">sayHi</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Vance'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 仅引入必要方法</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn8\">复制代码</div></div>\n<h2 id=\"避免-commonjs-规范\" style=\"position:relative;\"><a aria-label=\"避免 commonjs 规范 permalink\" class=\"anchor before\" href=\"#%E9%81%BF%E5%85%8D-commonjs-%E8%A7%84%E8%8C%83\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>避免 CommonJS 规范</h2>\n<p><strong>推荐级别：强烈</strong></p>\n<p>虽然平台支持 require，但应始终使用 ESM 规范以支持 TreeShaking。</p>\n<p><strong>反例</strong></p>\n<p>使用 require</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn9\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> userInfo <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./userInfo.js'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 无法 TreeShaking</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn9\">复制代码</div></div>\n<p><strong>正例</strong></p>\n<p>ESM 导入</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn10\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> userInfo <span class=\"token keyword\">from</span> <span class=\"token string\">'./userInfo.js'</span>\n<span class=\"token comment\">// 注意实际情况应避免全量导入，按需解构更佳</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn10\">复制代码</div></div>\n<h2 id=\"使用常量优化\" style=\"position:relative;\"><a aria-label=\"使用常量优化 permalink\" class=\"anchor before\" href=\"#%E4%BD%BF%E7%94%A8%E5%B8%B8%E9%87%8F%E4%BC%98%E5%8C%96\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>使用常量优化</h2>\n<p><strong>推荐级别：强烈</strong></p>\n<p>常量更易维护且利于 TreeShaking 识别未使用变量。</p>\n<p><strong>反例</strong></p>\n<p>对象打包</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn11\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">a1</span><span class=\"token operator\">:</span> <span class=\"token string\">'a1'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">a2</span><span class=\"token operator\">:</span> <span class=\"token string\">'a2'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">a3</span><span class=\"token operator\">:</span> <span class=\"token string\">'a3'</span> <span class=\"token punctuation\">}</span> <span class=\"token comment\">// 全部属性会被打包</span>\n<span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'a1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a3'</span><span class=\"token punctuation\">]</span> <span class=\"token comment\">// 数组元素无法分离</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn11\">复制代码</div></div>\n<p><strong>正例</strong></p>\n<p>独立常量</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn12\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> a1 <span class=\"token operator\">=</span> <span class=\"token string\">'a1'</span> <span class=\"token comment\">// 未使用时可被 TreeShaking</span>\n<span class=\"token keyword\">const</span> a2 <span class=\"token operator\">=</span> <span class=\"token string\">'a2'</span>\n<span class=\"token keyword\">const</span> a3 <span class=\"token operator\">=</span> <span class=\"token string\">'a3'</span>\n<span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> a1<span class=\"token punctuation\">,</span> a2<span class=\"token punctuation\">,</span> a3 <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>a1<span class=\"token punctuation\">,</span> a2<span class=\"token punctuation\">,</span> a3<span class=\"token punctuation\">]</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn12\">复制代码</div></div>\n<h2 id=\"谨慎引入第三方包\" style=\"position:relative;\"><a aria-label=\"谨慎引入第三方包 permalink\" class=\"anchor before\" href=\"#%E8%B0%A8%E6%85%8E%E5%BC%95%E5%85%A5%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8C%85\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>谨慎引入第三方包</h2>\n<p><strong>推荐级别：建议</strong></p>\n<p>优先评估包体积，必要时进行源码裁剪。</p>\n<p><strong>反例</strong></p>\n<p>全量引入</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn13\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> _ <span class=\"token keyword\">from</span> <span class=\"token string\">'lodash'</span> <span class=\"token comment\">// 引入完整包（代码量大）</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    _<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'c'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'~'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 仅使用单个方法</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn13\">复制代码</div></div>\n<p><strong>正例</strong></p>\n<p>原生实现</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn14\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">;</span><span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'c'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">'~'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 使用原生方法</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn14\">复制代码</div></div>\n<h2 id=\"慎用-import-样式\" style=\"position:relative;\"><a aria-label=\"慎用 import 样式 permalink\" class=\"anchor before\" href=\"#%E6%85%8E%E7%94%A8-import-%E6%A0%B7%E5%BC%8F\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>慎用 @import 样式</h2>\n<p><strong>推荐级别：强烈</strong></p>\n<p>避免全局样式引入导致冗余 CSS 打包。</p>\n<p><strong>反例</strong></p>\n<p>全量引入</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn15\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>yellow<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>黄色<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>black<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>黑色<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>green<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>绿色<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token atrule\"><span class=\"token rule\">@import</span> <span class=\"token string\">'./color.css'</span><span class=\"token punctuation\">;</span></span> <span class=\"token comment\">/* 可能包含未使用的样式 */</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn15\">复制代码</div></div>\n<p><strong>正例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn16\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>yellow<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>黄色<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>black<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>黑色<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>green<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>绿色<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token selector\">.yellow</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> yellow<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">.black</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> black<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">.green</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> green<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn16\">复制代码</div></div>\n<h2 id=\"页面模板拆分策略\" style=\"position:relative;\"><a aria-label=\"页面模板拆分策略 permalink\" class=\"anchor before\" href=\"#%E9%A1%B5%E9%9D%A2%E6%A8%A1%E6%9D%BF%E6%8B%86%E5%88%86%E7%AD%96%E7%95%A5\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>页面模板拆分策略</h2>\n<p><strong>推荐级别：鼓励</strong></p>\n<p>采用模块化设计原则，建议将不同功能模块拆分为独立页面文件。避免在单个页面中使用条件渲染实现多状态视图，这会导致模板复杂度增长。</p>\n<p><strong>反例</strong></p>\n<p>模板臃肿</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn17\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- 单一页面承载多状态视图 --&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{status === 1}}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>A功能视图组件<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 50+ 嵌套节点 --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{status === 2}}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>B功能视图组件<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 50+ 嵌套节点 --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn17\">复制代码</div></div>\n<p><strong>正例</strong></p>\n<p>模块化拆分</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn18\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- pageA.ux --&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>module-container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>A功能核心组件<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 精简DOM结构 --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token comment\">&lt;!-- pageB.ux --&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>module-container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>B功能核心组件<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 独立维护的视图 --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn18\">复制代码</div></div>\n<h2 id=\"manifest-配置精简原则\" style=\"position:relative;\"><a aria-label=\"manifest 配置精简原则 permalink\" class=\"anchor before\" href=\"#manifest-%E9%85%8D%E7%BD%AE%E7%B2%BE%E7%AE%80%E5%8E%9F%E5%88%99\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>Manifest 配置精简原则</h2>\n<p><strong>推荐级别：建议</strong></p>\n<p>严格遵循最小权限原则，manifest.json 中应仅声明实际使用的 API 及权限。冗余配置会增加应用审核风险并影响启动性能。</p>\n<h2 id=\"国际化资源优化\" style=\"position:relative;\"><a aria-label=\"国际化资源优化 permalink\" class=\"anchor before\" href=\"#%E5%9B%BD%E9%99%85%E5%8C%96%E8%B5%84%E6%BA%90%E4%BC%98%E5%8C%96\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>国际化资源优化</h2>\n<p><strong>推荐级别：建议</strong></p>\n<p>当应用仅支持单一语言时，建议直接使用硬编码文本而非国际化方案。多语言场景下应及时清理未使用的 i18n 键值。</p>\n<h2 id=\"箭头函数优先原则\" style=\"position:relative;\"><a aria-label=\"箭头函数优先原则 permalink\" class=\"anchor before\" href=\"#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E4%BC%98%E5%85%88%E5%8E%9F%E5%88%99\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>箭头函数优先原则</h2>\n<p><strong>推荐级别：建议</strong></p>\n<p>箭头函数相比传统函数表达式具有更简洁的语法结构，在代码压缩阶段能获得更好的优化效果。</p>\n<p><strong>反例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn19\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 业务逻辑</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn19\">复制代码</div></div>\n<p><strong>正例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn20\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchData</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 箭头函数实现</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn20\">复制代码</div></div>\n<h2 id=\"对象属性命名优化\" style=\"position:relative;\"><a aria-label=\"对象属性命名优化 permalink\" class=\"anchor before\" href=\"#%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E5%91%BD%E5%90%8D%E4%BC%98%E5%8C%96\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>对象属性命名优化</h2>\n<p><strong>推荐级别：建议</strong></p>\n<p>对象属性名称应保持语义明确且简洁。由于 JavaScript 引擎无法对属性名进行 tree-shaking，建议采用短命名策略，特别是在高频使用的属性上。</p>\n<p><strong>反例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn21\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> userProfile <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">userIdentification</span><span class=\"token operator\">:</span> <span class=\"token string\">'UXP-001'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">profileModificationDate</span><span class=\"token operator\">:</span> <span class=\"token string\">'2024-03'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn21\">复制代码</div></div>\n<p><strong>正例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn22\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> user <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token string\">'UXP-001'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">update</span><span class=\"token operator\">:</span> <span class=\"token string\">'2024-03'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 上下文明确的短命名</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn22\">复制代码</div></div>\n<h2 id=\"环境区分策略\" style=\"position:relative;\"><a aria-label=\"环境区分策略 permalink\" class=\"anchor before\" href=\"#%E7%8E%AF%E5%A2%83%E5%8C%BA%E5%88%86%E7%AD%96%E7%95%A5\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>环境区分策略</h2>\n<p><strong>推荐级别：建议</strong></p>\n<p>避免将调试阶段的数据、代码带到生产环境上，应该用编译时参数而非运行时参数来区分 <a href=\"/reference/question-answer/build-env/\">编译环境变量</a></p>\n<h2 id=\"css-代码复用规范\" style=\"position:relative;\"><a aria-label=\"css 代码复用规范 permalink\" class=\"anchor before\" href=\"#css-%E4%BB%A3%E7%A0%81%E5%A4%8D%E7%94%A8%E8%A7%84%E8%8C%83\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>CSS 代码复用规范</h2>\n<p><strong>推荐级别：鼓励</strong></p>\n<p>采用原子化 CSS 设计模式，将高频样式声明抽象为可复用类。可以使用 Sass/Less 预处理工具管理样式资源。</p>\n<p><strong>反例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn23\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token selector\">.component-a</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 80px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 16px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 8px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">.component-b</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 80px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 16px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 8px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn23\">复制代码</div></div>\n<p><strong>正例</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn24\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token comment\">/* 基础原子类 */</span>\n  <span class=\"token selector\">.full-width</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 80px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">.padding-md</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 16px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">.margin-md</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 16px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">.rounded</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 8px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">/* 组件专属样式 */</span>\n  <span class=\"token selector\">.component-b</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> #f0f2f5<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn24\">复制代码</div></div></body></html></div>", "content_text": "减少代码体积\n更新时间：\n2025-04-27 09:58:15\n本节非常重要，优劣不同的写法会有明显的代码体积差异，而代码体积越小，会获得更快的加载速度。\njs 封装要支持 Treeshaking\n推荐级别：强烈\n统一支持 Treeshaking 是非常重要的，因为它可以在打包编译时移除未使用的代码，减小输出的文件大小。\n在进行 JavaScript 封装时，请牢记以下两点：\n在能使用函数实现的情况下，优先使用函数而非 class 或 Object。只有需要频繁创建实例的情况才需要考虑使用 class。\n慎重使用 export default 导出。如果你的模块有多个导出，可以考虑逐个导出而非使用 default 导出，这样可以更好地遵循 Treeshaking 的原则，因为 default 导出整个模块会被引入，而逐个导出只会引入需要的部分。\n反例 1\n对象捆绑导出\nconst\na\n=\n1\nconst\nb\n=\n(\n)\n=>\n{\n}\n// 未使用的变量仍会被打包\nexport\ndefault\n{\na\n,\nb\n}\n复制代码\n反例 2\nclass 方法捆绑\n// 即使只使用单个方法也会引入整个类\nexport\ndefault\nclass\nUtils\n{\na\n(\n)\n{\n}\nb\n(\n)\n{\n}\n}\n复制代码\n反例 3\n构造函数导出\n// 方法被绑定在实例上无法分离\nexport\ndefault\nfunction\nUtils\n(\n)\n{\nthis\n.\na\n=\n(\n)\n=>\n{\n}\nthis\n.\nb\n=\n(\n)\n=>\n{\n}\n}\n复制代码\n反例 4\n返回对象函数\n// 方法仍会整体打包\nexport\ndefault\nfunction\nUtils\n(\n)\n{\nreturn\n{\na\n(\n)\n{\n}\n,\nb\n(\n)\n{\n}\n,\n}\n}\n复制代码\n正例 1\n具名导出\nconst\na\n=\n1\nconst\nb\n=\n(\n)\n=>\n{\n}\nexport\n{\na\n,\nb\n}\n复制代码\n正例 2\n独立导出\nexport\nconst\na\n=\n1\nexport\nconst\nb\n=\n(\n)\n=>\n{\n}\n复制代码\n按需引入\n推荐级别：强烈\n精准导入所需内容，避免引入冗余代码。\n反例 1\n多引入未使用\nimport\n{\nsayHi\n,\nsayBye\n}\nfrom\n'./say.js'\nsayHi\n(\n'Vance'\n)\n// sayBye 未被使用但仍会打包\n复制代码\n反例 2\n全量引入\nimport\n*\nas\nsay\nfrom\n'./say.js'\nsay\n.\nsayHi\n(\n'Vance'\n)\n// 引入整个模块\n复制代码\n正例\n精准引入\nimport\n{\nsayHi\n}\nfrom\n'./say.js'\nsayHi\n(\n'Vance'\n)\n// 仅引入必要方法\n复制代码\n避免 CommonJS 规范\n推荐级别：强烈\n虽然平台支持 require，但应始终使用 ESM 规范以支持 TreeShaking。\n反例\n使用 require\nconst\nuserInfo\n=\nrequire\n(\n'./userInfo.js'\n)\n// 无法 TreeShaking\n复制代码\n正例\nESM 导入\nimport\nuserInfo\nfrom\n'./userInfo.js'\n// 注意实际情况应避免全量导入，按需解构更佳\n复制代码\n使用常量优化\n推荐级别：强烈\n常量更易维护且利于 TreeShaking 识别未使用变量。\n反例\n对象打包\nconst\na\n=\n{\na1\n:\n'a1'\n,\na2\n:\n'a2'\n,\na3\n:\n'a3'\n}\n// 全部属性会被打包\nconst\nb\n=\n[\n'a1'\n,\n'a2'\n,\n'a3'\n]\n// 数组元素无法分离\n复制代码\n正例\n独立常量\nconst\na1\n=\n'a1'\n// 未使用时可被 TreeShaking\nconst\na2\n=\n'a2'\nconst\na3\n=\n'a3'\nconst\na\n=\n{\na1\n,\na2\n,\na3\n}\nconst\nb\n=\n[\na1\n,\na2\n,\na3\n]\n复制代码\n谨慎引入第三方包\n推荐级别：建议\n优先评估包体积，必要时进行源码裁剪。\n反例\n全量引入\nimport\n_\nfrom\n'lodash'\n// 引入完整包（代码量大）\nexport\ndefault\n{\nonInit\n(\n)\n{\n_\n.\njoin\n(\n[\n'a'\n,\n'b'\n,\n'c'\n]\n,\n'~'\n)\n// 仅使用单个方法\n}\n,\n}\n复制代码\n正例\n原生实现\nexport\ndefault\n{\nonInit\n(\n)\n{\n;\n[\n'a'\n,\n'b'\n,\n'c'\n]\n.\njoin\n(\n'~'\n)\n// 使用原生方法\n}\n,\n}\n复制代码\n慎用 @import 样式\n推荐级别：强烈\n避免全局样式引入导致冗余 CSS 打包。\n反例\n全量引入\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\nyellow\n\"\n>\n黄色\n</\ndiv\n>\n<\ndiv\nclass\n=\n\"\nblack\n\"\n>\n黑色\n</\ndiv\n>\n<\ndiv\nclass\n=\n\"\ngreen\n\"\n>\n绿色\n</\ndiv\n>\n</\ntemplate\n>\n<\nstyle\n>\n@import\n'./color.css'\n;\n/* 可能包含未使用的样式 */\n</\nstyle\n>\n复制代码\n正例\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\nyellow\n\"\n>\n黄色\n</\ndiv\n>\n<\ndiv\nclass\n=\n\"\nblack\n\"\n>\n黑色\n</\ndiv\n>\n<\ndiv\nclass\n=\n\"\ngreen\n\"\n>\n绿色\n</\ndiv\n>\n</\ntemplate\n>\n<\nstyle\n>\n.yellow\n{\nbackground\n:\nyellow\n;\n}\n.black\n{\nbackground\n:\nblack\n;\n}\n.green\n{\nbackground\n:\ngreen\n;\n}\n</\nstyle\n>\n复制代码\n页面模板拆分策略\n推荐级别：鼓励\n采用模块化设计原则，建议将不同功能模块拆分为独立页面文件。避免在单个页面中使用条件渲染实现多状态视图，这会导致模板复杂度增长。\n反例\n模板臃肿\n<!-- 单一页面承载多状态视图 -->\n<\ndiv\n>\n<\ndiv\nif\n=\n\"\n{{status === 1}}\n\"\n>\n<\ndiv\n>\nA功能视图组件\n</\ndiv\n>\n<!-- 50+ 嵌套节点 -->\n</\ndiv\n>\n<\ndiv\nif\n=\n\"\n{{status === 2}}\n\"\n>\n<\ndiv\n>\nB功能视图组件\n</\ndiv\n>\n<!-- 50+ 嵌套节点 -->\n</\ndiv\n>\n</\ndiv\n>\n复制代码\n正例\n模块化拆分\n<!-- pageA.ux -->\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\nmodule-container\n\"\n>\n<\ntext\n>\nA功能核心组件\n</\ntext\n>\n<!-- 精简DOM结构 -->\n</\ndiv\n>\n</\ntemplate\n>\n<!-- pageB.ux -->\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\nmodule-container\n\"\n>\n<\ntext\n>\nB功能核心组件\n</\ntext\n>\n<!-- 独立维护的视图 -->\n</\ndiv\n>\n</\ntemplate\n>\n复制代码\nManifest 配置精简原则\n推荐级别：建议\n严格遵循最小权限原则，manifest.json 中应仅声明实际使用的 API 及权限。冗余配置会增加应用审核风险并影响启动性能。\n国际化资源优化\n推荐级别：建议\n当应用仅支持单一语言时，建议直接使用硬编码文本而非国际化方案。多语言场景下应及时清理未使用的 i18n 键值。\n箭头函数优先原则\n推荐级别：建议\n箭头函数相比传统函数表达式具有更简洁的语法结构，在代码压缩阶段能获得更好的优化效果。\n反例\nfunction\nfetchData\n(\n)\n{\n// 业务逻辑\n}\n复制代码\n正例\nconst\nfetchData\n=\n(\n)\n=>\n{\n// 箭头函数实现\n}\n复制代码\n对象属性命名优化\n推荐级别：建议\n对象属性名称应保持语义明确且简洁。由于 JavaScript 引擎无法对属性名进行 tree-shaking，建议采用短命名策略，特别是在高频使用的属性上。\n反例\nconst\nuserProfile\n=\n{\nuserIdentification\n:\n'UXP-001'\n,\nprofileModificationDate\n:\n'2024-03'\n,\n}\n复制代码\n正例\nconst\nuser\n=\n{\nid\n:\n'UXP-001'\n,\nupdate\n:\n'2024-03'\n,\n// 上下文明确的短命名\n}\n复制代码\n环境区分策略\n推荐级别：建议\n避免将调试阶段的数据、代码带到生产环境上，应该用编译时参数而非运行时参数来区分\n编译环境变量\nCSS 代码复用规范\n推荐级别：鼓励\n采用原子化 CSS 设计模式，将高频样式声明抽象为可复用类。可以使用 Sass/Less 预处理工具管理样式资源。\n反例\n<\nstyle\n>\n.component-a\n{\nwidth\n:\n80px\n;\nmargin\n:\n16px\n;\nborder-radius\n:\n8px\n;\n}\n.component-b\n{\nwidth\n:\n80px\n;\npadding\n:\n16px\n;\nborder-radius\n:\n8px\n;\n}\n</\nstyle\n>\n复制代码\n正例\n<\nstyle\n>\n/* 基础原子类 */\n.full-width\n{\nwidth\n:\n80px\n;\n}\n.padding-md\n{\npadding\n:\n16px\n;\n}\n.margin-md\n{\nmargin\n:\n16px\n;\n}\n.rounded\n{\nborder-radius\n:\n8px\n;\n}\n/* 组件专属样式 */\n.component-b\n{\nbackground\n:\n#f0f2f5\n;\n}\n</\nstyle\n>\n复制代码", "code_examples": [{"code": "const a = 1\nconst b = () => {}\n// 未使用的变量仍会被打包\nexport default { a, b }", "language": "js", "index": 0}, {"code": "// 即使只使用单个方法也会引入整个类\nexport default class Utils {\n  a() {}\n  b() {}\n}", "language": "js", "index": 1}, {"code": "// 方法被绑定在实例上无法分离\nexport default function Utils() {\n  this.a = () => {}\n  this.b = () => {}\n}", "language": "js", "index": 2}, {"code": "// 方法仍会整体打包\nexport default function Utils() {\n  return {\n    a() {},\n    b() {},\n  }\n}", "language": "js", "index": 3}, {"code": "const a = 1\nconst b = () => {}\nexport { a, b }", "language": "js", "index": 4}, {"code": "export const a = 1\nexport const b = () => {}", "language": "js", "index": 5}, {"code": "import { sayHi, sayBye } from './say.js'\nsayHi('Vance') // sayBye 未被使用但仍会打包", "language": "js", "index": 6}, {"code": "import * as say from './say.js'\nsay.sayHi('Vance') // 引入整个模块", "language": "js", "index": 7}, {"code": "import { sayHi } from './say.js'\nsayHi('Vance') // 仅引入必要方法", "language": "js", "index": 8}, {"code": "const userInfo = require('./userInfo.js') // 无法 TreeShaking", "language": "js", "index": 9}, {"code": "import userInfo from './userInfo.js'\n// 注意实际情况应避免全量导入，按需解构更佳", "language": "js", "index": 10}, {"code": "const a = { a1: 'a1', a2: 'a2', a3: 'a3' } // 全部属性会被打包\nconst b = ['a1', 'a2', 'a3'] // 数组元素无法分离", "language": "js", "index": 11}, {"code": "const a1 = 'a1' // 未使用时可被 TreeShaking\nconst a2 = 'a2'\nconst a3 = 'a3'\nconst a = { a1, a2, a3 }\nconst b = [a1, a2, a3]", "language": "js", "index": 12}, {"code": "import _ from 'lodash' // 引入完整包（代码量大）\nexport default {\n  onInit() {\n    _.join(['a', 'b', 'c'], '~') // 仅使用单个方法\n  },\n}", "language": "js", "index": 13}, {"code": "export default {\n  onInit() {\n    ;['a', 'b', 'c'].join('~') // 使用原生方法\n  },\n}", "language": "js", "index": 14}, {"code": "<template>\n  <div class=\"yellow\">黄色</div>\n  <div class=\"black\">黑色</div>\n  <div class=\"green\">绿色</div>\n</template>\n<style>\n  @import './color.css'; /* 可能包含未使用的样式 */\n</style>", "language": "html", "index": 15}, {"code": "<template>\n  <div class=\"yellow\">黄色</div>\n  <div class=\"black\">黑色</div>\n  <div class=\"green\">绿色</div>\n</template>\n<style>\n  .yellow {\n    background: yellow;\n  }\n  .black {\n    background: black;\n  }\n  .green {\n    background: green;\n  }\n</style>", "language": "html", "index": 16}, {"code": "<!-- 单一页面承载多状态视图 -->\n<div>\n  <div if=\"{{status === 1}}\">\n    <div>A功能视图组件</div>\n    <!-- 50+ 嵌套节点 -->\n  </div>\n  <div if=\"{{status === 2}}\">\n    <div>B功能视图组件</div>\n    <!-- 50+ 嵌套节点 -->\n  </div>\n</div>", "language": "html", "index": 17}, {"code": "<!-- pageA.ux -->\n<template>\n  <div class=\"module-container\">\n    <text>A功能核心组件</text>\n    <!-- 精简DOM结构 -->\n  </div>\n</template>\n\n<!-- pageB.ux -->\n<template>\n  <div class=\"module-container\">\n    <text>B功能核心组件</text>\n    <!-- 独立维护的视图 -->\n  </div>\n</template>", "language": "html", "index": 18}, {"code": "function fetchData() {\n  // 业务逻辑\n}", "language": "js", "index": 19}, {"code": "const fetchData = () => {\n  // 箭头函数实现\n}", "language": "js", "index": 20}, {"code": "const userProfile = {\n  userIdentification: 'UXP-001',\n  profileModificationDate: '2024-03',\n}", "language": "js", "index": 21}, {"code": "const user = {\n  id: 'UXP-001',\n  update: '2024-03', // 上下文明确的短命名\n}", "language": "js", "index": 22}, {"code": "<style>\n  .component-a {\n    width: 80px;\n    margin: 16px;\n    border-radius: 8px;\n  }\n  .component-b {\n    width: 80px;\n    padding: 16px;\n    border-radius: 8px;\n  }\n</style>", "language": "html", "index": 23}, {"code": "<style>\n  /* 基础原子类 */\n  .full-width {\n    width: 80px;\n  }\n  .padding-md {\n    padding: 16px;\n  }\n  .margin-md {\n    margin: 16px;\n  }\n  .rounded {\n    border-radius: 8px;\n  }\n\n  /* 组件专属样式 */\n  .component-b {\n    background: #f0f2f5;\n  }\n</style>", "language": "html", "index": 24}], "frontmatter": {"title": "减少代码体积"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/question-answer/build-env/", "category": "tutorial", "crawl_time": "2025-11-24T02:23:20.394042", "status": "success", "title": "编译环境变量", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"编译环境变量\" style=\"position:relative;\"><a aria-label=\"编译环境变量 permalink\" class=\"anchor before\" href=\"#%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>编译环境变量</h1><p class=\"update-time\">更新时间：<time datetime=\"2024-03-13 09:57:59\">2024-03-13 09:57:59</time></p>\n<p>编译环境变量 <code class=\"language-text\">process.env.NODE_ENV</code> 用于在构建时判断生产环境或开发环境。它可以帮助在编译时去掉不必要构建的代码块。环境变量的一种使用场景是用于模拟器无法覆盖的能力，可以使用 JavaScript 来模拟这些情况。</p>\n<h2 id=\"编译环境变量取值\" style=\"position:relative;\"><a aria-label=\"编译环境变量取值 permalink\" class=\"anchor before\" href=\"#%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E5%8F%96%E5%80%BC\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>编译环境变量取值</h2>\n<table>\n<thead>\n<tr>\n<th>环境</th>\n<th>取值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>开发环境</td>\n<td>development</td>\n</tr>\n<tr>\n<td>正式环境</td>\n<td>production</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"使用示例\" style=\"position:relative;\"><a aria-label=\"使用示例 permalink\" class=\"anchor before\" href=\"#%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>使用示例</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><div id=\"copyBtn0\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> musicList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">==</span> <span class=\"token string\">'development'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 开发环境假数据模拟</span>\n  musicList <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./musicList.js'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">==</span> <span class=\"token string\">'production'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 正式环境获取真实数据</span>\n  musicList <span class=\"token operator\">=</span> <span class=\"token function\">getMuisc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>musicList<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div></body></html></div>", "content_text": "编译环境变量\n更新时间：\n2024-03-13 09:57:59\n编译环境变量\nprocess.env.NODE_ENV\n用于在构建时判断生产环境或开发环境。它可以帮助在编译时去掉不必要构建的代码块。环境变量的一种使用场景是用于模拟器无法覆盖的能力，可以使用 JavaScript 来模拟这些情况。\n编译环境变量取值\n环境\n取值\n开发环境\ndevelopment\n正式环境\nproduction\n使用示例\nlet\nmusicList\n=\n[\n]\nif\n(\nprocess\n.\nenv\n.\nNODE_ENV\n==\n'development'\n)\n{\n// 开发环境假数据模拟\nmusicList\n=\nrequire\n(\n'./musicList.js'\n)\n}\nelse\nif\n(\nprocess\n.\nenv\n.\nNODE_ENV\n==\n'production'\n)\n{\n// 正式环境获取真实数据\nmusicList\n=\ngetMuisc\n(\n)\n}\nexport\ndefault\n{\nonInit\n(\n)\n{\nconsole\n.\nlog\n(\nmusicList\n)\n}\n,\n}\n复制代码", "code_examples": [{"code": "let musicList = []\n\nif (process.env.NODE_ENV == 'development') {\n  // 开发环境假数据模拟\n  musicList = require('./musicList.js')\n} else if (process.env.NODE_ENV == 'production') {\n  // 正式环境获取真实数据\n  musicList = getMuisc()\n}\n\nexport default {\n  onInit() {\n    console.log(musicList)\n  },\n}", "language": "js", "index": 0}], "frontmatter": {"title": "编译环境变量"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/question-answer/i18n/", "category": "tutorial", "crawl_time": "2025-11-24T02:23:21.762419", "status": "success", "title": "国际化", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"国际化\" style=\"position:relative;\"><a aria-label=\"国际化 permalink\" class=\"anchor before\" href=\"#%E5%9B%BD%E9%99%85%E5%8C%96\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>国际化</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-10-09 11:25:10\">2025-10-09 11:25:10</time></p>\n<p>蓝河应用平台的能力会覆盖多个国家地区，平台支持国际化(i18n)的能力后，可以做到让一个蓝河应用产品（一个 RPK 文件）同时支持多个语言版本的切换，开发者无需开发多个不同语言的源码项目，避免给项目维护带来困难。</p>\n<p>使用系统默认的语言，开发者配置国际化的方式非常简单，只需要<code class=\"language-text\">定义资源</code>与<code class=\"language-text\">引用资源</code>两个步骤即可；如果允许用户在蓝河应用中修改地区语言，请参考第三步<code class=\"language-text\">获取更新语言</code>；</p>\n<h2 id=\"定义资源文件\" style=\"position:relative;\"><a aria-label=\"定义资源文件 permalink\" class=\"anchor before\" href=\"#%E5%AE%9A%E4%B9%89%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>定义资源文件</h2>\n<p>资源文件用于存放多个语言的业务信息定义，与其它技术平台类似（它们使用<code class=\"language-text\">properties文件</code>或者<code class=\"language-text\">xml文件</code>的格式），蓝河应用平台使用<code class=\"language-text\">JSON文件</code>保存资源定义；</p>\n<p>在项目源码<code class=\"language-text\">src目录</code>下定义<code class=\"language-text\">i18n文件夹</code>，内部放置每个语言地区下的资源定义文件即可；其中文件名定义为：<code class=\"language-text\">zh-CN.json</code>、<code class=\"language-text\">zh.json</code>；</p>\n<p>每个 JSON 文件的内容格式如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn0\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"message\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"pageA\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"text\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"pure-text-content\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"format\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"object\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"type-{name}\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"array\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"type-{0}\"</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"plurals\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"double\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"car | cars\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"three\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"no apples | one apple | {count} apples\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"format\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">\"object\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"type-{name}\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"array\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"type-{0}\"</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<p>页面中通过<code class=\"language-text\">message.pageA.text</code>类似的<code class=\"language-text\">path</code>引用对应内容<code class=\"language-text\">\"pure-text-content\"</code>；</p>\n<h2 id=\"页面中引用资源\" style=\"position:relative;\"><a aria-label=\"页面中引用资源 permalink\" class=\"anchor before\" href=\"#%E9%A1%B5%E9%9D%A2%E4%B8%AD%E5%BC%95%E7%94%A8%E8%B5%84%E6%BA%90\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>页面中引用资源</h2>\n<p>页面中 i18n 的使用语法，主要体现在 ViewModel 的几个函数上，如：<code class=\"language-text\">$t</code>，这些方法可以在<code class=\"language-text\">&lt;template</code>或<code class=\"language-text\">&lt;script&gt;</code>中使用；</p>\n<p>如下代码所示：</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn1\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{ $t('message.pageA.text') }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{ $t('message.pageA.format.object', { name: 'arg-object' }) }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 简单格式化：</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$t</span><span class=\"token punctuation\">(</span><span class=\"token string\">'message.pageA.text'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$t</span><span class=\"token punctuation\">(</span><span class=\"token string\">'message.pageA.format.object'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'arg-object'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<h3 id=\"简单格式化方法\" style=\"position:relative;\"><a aria-label=\"简单格式化方法 permalink\" class=\"anchor before\" href=\"#%E7%AE%80%E5%8D%95%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%96%B9%E6%B3%95\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>简单格式化方法</h3>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>参数</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>$t</td>\n<td>Function</td>\n<td>path: String 资源路径 <br/> arg0: object</td>\n<td>array 格式化参数，非必要参数，根据系统语言完成简单的替换：<code class=\"language-text\">this.$t('message.pageA.text')</code></td>\n</tr>\n</tbody>\n</table>\n<p>比如：</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><div id=\"copyBtn2\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// 示例：无额外参数的格式化</span>\n<span class=\"token comment\">// 输出：\"pure-text-content\"</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$t</span><span class=\"token punctuation\">(</span><span class=\"token string\">'message.pageA.text'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// 示例：额外参数为对象，替换引用内容中的绑定</span>\n<span class=\"token comment\">// 输出：\"type-arg-object\"</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$t</span><span class=\"token punctuation\">(</span><span class=\"token string\">'message.pageA.format.object'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">'arg-object'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn2\">复制代码</div></div>\n<h3 id=\"单复数格式化方法\" style=\"position:relative;\"><a aria-label=\"单复数格式化方法 permalink\" class=\"anchor before\" href=\"#%E5%8D%95%E5%A4%8D%E6%95%B0%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%96%B9%E6%B3%95\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>单复数格式化方法</h3>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>参数</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>$tc</td>\n<td>Function</td>\n<td>path: String 资源路径 <br/> count: number 要表达的值</td>\n<td>根据系统语言完成单复数替换：<code class=\"language-text\">this.$tc('message.plurals.double')</code>，注意：定义资源的内容通过 | 分隔为多个选项</td>\n</tr>\n</tbody>\n</table>\n<p>比如：</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><div id=\"copyBtn3\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// 示例：message的值为两个选项时，传递数值不为单数</span>\n<span class=\"token comment\">// 输出：\"cars\"</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$tc</span><span class=\"token punctuation\">(</span><span class=\"token string\">'message.pageA.plurals.double'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// 示例：message的值为两个选项时，传递数值为单数</span>\n<span class=\"token comment\">// 输出：\"car\"</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$tc</span><span class=\"token punctuation\">(</span><span class=\"token string\">'message.pageA.plurals.double'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// 示例：message的值为两个选项时，传递数值不为单数</span>\n<span class=\"token comment\">// 输出：\"cars\"</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$tc</span><span class=\"token punctuation\">(</span><span class=\"token string\">'message.pageA.plurals.double'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// 示例：message的值为三个及以上的选项时，传递数值不为单数</span>\n<span class=\"token comment\">// 输出：\"no apples\"</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$tc</span><span class=\"token punctuation\">(</span><span class=\"token string\">'message.pageA.plurals.three'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// 示例：message的值为三个及以上的选项时，传递数值为单数</span>\n<span class=\"token comment\">// 输出：\"one apple\"</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$tc</span><span class=\"token punctuation\">(</span><span class=\"token string\">'message.pageA.plurals.three'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// 示例：message的值为三个及以上的选项时，传递数值不为单数</span>\n<span class=\"token comment\">// 输出：\"10 apples\"</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$tc</span><span class=\"token punctuation\">(</span><span class=\"token string\">'message.pageA.plurals.three'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn3\">复制代码</div></div>\n<h3 id=\"manifest-中的-name-的国际化\" style=\"position:relative;\"><a aria-label=\"manifest 中的 name 的国际化 permalink\" class=\"anchor before\" href=\"#manifest-%E4%B8%AD%E7%9A%84-name-%E7%9A%84%E5%9B%BD%E9%99%85%E5%8C%96\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>manifest 中的 name 的国际化</h3>\n<p>此时可使用字符串模板声明，形如：${appName}</p>\n<p>例如下面：</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn4\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"package\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"com.example.i18n\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"${appName}\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"versionName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"versionCode\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn4\">复制代码</div></div>\n<p>此时 i18n 也必须有相应的配置信息</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn5\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token comment\">// en.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"appName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"myApp\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn5\">复制代码</div></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn6\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token comment\">// zh-CN.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"appName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"我的应用\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn6\">复制代码</div></div>\n<h3 id=\"获取更新语言\" style=\"position:relative;\"><a aria-label=\"获取更新语言 permalink\" class=\"anchor before\" href=\"#%E8%8E%B7%E5%8F%96%E6%9B%B4%E6%96%B0%E8%AF%AD%E8%A8%80\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>获取更新语言</h3>\n<p>上面的能力用于资源内容的格式化，在某些场景下开发者可能需要获取当前系统的地区语言<code class=\"language-text\">locale</code>并进行更改，来完成不同的逻辑处理：</p>\n<ul>\n<li>比如：不同的 locale 对应的页面布局不同；</li>\n<li>比如：开发者为用户提供设置某种语言的能力；</li>\n</ul>\n<p>此时开发者，可以通过<code class=\"language-text\">blueos.app.configuration</code>接口来完成</p>\n<p>比如：</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><div id=\"copyBtn7\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> configuration <span class=\"token keyword\">from</span> <span class=\"token string\">'@blueos.app.configuration'</span>\n\n<span class=\"token comment\">// 获取locale，后续开发者可以将locale设置为VM中的data属性，并在模板中判断以区分不同的布局</span>\n<span class=\"token keyword\">const</span> localeObject <span class=\"token operator\">=</span> configuration<span class=\"token punctuation\">.</span><span class=\"token function\">getLocale</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// 转换为字符串格式，如：'zh'或者'zh-CN'</span>\n<span class=\"token keyword\">const</span> locale <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>localeObject<span class=\"token punctuation\">.</span>language<span class=\"token punctuation\">,</span> localeObject<span class=\"token punctuation\">.</span>countryOrRegion<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token operator\">!</span><span class=\"token operator\">!</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">获取当前locale：</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>locale<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn7\">复制代码</div></div>\n<p>设置多当前语言(setLocale)为系统接口，普通应用无法调用。</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><div id=\"copyBtn8\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> configuration <span class=\"token keyword\">from</span> <span class=\"token string\">'@blueos.app.configuration'</span>\n\n<span class=\"token comment\">// 设置locale成功后，通过VM的生命周期函数 onConfigurationChanged 触发</span>\nconfiguration<span class=\"token punctuation\">.</span><span class=\"token function\">setLocale</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  language<span class=\"token operator\">:</span> <span class=\"token string\">'zh'</span><span class=\"token punctuation\">,</span>\n  countryOrRegion<span class=\"token operator\">:</span> <span class=\"token string\">'CN'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn8\">复制代码</div></div>\n<h3 id=\"修改地区语言后的回调\" style=\"position:relative;\"><a aria-label=\"修改地区语言后的回调 permalink\" class=\"anchor before\" href=\"#%E4%BF%AE%E6%94%B9%E5%9C%B0%E5%8C%BA%E8%AF%AD%E8%A8%80%E5%90%8E%E7%9A%84%E5%9B%9E%E8%B0%83\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>修改地区语言后的回调</h3>\n<p>当用户在系统设置或者通过 configuration.setLocale 切换地区语言，都会触发 onConfigurationChanged 回调，且返回来的 event.type 值为<code class=\"language-text\">locale</code></p>\n<p>示例代码</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><div id=\"copyBtn9\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// 监听语言、地区变化</span>\n<span class=\"token function\">onConfigurationChanged</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>event <span class=\"token operator\">&amp;&amp;</span> event<span class=\"token punctuation\">.</span>type <span class=\"token operator\">&amp;&amp;</span> event<span class=\"token punctuation\">.</span>type <span class=\"token operator\">===</span> <span class=\"token string\">'locale'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'locale or language changed!'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn9\">复制代码</div></div></body></html></div>", "content_text": "国际化\n更新时间：\n2025-10-09 11:25:10\n蓝河应用平台的能力会覆盖多个国家地区，平台支持国际化(i18n)的能力后，可以做到让一个蓝河应用产品（一个 RPK 文件）同时支持多个语言版本的切换，开发者无需开发多个不同语言的源码项目，避免给项目维护带来困难。\n使用系统默认的语言，开发者配置国际化的方式非常简单，只需要\n定义资源\n与\n引用资源\n两个步骤即可；如果允许用户在蓝河应用中修改地区语言，请参考第三步\n获取更新语言\n；\n定义资源文件\n资源文件用于存放多个语言的业务信息定义，与其它技术平台类似（它们使用\nproperties文件\n或者\nxml文件\n的格式），蓝河应用平台使用\nJSON文件\n保存资源定义；\n在项目源码\nsrc目录\n下定义\ni18n文件夹\n，内部放置每个语言地区下的资源定义文件即可；其中文件名定义为：\nzh-CN.json\n、\nzh.json\n；\n每个 JSON 文件的内容格式如下：\n{\n\"message\"\n:\n{\n\"pageA\"\n:\n{\n\"text\"\n:\n\"pure-text-content\"\n,\n\"format\"\n:\n{\n\"object\"\n:\n\"type-{name}\"\n,\n\"array\"\n:\n\"type-{0}\"\n}\n,\n\"plurals\"\n:\n{\n\"double\"\n:\n\"car | cars\"\n,\n\"three\"\n:\n\"no apples | one apple | {count} apples\"\n,\n\"format\"\n:\n{\n\"object\"\n:\n\"type-{name}\"\n,\n\"array\"\n:\n\"type-{0}\"\n}\n}\n}\n}\n}\n复制代码\n页面中通过\nmessage.pageA.text\n类似的\npath\n引用对应内容\n\"pure-text-content\"\n；\n页面中引用资源\n页面中 i18n 的使用语法，主要体现在 ViewModel 的几个函数上，如：\n$t\n，这些方法可以在\n<template\n或\n<script>\n中使用；\n如下代码所示：\n<\ntemplate\n>\n<\ndiv\n>\n<\ntext\n>\n{{ $t('message.pageA.text') }}\n</\ntext\n>\n<\ntext\n>\n{{ $t('message.pageA.format.object', { name: 'arg-object' }) }}\n</\ntext\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nscript\n>\nexport\ndefault\n{\nonInit\n(\n)\n{\n// 简单格式化：\nthis\n.\n$t\n(\n'message.pageA.text'\n)\nthis\n.\n$t\n(\n'message.pageA.format.object'\n,\n{\nname\n:\n'arg-object'\n}\n)\n}\n,\n}\n</\nscript\n>\n复制代码\n简单格式化方法\n属性\n类型\n参数\n描述\n$t\nFunction\npath: String 资源路径\narg0: object\narray 格式化参数，非必要参数，根据系统语言完成简单的替换：\nthis.$t('message.pageA.text')\n比如：\n// 示例：无额外参数的格式化\n// 输出：\"pure-text-content\"\nthis\n.\n$t\n(\n'message.pageA.text'\n)\n// 示例：额外参数为对象，替换引用内容中的绑定\n// 输出：\"type-arg-object\"\nthis\n.\n$t\n(\n'message.pageA.format.object'\n,\n{\nname\n:\n'arg-object'\n}\n)\n复制代码\n单复数格式化方法\n属性\n类型\n参数\n描述\n$tc\nFunction\npath: String 资源路径\ncount: number 要表达的值\n根据系统语言完成单复数替换：\nthis.$tc('message.plurals.double')\n，注意：定义资源的内容通过 | 分隔为多个选项\n比如：\n// 示例：message的值为两个选项时，传递数值不为单数\n// 输出：\"cars\"\nthis\n.\n$tc\n(\n'message.pageA.plurals.double'\n,\n0\n)\n// 示例：message的值为两个选项时，传递数值为单数\n// 输出：\"car\"\nthis\n.\n$tc\n(\n'message.pageA.plurals.double'\n,\n1\n)\n// 示例：message的值为两个选项时，传递数值不为单数\n// 输出：\"cars\"\nthis\n.\n$tc\n(\n'message.pageA.plurals.double'\n,\n2\n)\n// 示例：message的值为三个及以上的选项时，传递数值不为单数\n// 输出：\"no apples\"\nthis\n.\n$tc\n(\n'message.pageA.plurals.three'\n,\n0\n)\n// 示例：message的值为三个及以上的选项时，传递数值为单数\n// 输出：\"one apple\"\nthis\n.\n$tc\n(\n'message.pageA.plurals.three'\n,\n1\n)\n// 示例：message的值为三个及以上的选项时，传递数值不为单数\n// 输出：\"10 apples\"\nthis\n.\n$tc\n(\n'message.pageA.plurals.three'\n,\n10\n)\n复制代码\nmanifest 中的 name 的国际化\n此时可使用字符串模板声明，形如：${appName}\n例如下面：\n{\n\"package\"\n:\n\"com.example.i18n\"\n,\n\"name\"\n:\n\"${appName}\"\n,\n\"versionName\"\n:\n\"1.0.0\"\n,\n\"versionCode\"\n:\n1\n}\n复制代码\n此时 i18n 也必须有相应的配置信息\n// en.json\n{\n\"appName\"\n:\n\"myApp\"\n}\n复制代码\n// zh-CN.json\n{\n\"appName\"\n:\n\"我的应用\"\n}\n复制代码\n获取更新语言\n上面的能力用于资源内容的格式化，在某些场景下开发者可能需要获取当前系统的地区语言\nlocale\n并进行更改，来完成不同的逻辑处理：\n比如：不同的 locale 对应的页面布局不同；\n比如：开发者为用户提供设置某种语言的能力；\n此时开发者，可以通过\nblueos.app.configuration\n接口来完成\n比如：\nimport\nconfiguration\nfrom\n'@blueos.app.configuration'\n// 获取locale，后续开发者可以将locale设置为VM中的data属性，并在模板中判断以区分不同的布局\nconst\nlocaleObject\n=\nconfiguration\n.\ngetLocale\n(\n)\n// 转换为字符串格式，如：'zh'或者'zh-CN'\nconst\nlocale\n=\n[\nlocaleObject\n.\nlanguage\n,\nlocaleObject\n.\ncountryOrRegion\n]\n.\nfilter\n(\n(\nn\n)\n=>\n!\n!\nn\n)\n.\njoin\n(\n'-'\n)\nconsole\n.\ninfo\n(\n`\n获取当前locale：\n${\nlocale\n}\n`\n)\n复制代码\n设置多当前语言(setLocale)为系统接口，普通应用无法调用。\nimport\nconfiguration\nfrom\n'@blueos.app.configuration'\n// 设置locale成功后，通过VM的生命周期函数 onConfigurationChanged 触发\nconfiguration\n.\nsetLocale\n(\n{\nlanguage\n:\n'zh'\n,\ncountryOrRegion\n:\n'CN'\n,\n}\n)\n复制代码\n修改地区语言后的回调\n当用户在系统设置或者通过 configuration.setLocale 切换地区语言，都会触发 onConfigurationChanged 回调，且返回来的 event.type 值为\nlocale\n示例代码\n// 监听语言、地区变化\nonConfigurationChanged\n(\nevent\n)\n{\nif\n(\nevent\n&&\nevent\n.\ntype\n&&\nevent\n.\ntype\n===\n'locale'\n)\n{\nconsole\n.\nlog\n(\n'locale or language changed!'\n)\n}\n}\n复制代码", "code_examples": [{"code": "{\n  \"message\": {\n    \"pageA\": {\n      \"text\": \"pure-text-content\",\n      \"format\": {\n        \"object\": \"type-{name}\",\n        \"array\": \"type-{0}\"\n      },\n      \"plurals\": {\n        \"double\": \"car | cars\",\n        \"three\": \"no apples | one apple | {count} apples\",\n        \"format\": {\n          \"object\": \"type-{name}\",\n          \"array\": \"type-{0}\"\n        }\n      }\n    }\n  }\n}", "language": "json", "index": 0}, {"code": "<template>\n  <div>\n    <text>{{ $t('message.pageA.text') }}</text>\n    <text>{{ $t('message.pageA.format.object', { name: 'arg-object' }) }}</text>\n  </div>\n</template>\n\n<script>\n  export default {\n    onInit() {\n      // 简单格式化：\n      this.$t('message.pageA.text')\n      this.$t('message.pageA.format.object', { name: 'arg-object' })\n    },\n  }\n</script>", "language": "html", "index": 1}, {"code": "// 示例：无额外参数的格式化\n// 输出：\"pure-text-content\"\nthis.$t('message.pageA.text')\n// 示例：额外参数为对象，替换引用内容中的绑定\n// 输出：\"type-arg-object\"\nthis.$t('message.pageA.format.object', { name: 'arg-object' })", "language": "ts", "index": 2}, {"code": "// 示例：message的值为两个选项时，传递数值不为单数\n// 输出：\"cars\"\nthis.$tc('message.pageA.plurals.double', 0)\n// 示例：message的值为两个选项时，传递数值为单数\n// 输出：\"car\"\nthis.$tc('message.pageA.plurals.double', 1)\n// 示例：message的值为两个选项时，传递数值不为单数\n// 输出：\"cars\"\nthis.$tc('message.pageA.plurals.double', 2)\n\n// 示例：message的值为三个及以上的选项时，传递数值不为单数\n// 输出：\"no apples\"\nthis.$tc('message.pageA.plurals.three', 0)\n// 示例：message的值为三个及以上的选项时，传递数值为单数\n// 输出：\"one apple\"\nthis.$tc('message.pageA.plurals.three', 1)\n// 示例：message的值为三个及以上的选项时，传递数值不为单数\n// 输出：\"10 apples\"\nthis.$tc('message.pageA.plurals.three', 10)", "language": "ts", "index": 3}, {"code": "{\n  \"package\": \"com.example.i18n\",\n  \"name\": \"${appName}\",\n  \"versionName\": \"1.0.0\",\n  \"versionCode\": 1\n}", "language": "json", "index": 4}, {"code": "// en.json\n{\n  \"appName\": \"myApp\"\n}", "language": "json", "index": 5}, {"code": "// zh-CN.json\n{\n  \"appName\": \"我的应用\"\n}", "language": "json", "index": 6}, {"code": "import configuration from '@blueos.app.configuration'\n\n// 获取locale，后续开发者可以将locale设置为VM中的data属性，并在模板中判断以区分不同的布局\nconst localeObject = configuration.getLocale()\n// 转换为字符串格式，如：'zh'或者'zh-CN'\nconst locale = [localeObject.language, localeObject.countryOrRegion].filter((n) => !!n).join('-')\n\nconsole.info(`获取当前locale：${locale}`)", "language": "ts", "index": 7}, {"code": "import configuration from '@blueos.app.configuration'\n\n// 设置locale成功后，通过VM的生命周期函数 onConfigurationChanged 触发\nconfiguration.setLocale({\n  language: 'zh',\n  countryOrRegion: 'CN',\n})", "language": "ts", "index": 8}, {"code": "// 监听语言、地区变化\nonConfigurationChanged(event) {\n  if (event && event.type && event.type === 'locale') {\n    console.log('locale or language changed!')\n  }\n}", "language": "ts", "index": 9}], "frontmatter": {"title": "国际化"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/quickstart/introduction/", "category": "tutorial", "crawl_time": "2025-11-24T02:23:24.516988", "status": "success", "title": "概述", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"概述\" style=\"position:relative;\"><a aria-label=\"概述 permalink\" class=\"anchor before\" href=\"#%E6%A6%82%E8%BF%B0\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>概述</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-04-29 11:37:34\">2025-04-29 11:37:34</time></p>\n<p>蓝河应用开发采用类 web 开发范式，使用 UI 组件来搭建页面布局，使用样式来描述组件和页面的效果，使用 Javascript 来进行业务逻辑的开发。蓝河应用支持 MVVM（Model-View-ViewModel）的架构，通过数据绑定视图的方式，数据发生变化时，会自动触发 UI 的更新。</p>\n<br/>\n<p>如果开发者是首次接触蓝河应用，并希望立即开始编写代码，请从 <a href=\"/reference/quickstart/quick-start\">构建首个蓝河应用</a> 开始。</p>\n<h2 id=\"蓝河应用系统能力开放概览\" style=\"position:relative;\"><a aria-label=\"蓝河应用系统能力开放概览 permalink\" class=\"anchor before\" href=\"#%E8%93%9D%E6%B2%B3%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%83%BD%E5%8A%9B%E5%BC%80%E6%94%BE%E6%A6%82%E8%A7%88\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>蓝河应用系统能力开放概览</h2>\n<p>蓝河应用具备完备的开放能力，支持在健康、运动、出行、娱乐等全场景的应用的高效开发。</p>\n<h3 id=\"十二大系统能力\" style=\"position:relative;\"><a aria-label=\"十二大系统能力 permalink\" class=\"anchor before\" href=\"#%E5%8D%81%E4%BA%8C%E5%A4%A7%E7%B3%BB%E7%BB%9F%E8%83%BD%E5%8A%9B\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>十二大系统能力</h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\">系统能力</th>\n<th align=\"left\">描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">应用框架</td>\n<td align=\"left\">1. 功能组件：Page、Service、Widget； <br/> 2. 通知能力：Event、Notification、Toast；<br/>3. 页面路由；<br/>4. 后台管理、窗口管理，包管理；</td>\n</tr>\n<tr>\n<td align=\"left\">UI 组件</td>\n<td align=\"left\">1. 基础组件、容器组件、表单组件、画布组件、导航组件；<br/> 2. 系统风格 UI 组件；<br/> 3. MVVM 编程模型；<br/> 4. 弹性布局，自适应布局；<br/> 5. 属性动画、SVG 矢量动画，帧动画；</td>\n</tr>\n<tr>\n<td align=\"left\">AI 能力</td>\n<td align=\"left\">1. AI 算法能力：视觉算法、语音算法、自然语言处理；<br/> 2. AI 服务引擎：支持调用连接端的强算力设备上的端侧大模型和云端大模型；<br/> 功能组件包括 Chain、Agent、Memory、Tools，LLM API、PromptTemplete;</td>\n</tr>\n<tr>\n<td align=\"left\">连接能力</td>\n<td align=\"left\">1. 开放组件 Kit: HealthKit、ShareKit、KeyKit、RelayKit；<br/> 2. BlueXlink: 发现、连接、传输、策略、协议适配；</td>\n</tr>\n<tr>\n<td align=\"left\">运动健康能力</td>\n<td align=\"left\">1. 睡眠数据、运动数据 ；<br/> 2. 健康数据：心率、卡路里；<br/> 3. 运动识别：行走、跑步、骑行、游泳、跳绳... ；<br/> 4. 姿态识别：久坐、站立；</td>\n</tr>\n<tr>\n<td align=\"left\">通信能力</td>\n<td align=\"left\">1. 蓝牙、NFC ；<br/> 2. 上传下载 ；<br/> 3. 数据请求 ；<br/> 4.WebSocket；</td>\n</tr>\n<tr>\n<td align=\"left\">多媒体能力</td>\n<td align=\"left\">1. 原子音乐播放组件；<br/> 2. 图像/音频编解码；<br/> 3. 音频录制、播放；<br/> 4. 音频管理；</td>\n</tr>\n<tr>\n<td align=\"left\">数据存储能力</td>\n<td align=\"left\">1. 存储空间管理；<br/> 2. K-V 存储； <br/> 3. 文件存储； <br/> 4. 数据共享；</td>\n</tr>\n<tr>\n<td align=\"left\">电话能力</td>\n<td align=\"left\">1. 通话、短信；<br/> 2. 蜂窝数据；<br/> 3. 网络搜索；<br/> 4. SIM 卡管理；</td>\n</tr>\n<tr>\n<td align=\"left\">基础硬件能力</td>\n<td align=\"left\">1. 位置服务；<br/> 2. 振动；<br/> 3. 屏幕管理；<br/> 4. 电源管理；<br/> 5. 传感器：佩戴状态、抬腕、计步、罗盘、加速度、陀螺仪、气压；</td>\n</tr>\n<tr>\n<td align=\"left\">基础软件能力</td>\n<td align=\"left\">1. 系统设置；<br/> 2. 全球化；<br/> 2. 解压缩、序列化；</td>\n</tr>\n<tr>\n<td align=\"left\">安全能力</td>\n<td align=\"left\">1. 权限机制；<br/> 2. 加解密算法库；<br/> 3. 应用沙箱；</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"两套-api\" style=\"position:relative;\"><a aria-label=\"两套 api permalink\" class=\"anchor before\" href=\"#%E4%B8%A4%E5%A5%97-api\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>两套 API</h3>\n<p>为了兼顾高效开发和高性能，蓝河应用提供了两套 API，Javascript API 和 Native API</p>\n<ol>\n<li>Javascript API 提供了完整的开放能力， 支持开发者高效率地完成应用的开发。</li>\n<li>Native API 主要聚焦高性能场景，以及方便开发者对原有代码的复用。</li>\n</ol>\n<h2 id=\"三种应用形态\" style=\"position:relative;\"><a aria-label=\"三种应用形态 permalink\" class=\"anchor before\" href=\"#%E4%B8%89%E7%A7%8D%E5%BA%94%E7%94%A8%E5%BD%A2%E6%80%81\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>三种应用形态</h2>\n<p>蓝河应用支持应用、表盘、快捷卡片三种应用形态。</p>\n<ol>\n<li>应用：它具有完整的功能，可以支持多页面，支持复杂的 UI 交互，支持应用间的跳转和数据交换。它可以在后台运行，在特定场景可以长期运行。</li>\n<li>表盘：它具备装饰属性， 也代表了用户的个性化选择。支持普通和 AOD 两种显示模式，支持动态交互和 20 多种数据展示。支持三种开发方案：AI 生成、表盘设计工具制作、代码编程实现。</li>\n<li>快捷卡片：是一种高效的信息展示方式，用户无需进入应用，在表盘界面只需左滑，即可查看信息和控制操作。</li>\n</ol>\n<br/>\n<p>蓝河表盘是一种非常重要的应用形态，蓝河应用致力于为用户提供丰富的表盘。为此蓝河开发套件共提供三种开发表盘方案，开发者既可以通过自然语言交互快速生成表盘（即将开放）、也可以使用设计图配置生成表盘（即将开放）、还可以使用代码编程实现功能更丰富的表盘。如果您需要了解更多关于代码编程实现表盘的方式请移步 <a href=\"/reference/extend/watchface/\">表盘教程</a> 与 <a href=\"/component/common/ui-rotation/\">UI 组件支持的表冠旋转</a> 进行更详细的了解。</p>\n<h2 id=\"通用开发流程\" style=\"position:relative;\"><a aria-label=\"通用开发流程 permalink\" class=\"anchor before\" href=\"#%E9%80%9A%E7%94%A8%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>通用开发流程</h2>\n<h3 id=\"一准备开发环境\" style=\"position:relative;\"><a aria-label=\"一准备开发环境 permalink\" class=\"anchor before\" href=\"#%E4%B8%80%E5%87%86%E5%A4%87%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>一、准备开发环境</h3>\n<p>BlueOS Studio 是面向蓝河应用开发推出的一款全新的一站式集成开发环境。开发者可以使用 BlueOS Studio 开发、调试和打包蓝河应用。BlueOS Studio 提供了丰富的功能和工具，可以极大地提高开发效率和代码质量。如果您想了解更多关于 BlueOS Studio 的功能和使用方法，请移步 <a href=\"https://studio.blueos.com.cn/\">BlueOS Studio</a> 的详细教程。同时，您也可以 <a href=\"https://studio.blueos.com.cn/install\">点击链接进入工具下载页面</a> ，安装 BlueOS Studio。</p>\n<h3 id=\"二开发-ui\" style=\"position:relative;\"><a aria-label=\"二开发 ui permalink\" class=\"anchor before\" href=\"#%E4%BA%8C%E5%BC%80%E5%8F%91-ui\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>二、开发 UI</h3>\n<p>蓝河应用主要使用 UI 组件和样式进行界面的开发。UI 组件是蓝河应用 UI 开发的最小单元，蓝河应用提供了基础、表单，布局/容器、画布、导航、动画、系统风格等类型的一系列组件。 组件、样式、js 代码大部分都是写在 <code class=\"language-text\">.ux</code> 的文件中，您想进一步了解组件、样式、js 代码是如何组织的，可以移步 <a href=\"/reference/configuration/ux-file/\">ux 文件</a> 进行更详细的了解。</p>\n<br/>\n<p>在组件开发基础之上，蓝河应用还提供了丰富的样式支持，因此开发者可以开发出包含自己独特风格的蓝河应用。样式可以声明在&lt;style&gt;标签内也可以通过 style 属性以内联样式的形式声明在组件标签上，如果您想了解更多关于样式的详细信息，请移步 <a href=\"/reference/configuration/style-sheet/\">style 样式</a> 。蓝河应用支持的通用样式情况的详细信息，可以移步了解 <a href=\"/component/common/common-styles/\">通用样式支持</a></p>\n<h3 id=\"三开发业务功能\" style=\"position:relative;\"><a aria-label=\"三开发业务功能 permalink\" class=\"anchor before\" href=\"#%E4%B8%89%E5%BC%80%E5%8F%91%E4%B8%9A%E5%8A%A1%E5%8A%9F%E8%83%BD\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>三、开发业务功能</h3>\n<p>蓝河应用提供了 JS API 和 Native API 两种接口，以支撑高效和高性能的开发场景。开发者可以根据需要选择不同的接口进行开发，以获得更好的开发体验和应用性能。</p>\n<br/>\n<p>1.JS API 提供了完整的开放能力， 支持开发者高效率地完成应用的开发。开发者可以实现应用生命周期监听、系统弹窗、多设备互联等操作，如果您需要了解更多关于这些开放能力的信息，请移步 <a href=\"/api/system/app/\">JS 功能接口</a> 进行了解。</p>\n<br/>\n<p>2.Native API 主要聚焦高性能场景，支持 Posix API 以及部分系统能力如连接能力、数据存储能力、通信能力等。如果您需要了解 Native API 更详细的信息，请移步 <a href=\"/native/quickstart/introduction/\">Native API</a> 。</p>\n<h3 id=\"四开发调试\" style=\"position:relative;\"><a aria-label=\"四开发调试 permalink\" class=\"anchor before\" href=\"#%E5%9B%9B%E5%BC%80%E5%8F%91%E8%B0%83%E8%AF%95\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>四、开发调试</h3>\n<p>在开发的过程中，可以首先使用 BlueOS Studio 的 <a href=\"https://studio.blueos.com.cn/debug/preview/\">实时预览</a> 查看开发的界面效果。</p>\n<p>此外，开发者经常会遇到到 UI 问题、网络问题、内存问题等。</p>\n<p>BlueOS Studio 也提供了对应的分析面板，例如： <a href=\"https://studio.blueos.com.cn/debug/devtools/#element-%E9%9D%A2%E6%9D%BF\">UI 调试</a> 、 <a href=\"https://studio.blueos.com.cn/debug/devtools/#network-%E9%9D%A2%E6%9D%BF\">网络调试</a> 、 <a href=\"https://studio.blueos.com.cn/debug/devtools/#memory-%E9%9D%A2%E6%9D%BF\">内存调试</a> 、 <a href=\"https://studio.blueos.com.cn/debug/console/\">查阅日志</a> ，助力开发者更高效地定位问题。</p>\n<br/>\n<p>开发完成后，开发人员需要对应用进行测试。BlueOS Studio 提供了 <a href=\"https://studio.blueos.com.cn/test/autotest/\">自动化测试的功能</a> ，助力开发者提高测试效率。</p>\n<h3 id=\"五发布\" style=\"position:relative;\"><a aria-label=\"五发布 permalink\" class=\"anchor before\" href=\"#%E4%BA%94%E5%8F%91%E5%B8%83\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>五、发布</h3>\n<p>开发测试完成后，就来到了最后的发布环节，开发者可以使用 BlueOS Studio 的打包功能，将开发的应用打成 rpk 包。</p>\n<br/>\n<p>打包完成后，前往发布平台<a href=\"https://dev.vivo.com.cn/watchRpk/list\" target=\"_blank\">发布</a>后，蓝河操作系统的用户即可使用到对应的蓝河应用。</p>\n<h3 id=\"六快应用开发支持\" style=\"position:relative;\"><a aria-label=\"六快应用开发支持 permalink\" class=\"anchor before\" href=\"#%E5%85%AD%E5%BF%AB%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91%E6%94%AF%E6%8C%81\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>六、快应用开发支持</h3>\n<p>蓝河系统支持快应用标准，可以使用 BlueOS Studio 进行快应用的开发，快应用开发技术文档请参考<a href=\"https://www.quickapp.cn\" target=\"_blank\">快应用官网</a>。</p></body></html></div>", "content_text": "概述\n更新时间：\n2025-04-29 11:37:34\n蓝河应用开发采用类 web 开发范式，使用 UI 组件来搭建页面布局，使用样式来描述组件和页面的效果，使用 Javascript 来进行业务逻辑的开发。蓝河应用支持 MVVM（Model-View-ViewModel）的架构，通过数据绑定视图的方式，数据发生变化时，会自动触发 UI 的更新。\n如果开发者是首次接触蓝河应用，并希望立即开始编写代码，请从\n构建首个蓝河应用\n开始。\n蓝河应用系统能力开放概览\n蓝河应用具备完备的开放能力，支持在健康、运动、出行、娱乐等全场景的应用的高效开发。\n十二大系统能力\n系统能力\n描述\n应用框架\n1. 功能组件：Page、Service、Widget；\n2. 通知能力：Event、Notification、Toast；\n3. 页面路由；\n4. 后台管理、窗口管理，包管理；\nUI 组件\n1. 基础组件、容器组件、表单组件、画布组件、导航组件；\n2. 系统风格 UI 组件；\n3. MVVM 编程模型；\n4. 弹性布局，自适应布局；\n5. 属性动画、SVG 矢量动画，帧动画；\nAI 能力\n1. AI 算法能力：视觉算法、语音算法、自然语言处理；\n2. AI 服务引擎：支持调用连接端的强算力设备上的端侧大模型和云端大模型；\n功能组件包括 Chain、Agent、Memory、Tools，LLM API、PromptTemplete;\n连接能力\n1. 开放组件 Kit: HealthKit、ShareKit、KeyKit、RelayKit；\n2. BlueXlink: 发现、连接、传输、策略、协议适配；\n运动健康能力\n1. 睡眠数据、运动数据 ；\n2. 健康数据：心率、卡路里；\n3. 运动识别：行走、跑步、骑行、游泳、跳绳... ；\n4. 姿态识别：久坐、站立；\n通信能力\n1. 蓝牙、NFC ；\n2. 上传下载 ；\n3. 数据请求 ；\n4.WebSocket；\n多媒体能力\n1. 原子音乐播放组件；\n2. 图像/音频编解码；\n3. 音频录制、播放；\n4. 音频管理；\n数据存储能力\n1. 存储空间管理；\n2. K-V 存储；\n3. 文件存储；\n4. 数据共享；\n电话能力\n1. 通话、短信；\n2. 蜂窝数据；\n3. 网络搜索；\n4. SIM 卡管理；\n基础硬件能力\n1. 位置服务；\n2. 振动；\n3. 屏幕管理；\n4. 电源管理；\n5. 传感器：佩戴状态、抬腕、计步、罗盘、加速度、陀螺仪、气压；\n基础软件能力\n1. 系统设置；\n2. 全球化；\n2. 解压缩、序列化；\n安全能力\n1. 权限机制；\n2. 加解密算法库；\n3. 应用沙箱；\n两套 API\n为了兼顾高效开发和高性能，蓝河应用提供了两套 API，Javascript API 和 Native API\nJavascript API 提供了完整的开放能力， 支持开发者高效率地完成应用的开发。\nNative API 主要聚焦高性能场景，以及方便开发者对原有代码的复用。\n三种应用形态\n蓝河应用支持应用、表盘、快捷卡片三种应用形态。\n应用：它具有完整的功能，可以支持多页面，支持复杂的 UI 交互，支持应用间的跳转和数据交换。它可以在后台运行，在特定场景可以长期运行。\n表盘：它具备装饰属性， 也代表了用户的个性化选择。支持普通和 AOD 两种显示模式，支持动态交互和 20 多种数据展示。支持三种开发方案：AI 生成、表盘设计工具制作、代码编程实现。\n快捷卡片：是一种高效的信息展示方式，用户无需进入应用，在表盘界面只需左滑，即可查看信息和控制操作。\n蓝河表盘是一种非常重要的应用形态，蓝河应用致力于为用户提供丰富的表盘。为此蓝河开发套件共提供三种开发表盘方案，开发者既可以通过自然语言交互快速生成表盘（即将开放）、也可以使用设计图配置生成表盘（即将开放）、还可以使用代码编程实现功能更丰富的表盘。如果您需要了解更多关于代码编程实现表盘的方式请移步\n表盘教程\n与\nUI 组件支持的表冠旋转\n进行更详细的了解。\n通用开发流程\n一、准备开发环境\nBlueOS Studio 是面向蓝河应用开发推出的一款全新的一站式集成开发环境。开发者可以使用 BlueOS Studio 开发、调试和打包蓝河应用。BlueOS Studio 提供了丰富的功能和工具，可以极大地提高开发效率和代码质量。如果您想了解更多关于 BlueOS Studio 的功能和使用方法，请移步\nBlueOS Studio\n的详细教程。同时，您也可以\n点击链接进入工具下载页面\n，安装 BlueOS Studio。\n二、开发 UI\n蓝河应用主要使用 UI 组件和样式进行界面的开发。UI 组件是蓝河应用 UI 开发的最小单元，蓝河应用提供了基础、表单，布局/容器、画布、导航、动画、系统风格等类型的一系列组件。 组件、样式、js 代码大部分都是写在\n.ux\n的文件中，您想进一步了解组件、样式、js 代码是如何组织的，可以移步\nux 文件\n进行更详细的了解。\n在组件开发基础之上，蓝河应用还提供了丰富的样式支持，因此开发者可以开发出包含自己独特风格的蓝河应用。样式可以声明在<style>标签内也可以通过 style 属性以内联样式的形式声明在组件标签上，如果您想了解更多关于样式的详细信息，请移步\nstyle 样式\n。蓝河应用支持的通用样式情况的详细信息，可以移步了解\n通用样式支持\n三、开发业务功能\n蓝河应用提供了 JS API 和 Native API 两种接口，以支撑高效和高性能的开发场景。开发者可以根据需要选择不同的接口进行开发，以获得更好的开发体验和应用性能。\n1.JS API 提供了完整的开放能力， 支持开发者高效率地完成应用的开发。开发者可以实现应用生命周期监听、系统弹窗、多设备互联等操作，如果您需要了解更多关于这些开放能力的信息，请移步\nJS 功能接口\n进行了解。\n2.Native API 主要聚焦高性能场景，支持 Posix API 以及部分系统能力如连接能力、数据存储能力、通信能力等。如果您需要了解 Native API 更详细的信息，请移步\nNative API\n。\n四、开发调试\n在开发的过程中，可以首先使用 BlueOS Studio 的\n实时预览\n查看开发的界面效果。\n此外，开发者经常会遇到到 UI 问题、网络问题、内存问题等。\nBlueOS Studio 也提供了对应的分析面板，例如：\nUI 调试\n、\n网络调试\n、\n内存调试\n、\n查阅日志\n，助力开发者更高效地定位问题。\n开发完成后，开发人员需要对应用进行测试。BlueOS Studio 提供了\n自动化测试的功能\n，助力开发者提高测试效率。\n五、发布\n开发测试完成后，就来到了最后的发布环节，开发者可以使用 BlueOS Studio 的打包功能，将开发的应用打成 rpk 包。\n打包完成后，前往发布平台\n发布\n后，蓝河操作系统的用户即可使用到对应的蓝河应用。\n六、快应用开发支持\n蓝河系统支持快应用标准，可以使用 BlueOS Studio 进行快应用的开发，快应用开发技术文档请参考\n快应用官网\n。", "code_examples": [], "frontmatter": {"title": "概述"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/quickstart/quick-start/", "category": "tutorial", "crawl_time": "2025-11-24T02:23:26.328415", "status": "success", "title": "构建首个蓝河应用", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"构建首个蓝河应用\" style=\"position:relative;\"><a aria-label=\"构建首个蓝河应用 permalink\" class=\"anchor before\" href=\"#%E6%9E%84%E5%BB%BA%E9%A6%96%E4%B8%AA%E8%93%9D%E6%B2%B3%E5%BA%94%E7%94%A8\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>构建首个蓝河应用</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-10-09 11:25:10\">2025-10-09 11:25:10</time></p>\n<blockquote>\n<p>本文将从开发工具、新建项目、安装依赖、调试项目、打包等方面入手，让您学习后，可以构建首个蓝河应用。</p>\n</blockquote>\n<h2 id=\"开发\" style=\"position:relative;\"><a aria-label=\"开发 permalink\" class=\"anchor before\" href=\"#%E5%BC%80%E5%8F%91\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>开发</h2>\n<p>开发者可以使用 BlueOS Studio 开发、调试和打包蓝河应用。以下所有的操作均在 BlueOS Studio 中完成，开发者可以<a href=\"https://studio.blueos.com.cn/install\">点击链接进入工具下载页面</a>，先安装 BlueOS Studio 。</p>\n<h3 id=\"一新建项目\" style=\"position:relative;\"><a aria-label=\"一新建项目 permalink\" class=\"anchor before\" href=\"#%E4%B8%80%E6%96%B0%E5%BB%BA%E9%A1%B9%E7%9B%AE\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>一、新建项目</h3>\n<p>新建方法如下：</p>\n<ol>\n<li>点击<code class=\"language-text\">欢迎页</code>「<strong>新建工程</strong>」、或<code class=\"language-text\">菜单栏</code>「<strong>新建工程」</strong>、或<code class=\"language-text\">快捷入口</code>处「<strong>新建工程</strong>」，打开新建工程界面；</li>\n<li>点击「<strong>下一步</strong>」 ，填写项目名称、项目路径、应用名称和应用包名，点击「<strong>完成</strong>」，BlueOS Studio 会在项目路径下，新建项目并自动打开。</li>\n</ol>\n<img alt=\"createProject\" src=\"/80d94f075f09e93fb0cec6fe3f76c089/createProject.png\" width=\"1000px\"/>\n<h3 id=\"二安装依赖\" style=\"position:relative;\"><a aria-label=\"二安装依赖 permalink\" class=\"anchor before\" href=\"#%E4%BA%8C%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>二、安装依赖</h3>\n<ul>\n<li>准备工作：安装并配置 <a href=\"https://nodejs.org/en\">Node</a> 环境。</li>\n<li>在 BlueOS Studio，我们提供了方便的方式来安装依赖，如下图示，只要点击「<strong>安装依赖</strong>」按钮，即可。</li>\n<li>安装完毕之后，点击「<strong>重新启动编译</strong>」按钮，即能重新编译；之后编写代码，就能在预览区实时查看效果，而无需其他任何操作。</li>\n</ul>\n<img alt=\"install\" src=\"/8c2d3657ae88ced5aed9bd50519a699e/install.png\" width=\"1000px\"/>\n<h3 id=\"三文件组织说明\" style=\"position:relative;\"><a aria-label=\"三文件组织说明 permalink\" class=\"anchor before\" href=\"#%E4%B8%89%E6%96%87%E4%BB%B6%E7%BB%84%E7%BB%87%E8%AF%B4%E6%98%8E\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>三、文件组织说明</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><div id=\"copyBtn0\"><pre class=\"language-bash\"><code class=\"language-bash\">├── scripts                   工具脚本文件\n├── src\n│   ├── assets                公用资源\n│   │   ├── images            图片资源\n│   │   └── styles            应用样式\n│   ├── pages                 页面目录\n│   │   ├── Demo              应用首页\n│   │   └── DemoDetail        应用详情页\n│   ├── app.ux                入口文件。\n│   └── manifest.json         项目配置文件，配置应用图标、页面路由等\n└── jsconfig.json             js 配置文件，用于语法校验\n└── package.json              定义项目需要的各种模块及配置信息</code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<h3 id=\"四开发调试\" style=\"position:relative;\"><a aria-label=\"四开发调试 permalink\" class=\"anchor before\" href=\"#%E5%9B%9B%E5%BC%80%E5%8F%91%E8%B0%83%E8%AF%95\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>四、开发调试</h3>\n<ul>\n<li>BlueOS Studio 支持实时预览功能，开发者只需保存修改后的代码，即可在右侧模拟器实时预览修改效果。你可以通过 BlueOS Studio 下方提供的 DevTools 面板，进行调试样式、查看请求等操作。</li>\n</ul>\n<img alt=\"simulatorPreview\" src=\"/5ea041843d198cbfdd34f41b22751f85/simulatorPreview.png\" width=\"1000px\"/>\n<p><br/><br/></p>\n<p>开发者可以跟着下面的步骤，一步步完成第一个蓝河应用的构建。</p>\n<h4 id=\"1构建-ui\" style=\"position:relative;\"><a aria-label=\"1构建 ui permalink\" class=\"anchor before\" href=\"#1%E6%9E%84%E5%BB%BA-ui\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>1.构建 UI</h4>\n<p>安装依赖后，即可打开 \"src/pages/Demo/index.ux\"文件，设置 <code class=\"language-text\">&lt;template&gt;</code> 标签内容，来构建页面 UI。<code class=\"language-text\">&lt;template&gt;</code> 标签示例如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn1\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>wrapper<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>Hello World<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<h4 id=\"2设置页面样式\" style=\"position:relative;\"><a aria-label=\"2设置页面样式 permalink\" class=\"anchor before\" href=\"#2%E8%AE%BE%E7%BD%AE%E9%A1%B5%E9%9D%A2%E6%A0%B7%E5%BC%8F\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>2.设置页面样式</h4>\n<p>在\"src/pages/Demo/index.ux\"文件中，新增<code class=\"language-text\">&lt;style&gt;</code>标签，对页面中文本、按钮等 UI 设置宽高、字体大小、间距等样式。<code class=\"language-text\">&lt;style&gt;</code>标签示例如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn2\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token selector\">.wrapper</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">flex-direction</span><span class=\"token punctuation\">:</span> column<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">align-items</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">justify-content</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token selector\">text</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 50px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">lines</span><span class=\"token punctuation\">:</span> 2<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn2\">复制代码</div></div>\n<h4 id=\"3处理业务逻辑\" style=\"position:relative;\"><a aria-label=\"3处理业务逻辑 permalink\" class=\"anchor before\" href=\"#3%E5%A4%84%E7%90%86%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>3.处理业务逻辑</h4>\n<p>在\"src/pages/Demo/index.ux\"文件中，新增<code class=\"language-text\">&lt;script&gt;</code>标签处理业务逻辑。在初始<code class=\"language-text\">&lt;template&gt;</code>的基础上，我们添加一个 button 类型的 input 组件，作为按钮响应用户点击，从而实现业务逻辑。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn3\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token function\">buttonClick</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click event fired'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>flex-col items-center p-20<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>Hello World<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>w-[400px] h-[80px] text-white bg-[#1890ff] rounded-[15px] mt-10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>click<span class=\"token punctuation\">\"</span></span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\">buttonClick</span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token punctuation\">/&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n<span class=\"token atrule\"><span class=\"token rule\">@tailwind</span> utilities<span class=\"token punctuation\">;</span></span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn3\">复制代码</div></div>\n<h4 id=\"4在右侧模拟器实时预览第一个页面效果如下图所示\" style=\"position:relative;\"><a aria-label=\"4在右侧模拟器实时预览第一个页面效果如下图所示 permalink\" class=\"anchor before\" href=\"#4%E5%9C%A8%E5%8F%B3%E4%BE%A7%E6%A8%A1%E6%8B%9F%E5%99%A8%E5%AE%9E%E6%97%B6%E9%A2%84%E8%A7%88%E7%AC%AC%E4%B8%80%E4%B8%AA%E9%A1%B5%E9%9D%A2%E6%95%88%E6%9E%9C%E5%A6%82%E4%B8%8B%E5%9B%BE%E6%89%80%E7%A4%BA\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>4.在右侧模拟器实时预览。第一个页面效果如下图所示：</h4>\n<br/>\n<img alt=\"examplePreview\" src=\"/e24babd21ad1f732f39504452429b6e8/examplePreview.png\" width=\"300px\"/>\n<h3 id=\"五打包\" style=\"position:relative;\"><a aria-label=\"五打包 permalink\" class=\"anchor before\" href=\"#%E4%BA%94%E6%89%93%E5%8C%85\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>五、打包</h3>\n<p>开发完成后，可以使用 BlueOS Studio 打包出应用 rpk 包，步骤如下：</p>\n<ol>\n<li>点击顶部工具栏的「<strong>打包</strong> 」按钮，可以选择包类型和环境变量，包类型可选 release 和 debug，release 包需要填写信息生成签名后，再行打包；环境变量可选 production、development 和 test，根据环境不同可调用不同的后台接口而不用手动修改代码；</li>\n<li>打包成功之后，会在 dist 目录下生成相应的 rpk 包，可以「打开 rpk 所在位置」；</li>\n<li>打包成功之后，可以点击前往开放平台上传 rpk 包。</li>\n</ol>\n<img alt=\"package\" src=\"/bca4efe3a2325b918bc3b75214f35e27/packageSettings.png\" width=\"1000px\"/>\n<p><br/> <br/></p>\n<img alt=\"packageSuccess\" src=\"/ab20807fa6e0c3863703cb8444912371/packageSuccess.png\" width=\"1000px\"/>\n<!-- ### 远程真机预览\n\n若没有手表，又想要查看真机上的运行效果时，「**远程预览**」功能是一个不错的选择。如何使用步骤如下：\n\n1. 点击模拟器上方的远程预览按钮，若未安装插件，请选择安装远程真机插件；\n2. 安装成功之后，继续选择远程预览并选择平台进行登录；\n3. 登录成功之后，出现可以使用的机型列表；\n4. 选择想要的机型，点击使用，开发工具将自动上传 RPK 到远程真机上，并调起调试器，可以直接看到真机上的真实效果。后续可手动点击上传预览按钮，查看效果；\n\n## 上传发布\n\n### 上传至包管理平台\n\n开发完成后，若您想分享开发的vivo手表应用给别人使用，但又想要不局限于局域网内访问，可以将 RPK 包上传至包管理平台，可以方便地帮助您解决这个苦恼，如何上传至[包管理平台](https://rpk.vivowatch.cn/)步骤如下：\n\n1. 点击顶部工具栏的「**打包** 」按钮，BlueOS  Studio将自动生成 release 签名的包，若无签名，会索引您添加签名；\n2. 打包成功之后，可以点击弹窗的「**上传包管理平台** 」按钮，开发工具会将打出来的 RPK 包上传至包管理平台，若未登录，需先**登录** 官网账号；\n3. 上传成功之后，会出现一个二维码和包管理平台的链接，您可使用调试器的扫码功能，打开此vivo手表应用；\n\n### 上传至官网\n\n在开发完成之后，若您想发布上线该vivo手表应用，可以通过BlueOS  Studio的「**上传**」功能，将其上传至官网的开发者中心，后续可在官网按照流程填写相关信息后，发布上线vivo手表应用（当然，您也可以在后台，手动提交 RPK 包）。\n\n若想实时在开发工具中查看官网正在审核的vivo手表应用状态，可使用顶部的「**关联vivo手表应用**」功能，关联之后，点击「**详情** 」，可查看上传之后的vivo手表应用信息。\n\n**备注**：上传后，提交审核，详情请参见[vivo手表应用上传发布流程](https://www.vivowatch.cn/docCenter/post/72)。\n\n## 常见问题\n\n为方便开发者，能及时解决些常见问题，有开发并维护[vivo手表应用常见问题](https://faq.vivowatch.cn/?target=ide)网站，旨在：**汇聚vivo手表应用常见问题，包含调试器、IDE、以及引擎、登录、支付等，统一梳理、解答，从而更好服务开发者**。\n\n并且，有在 IDE 欢迎页、意见反馈侧边栏等添加了访问入口。争取您可以更加方便了解 IDE 最新动向。 --></body></html></div>", "content_text": "构建首个蓝河应用\n更新时间：\n2025-10-09 11:25:10\n本文将从开发工具、新建项目、安装依赖、调试项目、打包等方面入手，让您学习后，可以构建首个蓝河应用。\n开发\n开发者可以使用 BlueOS Studio 开发、调试和打包蓝河应用。以下所有的操作均在 BlueOS Studio 中完成，开发者可以\n点击链接进入工具下载页面\n，先安装 BlueOS Studio 。\n一、新建项目\n新建方法如下：\n点击\n欢迎页\n「\n新建工程\n」、或\n菜单栏\n「\n新建工程」\n、或\n快捷入口\n处「\n新建工程\n」，打开新建工程界面；\n点击「\n下一步\n」 ，填写项目名称、项目路径、应用名称和应用包名，点击「\n完成\n」，BlueOS Studio 会在项目路径下，新建项目并自动打开。\n二、安装依赖\n准备工作：安装并配置\nNode\n环境。\n在 BlueOS Studio，我们提供了方便的方式来安装依赖，如下图示，只要点击「\n安装依赖\n」按钮，即可。\n安装完毕之后，点击「\n重新启动编译\n」按钮，即能重新编译；之后编写代码，就能在预览区实时查看效果，而无需其他任何操作。\n三、文件组织说明\n├── scripts                   工具脚本文件\n├── src\n│   ├── assets                公用资源\n│   │   ├── images            图片资源\n│   │   └── styles            应用样式\n│   ├── pages                 页面目录\n│   │   ├── Demo              应用首页\n│   │   └── DemoDetail        应用详情页\n│   ├── app.ux                入口文件。\n│   └── manifest.json         项目配置文件，配置应用图标、页面路由等\n└── jsconfig.json             js 配置文件，用于语法校验\n└── package.json              定义项目需要的各种模块及配置信息\n复制代码\n四、开发调试\nBlueOS Studio 支持实时预览功能，开发者只需保存修改后的代码，即可在右侧模拟器实时预览修改效果。你可以通过 BlueOS Studio 下方提供的 DevTools 面板，进行调试样式、查看请求等操作。\n开发者可以跟着下面的步骤，一步步完成第一个蓝河应用的构建。\n1.构建 UI\n安装依赖后，即可打开 \"src/pages/Demo/index.ux\"文件，设置\n<template>\n标签内容，来构建页面 UI。\n<template>\n标签示例如下：\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\nwrapper\n\"\n>\n<\ntext\n>\nHello World\n</\ntext\n>\n</\ndiv\n>\n</\ntemplate\n>\n复制代码\n2.设置页面样式\n在\"src/pages/Demo/index.ux\"文件中，新增\n<style>\n标签，对页面中文本、按钮等 UI 设置宽高、字体大小、间距等样式。\n<style>\n标签示例如下：\n<\nstyle\n>\n.wrapper\n{\nflex-direction\n:\ncolumn\n;\nalign-items\n:\ncenter\n;\njustify-content\n:\ncenter\n;\n}\ntext\n{\nfont-size\n:\n50px\n;\nlines\n:\n2\n;\n}\n</\nstyle\n>\n复制代码\n3.处理业务逻辑\n在\"src/pages/Demo/index.ux\"文件中，新增\n<script>\n标签处理业务逻辑。在初始\n<template>\n的基础上，我们添加一个 button 类型的 input 组件，作为按钮响应用户点击，从而实现业务逻辑。\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\n}\n,\nbuttonClick\n(\nevent\n)\n{\nconsole\n.\nlog\n(\n'click event fired'\n)\n}\n,\n}\n</\nscript\n>\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\nflex-col items-center p-20\n\"\n>\n<\ntext\n>\nHello World\n</\ntext\n>\n<\ninput\ntype\n=\n\"\nbutton\n\"\nclass\n=\n\"\nw-[400px] h-[80px] text-white bg-[#1890ff] rounded-[15px] mt-10\n\"\nvalue\n=\n\"\nclick\n\"\nonclick\n=\n\"\nbuttonClick\n\"\n/>\n</\ndiv\n>\n</\ntemplate\n>\n<\nstyle\n>\n@tailwind\nutilities\n;\n</\nstyle\n>\n复制代码\n4.在右侧模拟器实时预览。第一个页面效果如下图所示：\n五、打包\n开发完成后，可以使用 BlueOS Studio 打包出应用 rpk 包，步骤如下：\n点击顶部工具栏的「\n打包\n」按钮，可以选择包类型和环境变量，包类型可选 release 和 debug，release 包需要填写信息生成签名后，再行打包；环境变量可选 production、development 和 test，根据环境不同可调用不同的后台接口而不用手动修改代码；\n打包成功之后，会在 dist 目录下生成相应的 rpk 包，可以「打开 rpk 所在位置」；\n打包成功之后，可以点击前往开放平台上传 rpk 包。", "code_examples": [{"code": "├── scripts                   工具脚本文件\n├── src\n│   ├── assets                公用资源\n│   │   ├── images            图片资源\n│   │   └── styles            应用样式\n│   ├── pages                 页面目录\n│   │   ├── Demo              应用首页\n│   │   └── DemoDetail        应用详情页\n│   ├── app.ux                入口文件。\n│   └── manifest.json         项目配置文件，配置应用图标、页面路由等\n└── jsconfig.json             js 配置文件，用于语法校验\n└── package.json              定义项目需要的各种模块及配置信息", "language": "bash", "index": 0}, {"code": "<template>\n  <div class=\"wrapper\">\n    <text>Hello World</text>\n  </div>\n</template>", "language": "html", "index": 1}, {"code": "<style>\n  .wrapper {\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n  }\n\n  text {\n    font-size: 50px;\n    lines: 2;\n  }\n</style>", "language": "html", "index": 2}, {"code": "<script>\n  export default {\n    data: {},\n\n    buttonClick(event) {\n      console.log('click event fired')\n    },\n  }\n</script>\n\n<template>\n  <div class=\"flex-col items-center p-20\">\n    <text>Hello World</text>\n    <input type=\"button\" class=\"w-[400px] h-[80px] text-white bg-[#1890ff] rounded-[15px] mt-10\" value=\"click\" onclick=\"buttonClick\" />\n  </div>\n</template>\n\n<style>\n@tailwind utilities;\n</style>", "language": "html", "index": 3}], "frontmatter": {"title": "构建首个蓝河应用"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/widget/js-widget/", "category": "tutorial", "crawl_time": "2025-11-24T02:23:29.078567", "status": "success", "title": "标准卡开发", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"标准卡开发\" style=\"position:relative;\"><a aria-label=\"标准卡开发 permalink\" class=\"anchor before\" href=\"#%E6%A0%87%E5%87%86%E5%8D%A1%E5%BC%80%E5%8F%91\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>标准卡开发</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-10-09 11:25:10\">2025-10-09 11:25:10</time></p>\n<p>标准卡和普通蓝河页面开发范式相同，包含下列常见能力：</p>\n<ul>\n<li>生命周期</li>\n<li>页面样式与布局</li>\n<li>列表渲染</li>\n<li>条件指令</li>\n<li>应用跳转及参数传递</li>\n<li>事件绑定</li>\n<li>自定义组件</li>\n<li>国际化多语言</li>\n</ul>\n<p><strong>示例：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn0\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">showSunny</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">onInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 这里可以添加初始化逻辑</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">onShow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>weather-container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-red-500 text-2xl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>天气卡片<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>weather<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{ showSunny }}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>晴<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>weather<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">else</span><span class=\"token punctuation\">&gt;</span></span>雨<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n<span class=\"token atrule\"><span class=\"token rule\">@tailwind</span> utilities<span class=\"token punctuation\">;</span></span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div></body></html></div>", "content_text": "标准卡开发\n更新时间：\n2025-10-09 11:25:10\n标准卡和普通蓝河页面开发范式相同，包含下列常见能力：\n生命周期\n页面样式与布局\n列表渲染\n条件指令\n应用跳转及参数传递\n事件绑定\n自定义组件\n国际化多语言\n示例：\n<\nscript\n>\nexport\ndefault\n{\ndata\n:\n{\nshowSunny\n:\nfalse\n,\n}\n,\nonInit\n(\n)\n{\n// 这里可以添加初始化逻辑\n}\n,\nonShow\n(\n)\n{\n}\n,\n}\n</\nscript\n>\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\nweather-container\n\"\n>\n<\ntext\nclass\n=\n\"\ntext-red-500 text-2xl\n\"\n>\n天气卡片\n</\ntext\n>\n<\ntext\nclass\n=\n\"\nweather\n\"\nif\n=\n\"\n{{ showSunny }}\n\"\n>\n晴\n</\ntext\n>\n<\ntext\nclass\n=\n\"\nweather\n\"\nelse\n>\n雨\n</\ntext\n>\n</\ndiv\n>\n</\ntemplate\n>\n<\nstyle\n>\n@tailwind\nutilities\n;\n</\nstyle\n>\n复制代码", "code_examples": [{"code": "<script>\nexport default {\n  data: {\n    showSunny: false,\n  },\n  onInit() {\n    // 这里可以添加初始化逻辑\n  },\n  onShow() {},\n}\n</script>\n\n<template>\n  <div class=\"weather-container\">\n    <text class=\"text-red-500 text-2xl\">天气卡片</text>\n    <text class=\"weather\" if=\"{{ showSunny }}\">晴</text>\n    <text class=\"weather\" else>雨</text>\n  </div>\n</template>\n\n<style>\n@tailwind utilities;\n</style>", "language": "html", "index": 0}], "frontmatter": {"title": "标准卡开发"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/widget/lite-widget/", "category": "tutorial", "crawl_time": "2025-11-24T02:23:31.757583", "status": "success", "title": "轻卡开发", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"轻卡开发\" style=\"position:relative;\"><a aria-label=\"轻卡开发 permalink\" class=\"anchor before\" href=\"#%E8%BD%BB%E5%8D%A1%E5%BC%80%E5%8F%91\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>轻卡开发</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-10-09 11:25:10\">2025-10-09 11:25:10</time></p>\n<p>轻卡不运行 JavaScript，因此其开发范式与标准卡片存在差异，具体细节将在本节中进一步介绍。</p>\n<h2 id=\"基本范式\" style=\"position:relative;\"><a aria-label=\"基本范式 permalink\" class=\"anchor before\" href=\"#%E5%9F%BA%E6%9C%AC%E8%8C%83%E5%BC%8F\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>基本范式</h2>\n<p>轻卡的开发 ux 文件开发分为<code class=\"language-text\">data</code>、<code class=\"language-text\">template</code>和<code class=\"language-text\">style</code>三个部分。</p>\n<p><strong>例如：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><div id=\"copyBtn0\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>data</span><span class=\"token punctuation\">&gt;</span></span>\n  {\n   \"uiData\": {\n    \"content\": \"轻卡示例\"\n   }\n  }\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>data</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-xs<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>{{content}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">&gt;</span></span>\n@tailwind utilities;\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<h2 id=\"数据绑定\" style=\"position:relative;\"><a aria-label=\"数据绑定 permalink\" class=\"anchor before\" href=\"#%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>数据绑定</h2>\n<p>在 data 标签中使用 uiData 声明数据，然后在 template 中使用<code class=\"language-text\">{{}}</code>来绑定数据。</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn1\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"uiData\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"content\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Hello World!\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"key1\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Hello\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"key2\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"World\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"flag1\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"flag2\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><div id=\"copyBtn2\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{content}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 输出：Hello World！--&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{key1}} {{key2}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 输出：Hello World--&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>key1 {{key1}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 输出：key1 Hello--&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{flag1 &amp;&amp; flag2}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 输出：false--&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{flag1 || flag2}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 输出：true--&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{!flag1}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- 输出：false--&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn2\">复制代码</div></div>\n<p><strong>表达式支持</strong></p>\n<p>卡片模版中支持表达式有以下几种：</p>\n<table>\n<thead>\n<tr>\n<th>操作符</th>\n<th>描述</th>\n<th>示例</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">+</code>,<code class=\"language-text\">-</code>, <code class=\"language-text\">*</code>, <code class=\"language-text\">/</code>, <code class=\"language-text\">%</code>, <code class=\"language-text\">++</code>, <code class=\"language-text\">--</code>, <code class=\"language-text\">**</code></td>\n<td>算术运算（+包含字符串拼接）</td>\n<td><code class=\"language-text\">a + b</code></td>\n</tr>\n<tr>\n<td>neg</td>\n<td>转负数</td>\n<td><code class=\"language-text\">-a</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">&gt;=</code>, <code class=\"language-text\">&lt;=</code>, <code class=\"language-text\">&gt;</code>, <code class=\"language-text\">&lt;</code>, <code class=\"language-text\">==</code>, <code class=\"language-text\">!=</code>, <code class=\"language-text\">===</code>, <code class=\"language-text\">!==</code></td>\n<td>比较运算</td>\n<td><code class=\"language-text\">a &gt; b</code></td>\n</tr>\n<tr>\n<td>&amp;&amp;, ||</td>\n<td>逻辑运算</td>\n<td>a || b</td>\n</tr>\n<tr>\n<td>!</td>\n<td>取反运算</td>\n<td><code class=\"language-text\">!a</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">.</code>, <code class=\"language-text\">[]</code></td>\n<td>取属性运算</td>\n<td><code class=\"language-text\">item.name</code>, <code class=\"language-text\">arr[3]</code></td>\n</tr>\n<tr>\n<td>?:</td>\n<td>三目运算</td>\n<td><code class=\"language-text\">a &gt; 0 ? 'good' : 'bad'</code></td>\n</tr>\n<tr>\n<td>``</td>\n<td>字符串拼接：1. 变量拼接变量；2. 常量拼接变量</td>\n<td>1. { { key1 } } - { { key2 } } <br/>2. my name is { { name } }</td>\n</tr>\n</tbody>\n</table>\n<p>其中，表达式支持的数据类型：</p>\n<ul>\n<li>基本数据类型：字符串（String）、数字（Number）、布尔（Boolean）、空（Null）</li>\n<li>引用数据类型：对象（Object）、数组（Array）</li>\n</ul>\n<h2 id=\"条件渲染\" style=\"position:relative;\"><a aria-label=\"条件渲染 permalink\" class=\"anchor before\" href=\"#%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>条件渲染</h2>\n<p>条件渲染分为 2 种实现：<code class=\"language-text\">if/elif/else</code> 和 <code class=\"language-text\">show</code>。</p>\n<p><strong>if/elif/else</strong></p>\n<p><code class=\"language-text\">if/elif/else</code> 节点<strong>必须是相邻的兄弟节点</strong>，否则会导致编译失败。仅当条件成立时，对应的节点才会保留在虚拟 DOM（VDOM）中，其余节点会被移除。</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn3\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"uiData\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"display\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn3\">复制代码</div></div>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><div id=\"copyBtn4\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{display}}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Hello-1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">elif</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{display}}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Hello-2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">else</span><span class=\"token punctuation\">&gt;</span></span>Hello-3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn4\">复制代码</div></div>\n<p><strong>show</strong></p>\n<p><code class=\"language-text\">show</code> 控制组件的可见性。被设置为 <code class=\"language-text\">false</code> 时，组件不会被渲染到界面上，但仍然保留在 VDOM 中，不会被移除。</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn5\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"uiData\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"visible\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn5\">复制代码</div></div>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><div id=\"copyBtn6\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">show</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{visible}}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Hello<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn6\">复制代码</div></div>\n<h2 id=\"列表渲染\" style=\"position:relative;\"><a aria-label=\"列表渲染 permalink\" class=\"anchor before\" href=\"#%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>列表渲染</h2>\n<p>使用 <code class=\"language-text\">for</code> 指令可循环渲染数组数据。其语法支持多种形式（<code class=\"language-text\">{{}}</code> 可省略）：</p>\n<p><strong>基础写法：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><div id=\"copyBtn7\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">for</span><span class=\"token operator\">=</span><span class=\"token string\">\"{{list}}\"</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn7\">复制代码</div></div>\n<ul>\n<li>\n<p><code class=\"language-text\">list</code> 是数组类型数据。</p>\n</li>\n<li>\n<p>默认数组元素变量为 <code class=\"language-text\">$item</code>，索引为 <code class=\"language-text\">$idx</code>。</p>\n</li>\n</ul>\n<p><strong>自定义变量名：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><div id=\"copyBtn8\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">for</span><span class=\"token operator\">=</span><span class=\"token string\">\"{{value in list}}\"</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn8\">复制代码</div></div>\n<ul>\n<li>\n<p><code class=\"language-text\">value</code> 是自定义的数组元素变量名。</p>\n</li>\n<li>\n<p>索引仍默认为 <code class=\"language-text\">$idx</code>。</p>\n</li>\n</ul>\n<p><strong>自定义索引和元素变量名：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><div id=\"copyBtn9\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">for</span><span class=\"token operator\">=</span><span class=\"token string\">\"{{(index, value) in list}}\"</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn9\">复制代码</div></div>\n<ul>\n<li><code class=\"language-text\">index</code> 是索引变量名，<code class=\"language-text\">value</code> 是元素变量名。</li>\n</ul>\n<p><strong>使用常数作为循环次数：</strong></p>\n<p>你还可以使用一个常数作为数据源，表示循环执行的次数。等价于遍历从 <code class=\"language-text\">0</code> 到 <code class=\"language-text\">n - 1</code> 的索引。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><div id=\"copyBtn10\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">for</span><span class=\"token operator\">=</span><span class=\"token string\">\"{{value in 10}}\"</span>\n<span class=\"token assign-left variable\">for</span><span class=\"token operator\">=</span><span class=\"token string\">\"{{(index, value) in 5}}\"</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn10\">复制代码</div></div>\n<ul>\n<li>\n<p>等价于遍历 <code class=\"language-text\">[0, 1, 2, ..., n - 1]</code>。</p>\n</li>\n<li>\n<p>可以搭配 <code class=\"language-text\">index</code> 和 <code class=\"language-text\">value</code> 使用。</p>\n</li>\n</ul>\n<p><strong>tid 属性:</strong></p>\n<p>用于指定每个循环项的唯一 ID，用于 DOM 节点复用和性能优化。若未指定，默认使用 <code class=\"language-text\">$idx</code>。</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn11\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"uiData\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"list\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span> <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"aa\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"uniqueId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span> <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"bb\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"uniqueId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span> <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"cc\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"uniqueId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn11\">复制代码</div></div>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><div id=\"copyBtn12\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>value in list<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">tid</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>uniqueId<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{$idx}}.{{value.name}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn12\">复制代码</div></div>\n<h2 id=\"事件绑定\" style=\"position:relative;\"><a aria-label=\"事件绑定 permalink\" class=\"anchor before\" href=\"#%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>事件绑定</h2>\n<p>轻卡仅支持组件的通用事件 click，对于事件的响应动作需要在 data 模块下 actions 下提前声明。</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn13\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"actions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"onTextClick\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"router\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"hap://app/com.example.quickapp/page\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"params\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"param\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"111\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn13\">复制代码</div></div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn14\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token comment\">&lt;!-- 标准格式 --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\">onTextClick</span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token comment\">&lt;!-- 简写 --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>onTextClick<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn14\">复制代码</div></div>\n<p><strong>事件绑定传参：</strong> 支持默认参数 $event 和 for 指令循环中 $item</p>\n<p><strong>示例 1：</strong> 组件事件参数通过 $event 获取</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn15\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"actions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"onSwitchChange\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"message\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"params\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"checked\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"{{$event.checked}}\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn15\">复制代码</div></div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn16\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>switch</span> <span class=\"token attr-name\">@change</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>onSwitchChange<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>switch</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn16\">复制代码</div></div>\n<p><strong>示例 2：</strong> for 循环列表中可以通 $item 获取列表 item</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn17\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"uiData\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"list\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span> <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"aa\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"uniqueId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span> <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"bb\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"uniqueId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"actions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"handleClick\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"message\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"params\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"{{$item.name}}\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn17\">复制代码</div></div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn18\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{list}}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">tid</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>uniqueId<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>handleClick<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{$item.name}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn18\">复制代码</div></div>\n<p>轻卡当前支持的事件响应动作有跳转和消息以及代理事件，事件响应动作格式定义如下:</p>\n<table>\n<thead>\n<tr>\n<th><strong>参数</strong></th>\n<th><strong>类型</strong></th>\n<th><strong>必填</strong></th>\n<th><strong>描述</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>type</td>\n<td>\"router\" | \"message\"</td>\n<td>是</td>\n<td>事件类型，下面详细介绍</td>\n</tr>\n<tr>\n<td>url</td>\n<td>string | string[]</td>\n<td>否</td>\n<td>事件类型为 router 时必填，描述跳转页面链接，支持单条或多条 deeplink，支持变量形式。事件类型为 message 时不需要。</td>\n</tr>\n<tr>\n<td>params</td>\n<td>Record&lt;string, any&gt;</td>\n<td>否</td>\n<td>参数对象，支持在顶层字段中使用 <code class=\"language-text\">{{变量}}</code>，嵌套对象或数组中的字段不支持变量绑定。</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"router\" style=\"position:relative;\"><a aria-label=\"router permalink\" class=\"anchor before\" href=\"#router\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>router</h3>\n<p>跳转事件是可以直接在卡片宿主里完成跳转动作, 示例如下：</p>\n<p>支持主应用的页面跳转和公开的 scheme</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn19\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"uiData\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"pageUrl\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"hap://app/com.example.demo/page\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"a\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"pa\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"actions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"routerEvent\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"router\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"{{ pageUrl }}\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"params\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"a\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"{{a}}\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"b\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"b\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"c\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token property\">\"s\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sss\"</span> <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn19\">复制代码</div></div>\n<p><strong>支持跳转的 deeplink 协议：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><div id=\"copyBtn20\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token punctuation\">{</span>scheme<span class=\"token punctuation\">}</span>://<span class=\"token punctuation\">{</span>host<span class=\"token punctuation\">}</span>/<span class=\"token punctuation\">{</span>path<span class=\"token punctuation\">}</span>?<span class=\"token punctuation\">{</span>query<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn20\">复制代码</div></div>\n<h3 id=\"message\" style=\"position:relative;\"><a aria-label=\"message permalink\" class=\"anchor before\" href=\"#message\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>message</h3>\n<p>消息事件是指事件发送给 widgetProvider 处理。</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn21\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"uiData\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"hello\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"actions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"messageEvent\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"message\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"params\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"{{name}}\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"b\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"b\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn21\">复制代码</div></div>\n<p>此时在 widgetProvider 中收到的消息如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><div id=\"copyBtn22\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">onWidgetEvent</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> event <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/**\n     * event 示例:\n     * { action: \"messageEvent\", params: { name: \"hello\", b: \"b\" } }\n     */</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">event</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> event<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn22\">复制代码</div></div></body></html></div>", "content_text": "轻卡开发\n更新时间：\n2025-10-09 11:25:10\n轻卡不运行 JavaScript，因此其开发范式与标准卡片存在差异，具体细节将在本节中进一步介绍。\n基本范式\n轻卡的开发 ux 文件开发分为\ndata\n、\ntemplate\n和\nstyle\n三个部分。\n例如：\n<\ndata\n>\n{\n   \"uiData\": {\n    \"content\": \"轻卡示例\"\n   }\n  }\n</\ndata\n>\n<\ntemplate\n>\n<\ntext\nclass\n=\n\"\ntext-xs\n\"\n>\n{{content}}\n</\ntext\n>\n</\ntemplate\n>\n<\nstyle\n>\n@tailwind utilities;\n</\nstyle\n>\n复制代码\n数据绑定\n在 data 标签中使用 uiData 声明数据，然后在 template 中使用\n{{}}\n来绑定数据。\n{\n\"uiData\"\n:\n{\n\"content\"\n:\n\"Hello World!\"\n,\n\"key1\"\n:\n\"Hello\"\n,\n\"key2\"\n:\n\"World\"\n,\n\"flag1\"\n:\ntrue\n,\n\"flag2\"\n:\nfalse\n}\n}\n复制代码\n<\ntemplate\n>\n<\ndiv\nclass\n=\n\"\ncontainer\n\"\n>\n<\ntext\n>\n{{content}}\n</\ntext\n>\n<!-- 输出：Hello World！-->\n<\ntext\n>\n{{key1}} {{key2}}\n</\ntext\n>\n<!-- 输出：Hello World-->\n<\ntext\n>\nkey1 {{key1}}\n</\ntext\n>\n<!-- 输出：key1 Hello-->\n<\ntext\n>\n{{flag1 && flag2}}\n</\ntext\n>\n<!-- 输出：false-->\n<\ntext\n>\n{{flag1 || flag2}}\n</\ntext\n>\n<!-- 输出：true-->\n<\ntext\n>\n{{!flag1}}\n</\ntext\n>\n<!-- 输出：false-->\n</\ndiv\n>\n</\ntemplate\n>\n复制代码\n表达式支持\n卡片模版中支持表达式有以下几种：\n操作符\n描述\n示例\n+\n,\n-\n,\n*\n,\n/\n,\n%\n,\n++\n,\n--\n,\n**\n算术运算（+包含字符串拼接）\na + b\nneg\n转负数\n-a\n>=\n,\n<=\n,\n>\n,\n<\n,\n==\n,\n!=\n,\n===\n,\n!==\n比较运算\na > b\n&&, ||\n逻辑运算\na || b\n!\n取反运算\n!a\n.\n,\n[]\n取属性运算\nitem.name\n,\narr[3]\n?:\n三目运算\na > 0 ? 'good' : 'bad'\n``\n字符串拼接：1. 变量拼接变量；2. 常量拼接变量\n1. { { key1 } } - { { key2 } }\n2. my name is { { name } }\n其中，表达式支持的数据类型：\n基本数据类型：字符串（String）、数字（Number）、布尔（Boolean）、空（Null）\n引用数据类型：对象（Object）、数组（Array）\n条件渲染\n条件渲染分为 2 种实现：\nif/elif/else\n和\nshow\n。\nif/elif/else\nif/elif/else\n节点\n必须是相邻的兄弟节点\n，否则会导致编译失败。仅当条件成立时，对应的节点才会保留在虚拟 DOM（VDOM）中，其余节点会被移除。\n{\n\"uiData\"\n:\n{\n\"display\"\n:\nfalse\n}\n}\n复制代码\n<\ntemplate\n>\n<\ndiv\n>\n<\ntext\nif\n=\n\"\n{{display}}\n\"\n>\nHello-1\n</\ntext\n>\n<\ntext\nelif\n=\n\"\n{{display}}\n\"\n>\nHello-2\n</\ntext\n>\n<\ntext\nelse\n>\nHello-3\n</\ntext\n>\n</\ndiv\n>\n</\ntemplate\n>\n复制代码\nshow\nshow\n控制组件的可见性。被设置为\nfalse\n时，组件不会被渲染到界面上，但仍然保留在 VDOM 中，不会被移除。\n{\n\"uiData\"\n:\n{\n\"visible\"\n:\nfalse\n}\n}\n复制代码\n<\ntemplate\n>\n<\ntext\nshow\n=\n\"\n{{visible}}\n\"\n>\nHello\n</\ntext\n>\n</\ntemplate\n>\n复制代码\n列表渲染\n使用\nfor\n指令可循环渲染数组数据。其语法支持多种形式（\n{{}}\n可省略）：\n基础写法：\nfor\n=\n\"{{list}}\"\n复制代码\nlist\n是数组类型数据。\n默认数组元素变量为\n$item\n，索引为\n$idx\n。\n自定义变量名：\nfor\n=\n\"{{value in list}}\"\n复制代码\nvalue\n是自定义的数组元素变量名。\n索引仍默认为\n$idx\n。\n自定义索引和元素变量名：\nfor\n=\n\"{{(index, value) in list}}\"\n复制代码\nindex\n是索引变量名，\nvalue\n是元素变量名。\n使用常数作为循环次数：\n你还可以使用一个常数作为数据源，表示循环执行的次数。等价于遍历从\n0\n到\nn - 1\n的索引。\nfor\n=\n\"{{value in 10}}\"\nfor\n=\n\"{{(index, value) in 5}}\"\n复制代码\n等价于遍历\n[0, 1, 2, ..., n - 1]\n。\n可以搭配\nindex\n和\nvalue\n使用。\ntid 属性:\n用于指定每个循环项的唯一 ID，用于 DOM 节点复用和性能优化。若未指定，默认使用\n$idx\n。\n{\n\"uiData\"\n:\n{\n\"list\"\n:\n[\n{\n\"name\"\n:\n\"aa\"\n,\n\"uniqueId\"\n:\n1\n}\n,\n{\n\"name\"\n:\n\"bb\"\n,\n\"uniqueId\"\n:\n2\n}\n,\n{\n\"name\"\n:\n\"cc\"\n,\n\"uniqueId\"\n:\n3\n}\n]\n}\n}\n复制代码\n<\ndiv\nfor\n=\n\"\nvalue in list\n\"\ntid\n=\n\"\nuniqueId\n\"\n>\n<\ntext\n>\n{{$idx}}.{{value.name}}\n</\ntext\n>\n</\ndiv\n>\n复制代码\n事件绑定\n轻卡仅支持组件的通用事件 click，对于事件的响应动作需要在 data 模块下 actions 下提前声明。\n{\n\"actions\"\n:\n{\n\"onTextClick\"\n:\n{\n\"type\"\n:\n\"router\"\n,\n\"url\"\n:\n\"hap://app/com.example.quickapp/page\"\n,\n\"params\"\n:\n{\n\"param\"\n:\n\"111\"\n}\n}\n}\n}\n复制代码\n<\ndiv\n>\n<!-- 标准格式 -->\n<\ntext\nonclick\n=\n\"\nonTextClick\n\"\n>\n</\ntext\n>\n<!-- 简写 -->\n<\ntext\n@click\n=\n\"\nonTextClick\n\"\n>\n</\ntext\n>\n</\ndiv\n>\n复制代码\n事件绑定传参：\n支持默认参数 $event 和 for 指令循环中 $item\n示例 1：\n组件事件参数通过 $event 获取\n{\n\"actions\"\n:\n{\n\"onSwitchChange\"\n:\n{\n\"type\"\n:\n\"message\"\n,\n\"params\"\n:\n{\n\"checked\"\n:\n\"{{$event.checked}}\"\n}\n}\n}\n}\n复制代码\n<\nswitch\n@change\n=\n\"\nonSwitchChange\n\"\n>\n</\nswitch\n>\n复制代码\n示例 2：\nfor 循环列表中可以通 $item 获取列表 item\n{\n\"uiData\"\n:\n{\n\"list\"\n:\n[\n{\n\"name\"\n:\n\"aa\"\n,\n\"uniqueId\"\n:\n1\n}\n,\n{\n\"name\"\n:\n\"bb\"\n,\n\"uniqueId\"\n:\n2\n}\n]\n}\n,\n\"actions\"\n:\n{\n\"handleClick\"\n:\n{\n\"type\"\n:\n\"message\"\n,\n\"params\"\n:\n{\n\"name\"\n:\n\"{{$item.name}}\"\n}\n}\n}\n}\n复制代码\n<\ndiv\nfor\n=\n\"\n{{list}}\n\"\ntid\n=\n\"\nuniqueId\n\"\n@click\n=\n\"\nhandleClick\n\"\n>\n<\ntext\n>\n{{$item.name}}\n</\ntext\n>\n</\ndiv\n>\n复制代码\n轻卡当前支持的事件响应动作有跳转和消息以及代理事件，事件响应动作格式定义如下:\n参数\n类型\n必填\n描述\ntype\n\"router\" | \"message\"\n是\n事件类型，下面详细介绍\nurl\nstring | string[]\n否\n事件类型为 router 时必填，描述跳转页面链接，支持单条或多条 deeplink，支持变量形式。事件类型为 message 时不需要。\nparams\nRecord<string, any>\n否\n参数对象，支持在顶层字段中使用\n{{变量}}\n，嵌套对象或数组中的字段不支持变量绑定。\nrouter\n跳转事件是可以直接在卡片宿主里完成跳转动作, 示例如下：\n支持主应用的页面跳转和公开的 scheme\n{\n\"uiData\"\n:\n{\n\"pageUrl\"\n:\n\"hap://app/com.example.demo/page\"\n,\n\"a\"\n:\n\"pa\"\n}\n,\n\"actions\"\n:\n{\n\"routerEvent\"\n:\n{\n\"type\"\n:\n\"router\"\n,\n\"url\"\n:\n\"{{ pageUrl }}\"\n,\n\"params\"\n:\n{\n\"a\"\n:\n\"{{a}}\"\n,\n\"b\"\n:\n\"b\"\n,\n\"c\"\n:\n{\n\"s\"\n:\n\"sss\"\n}\n}\n}\n}\n}\n复制代码\n支持跳转的 deeplink 协议：\n{\nscheme\n}\n://\n{\nhost\n}\n/\n{\npath\n}\n?\n{\nquery\n}\n复制代码\nmessage\n消息事件是指事件发送给 widgetProvider 处理。\n{\n\"uiData\"\n:\n{\n\"name\"\n:\n\"hello\"\n}\n,\n\"actions\"\n:\n{\n\"messageEvent\"\n:\n{\n\"type\"\n:\n\"message\"\n,\n\"params\"\n:\n{\n\"name\"\n:\n\"{{name}}\"\n,\n\"b\"\n:\n\"b\"\n}\n}\n}\n}\n复制代码\n此时在 widgetProvider 中收到的消息如下：\nexport\ndefault\n{\nonWidgetEvent\n(\nid\n,\n{\nevent\n}\n)\n{\n/**\n     * event 示例:\n     * { action: \"messageEvent\", params: { name: \"hello\", b: \"b\" } }\n     */\nconsole\n.\nlog\n(\n`\nevent\n`\n,\nevent\n)\n}\n,\n}\n复制代码", "code_examples": [{"code": "<data>\n  {\n   \"uiData\": {\n    \"content\": \"轻卡示例\"\n   }\n  }\n</data>\n\n<template>\n  <text class=\"text-xs\">{{content}}</text>\n</template>\n\n<style>\n@tailwind utilities;\n</style>", "language": "xml", "index": 0}, {"code": "{\n  \"uiData\": {\n    \"content\": \"Hello World!\",\n    \"key1\": \"Hello\",\n    \"key2\": \"World\",\n    \"flag1\": true,\n    \"flag2\": false\n  }\n}", "language": "json", "index": 1}, {"code": "<template>\n  <div class=\"container\">\n    <text>{{content}}</text>\n    <!-- 输出：Hello World！-->\n    <text>{{key1}} {{key2}}</text>\n    <!-- 输出：Hello World-->\n    <text>key1 {{key1}}</text>\n    <!-- 输出：key1 Hello-->\n    <text>{{flag1 && flag2}}</text>\n    <!-- 输出：false-->\n    <text>{{flag1 || flag2}}</text>\n    <!-- 输出：true-->\n    <text>{{!flag1}}</text>\n    <!-- 输出：false-->\n  </div>\n</template>", "language": "xml", "index": 2}, {"code": "{\n  \"uiData\": {\n    \"display\": false\n  }\n}", "language": "json", "index": 3}, {"code": "<template>\n  <div>\n    <text if=\"{{display}}\">Hello-1</text>\n    <text elif=\"{{display}}\">Hello-2</text>\n    <text else>Hello-3</text>\n  </div>\n</template>", "language": "xml", "index": 4}, {"code": "{\n  \"uiData\": {\n    \"visible\": false\n  }\n}", "language": "json", "index": 5}, {"code": "<template>\n  <text show=\"{{visible}}\">Hello</text>\n</template>", "language": "xml", "index": 6}, {"code": "for=\"{{list}}\"", "language": "bash", "index": 7}, {"code": "for=\"{{value in list}}\"", "language": "bash", "index": 8}, {"code": "for=\"{{(index, value) in list}}\"", "language": "bash", "index": 9}, {"code": "for=\"{{value in 10}}\"\nfor=\"{{(index, value) in 5}}\"", "language": "bash", "index": 10}, {"code": "{\n  \"uiData\": {\n    \"list\": [\n      { \"name\": \"aa\", \"uniqueId\": 1 },\n      { \"name\": \"bb\", \"uniqueId\": 2 },\n      { \"name\": \"cc\", \"uniqueId\": 3 }\n    ]\n  }\n}", "language": "json", "index": 11}, {"code": "<div for=\"value in list\" tid=\"uniqueId\">\n  <text>{{$idx}}.{{value.name}}</text>\n</div>", "language": "xml", "index": 12}, {"code": "{\n  \"actions\": {\n    \"onTextClick\": {\n      \"type\": \"router\",\n      \"url\": \"hap://app/com.example.quickapp/page\",\n      \"params\": {\n        \"param\": \"111\"\n      }\n    }\n  }\n}", "language": "json", "index": 13}, {"code": "<div>\n  <!-- 标准格式 -->\n  <text onclick=\"onTextClick\"></text>\n  <!-- 简写 -->\n  <text @click=\"onTextClick\"></text>\n</div>", "language": "html", "index": 14}, {"code": "{\n  \"actions\": {\n    \"onSwitchChange\": {\n      \"type\": \"message\",\n      \"params\": {\n        \"checked\": \"{{$event.checked}}\"\n      }\n    }\n  }\n}", "language": "json", "index": 15}, {"code": "<switch @change=\"onSwitchChange\"></switch>", "language": "html", "index": 16}, {"code": "{\n  \"uiData\": {\n    \"list\": [\n      { \"name\": \"aa\", \"uniqueId\": 1 },\n      { \"name\": \"bb\", \"uniqueId\": 2 }\n    ]\n  },\n  \"actions\": {\n    \"handleClick\": {\n      \"type\": \"message\",\n      \"params\": {\n        \"name\": \"{{$item.name}}\"\n      }\n    }\n  }\n}", "language": "json", "index": 17}, {"code": "<div for=\"{{list}}\" tid=\"uniqueId\" @click=\"handleClick\">\n  <text>{{$item.name}}</text>\n</div>", "language": "html", "index": 18}, {"code": "{\n  \"uiData\": {\n    \"pageUrl\": \"hap://app/com.example.demo/page\",\n    \"a\": \"pa\"\n  },\n  \"actions\": {\n    \"routerEvent\": {\n      \"type\": \"router\",\n      \"url\": \"{{ pageUrl }}\",\n      \"params\": {\n        \"a\": \"{{a}}\",\n        \"b\": \"b\",\n        \"c\": { \"s\": \"sss\" }\n      }\n    }\n  }\n}", "language": "json", "index": 19}, {"code": "{scheme}://{host}/{path}?{query}", "language": "sh", "index": 20}, {"code": "{\n  \"uiData\": {\n    \"name\": \"hello\"\n  },\n  \"actions\": {\n    \"messageEvent\": {\n      \"type\": \"message\",\n      \"params\": {\n        \"name\": \"{{name}}\",\n        \"b\": \"b\"\n      }\n    }\n  }\n}", "language": "json", "index": 21}, {"code": "export default {\n  onWidgetEvent(id, { event }) {\n    /**\n     * event 示例:\n     * { action: \"messageEvent\", params: { name: \"hello\", b: \"b\" } }\n     */\n    console.log(`event`, event)\n  },\n}", "language": "ts", "index": 22}], "frontmatter": {"title": "轻卡开发"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/widget/overview/", "category": "tutorial", "crawl_time": "2025-11-24T02:23:34.929151", "status": "success", "title": "概述", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"概述\" style=\"position:relative;\"><a aria-label=\"概述 permalink\" class=\"anchor before\" href=\"#%E6%A6%82%E8%BF%B0\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>概述</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-10-09 11:25:10\">2025-10-09 11:25:10</time></p>\n<p>本节介绍卡片的定义、分类、模块架构和运行原理。</p>\n<h2 id=\"什么是卡片\" style=\"position:relative;\"><a aria-label=\"什么是卡片 permalink\" class=\"anchor before\" href=\"#%E4%BB%80%E4%B9%88%E6%98%AF%E5%8D%A1%E7%89%87\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>什么是卡片</h2>\n<p>卡片是一种轻量的应用形态。它可以嵌入到各类场景应用的页面中（如负一屏，桌面，全搜，锁屏，浏览器，语音助手等），为用户提供快速、直观且高度关联的服务体验。通过精准和便捷地展示信息或功能，卡片不仅提高了用户获取服务的效率，也为应用带来了更多曝光机会和用户参与度。</p>\n<p><img alt=\"img\" src=\"/a849fd2199dc608fbaca6abce2a81186/widget-demo.png\"/></p>\n<h2 id=\"卡片分类\" style=\"position:relative;\"><a aria-label=\"卡片分类 permalink\" class=\"anchor before\" href=\"#%E5%8D%A1%E7%89%87%E5%88%86%E7%B1%BB\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>卡片分类</h2>\n<p>蓝河系统卡片分为<strong>标准卡</strong>和<strong>轻卡</strong>，不同的卡片的特点和使用场景不一样，下面是两种卡片的对比说明。</p>\n<table>\n<thead>\n<tr>\n<th>分类</th>\n<th>标准卡</th>\n<th>轻卡</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>介绍</td>\n<td>功能完备，具备完整数据处理及逻辑闭环</td>\n<td>轻量，依赖外部数据和逻辑支持</td>\n</tr>\n<tr>\n<td>特点</td>\n<td>1.有 JS 代码<br/>2.支持 UI 组件<br/>3.支持 JS 组件动画<br/>4.不支持外部提供数据</td>\n<td>1. 无 JS 代码<br/>2. 支持 UI 组件<br/>3.不支持 JS 组件动画<br/>4.支持外部提供数据</td>\n</tr>\n<tr>\n<td>适用场景</td>\n<td>UI 和交互上需求更复杂的卡片</td>\n<td>由外部提供数据，动效和交互不复杂的场景</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"模块架构\" style=\"position:relative;\"><a aria-label=\"模块架构 permalink\" class=\"anchor before\" href=\"#%E6%A8%A1%E5%9D%97%E6%9E%B6%E6%9E%84\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>模块架构</h2>\n<p><img alt=\"卡片整体模块架构图\" src=\"/3b68224337551e20ec7f032be2d1f618/CAPTURE_2025514_94644.png\"/></p>\n<p><strong>卡片提供方：</strong> 包含卡片的应用，提供卡片的显示内容、布局以及控件点击处理逻辑</p>\n<ul>\n<li><strong>卡片页面：</strong> 卡片 UI 模块，包含页面组件、布局、事件等显示和交互信息</li>\n<li><strong>widgetProvider:</strong> 处理卡片的生命周期与回调方法，给卡片页面提供和更新数据。不同类型的卡片此模块有所区别：轻卡有此模块，标准卡中无此模块。</li>\n<li><strong>配置文件：</strong> 配置卡片刷新时间、尺寸、名称等信息</li>\n<li><strong>卡片可跳转的页面：</strong> 用户点击卡片内容可以拉起这些页面，此模块非必须。</li>\n</ul>\n<p><strong>卡片使用方(Host)：</strong> 如 launcher 应用的桌面页面，他是卡片的宿主应用，可以显示卡片内容，控制卡片展示的位置。</p>\n<ul>\n<li><strong>widget-container：</strong> 用于渲染卡片的 UI 组件，可以在 Host 应用显示的卡片界面，卡片显示的内容可以交互，也可以刷新。\n<ul>\n<li><strong>内容显示：</strong> 显示不同尺寸规格的内容界面，将卡片页面挂在 Host 应用界面的节点上</li>\n<li><strong>跳转应用：</strong> 点击卡片可以拉起卡片提供方应用的界面</li>\n<li><strong>刷新数据：</strong> 卡片显示的数据内容，可以进行刷新，其中标准卡可以自主刷新，轻卡需要借助 widgetProvider 来完成</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"运行原理\" style=\"position:relative;\"><a aria-label=\"运行原理 permalink\" class=\"anchor before\" href=\"#%E8%BF%90%E8%A1%8C%E5%8E%9F%E7%90%86\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>运行原理</h2>\n<img alt=\"卡片运行功能模块图\" src=\"/78bea754092e89ee53fc0dc80f26f16b/CAPTURE_2025514_94844.png\" style=\"zoom:80%;\"/>\n<ul>\n<li><strong>widgetProvider</strong>\n<ul>\n<li><strong>回调方法：</strong> 由 Action 调起，用于响应 Action。</li>\n<li><strong>生命周期：</strong> 卡片的创建、销毁等生命周期</li>\n<li><strong>widgetManager：</strong> 用于更新卡片数据，可在生命周期和回调方法中使用</li>\n</ul>\n</li>\n<li><strong>卡片页面</strong>\n<ul>\n<li><strong>组件/样式：</strong> 用于卡片页面布局</li>\n<li><strong>uiData：</strong> UI 数据，可由 widgetProvider 或卡片页面 JS 更新</li>\n<li><strong>javascript:</strong>\n<ul>\n<li>标准卡：用于执行卡片所有业务逻辑。</li>\n</ul>\n</li>\n<li><strong>Action：</strong> 一个功能概念，可以触发以下操作：\n<ul>\n<li>页面跳转：跳转到卡片提供方页面。</li>\n<li>事件传递：调起 widgetProvider 的回调方法。</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>从上也可以得出来<strong>两种卡片类型特点：</strong></p>\n<ul>\n<li><strong>标准卡：</strong> 功能完备，具备完整数据处理及逻辑闭环，但是不够轻量</li>\n<li><strong>轻卡：</strong> 轻量，依赖外部数据和逻辑支持，但是无法执行复杂的 UI 交互</li>\n</ul>\n<h2 id=\"存储沙箱\" style=\"position:relative;\"><a aria-label=\"存储沙箱 permalink\" class=\"anchor before\" href=\"#%E5%AD%98%E5%82%A8%E6%B2%99%E7%AE%B1\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>存储沙箱</h2>\n<p>卡片的存储沙箱机制遵守蓝河系统沙箱机制，即：同一包名的应用共享同一个应用存储沙箱。</p>\n<p>通常情况下，一个工程下的应用和卡片的应用沙箱存储共享，这意味着：</p>\n<ul>\n<li>共用存储目录（files/preferences/）</li>\n<li>共享数据库文件</li>\n<li>共享 storage 存储的数据</li>\n<li>共享缓存目录（cache/temp）</li>\n</ul>\n<p>由于卡片与主应用共用包名时，可无缝访问主应用存储数据，因此需要注意以下事项：</p>\n<ul>\n<li>敏感数据保护：应对重要数据进行加密处理，或采用独立包名机制</li>\n<li>版本管理：需建立主应用与卡片间的数据版本协同更新机制</li>\n</ul>\n<h2 id=\"权限\" style=\"position:relative;\"><a aria-label=\"权限 permalink\" class=\"anchor before\" href=\"#%E6%9D%83%E9%99%90\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>权限</h2>\n<ul>\n<li>权限申请：\n<ul>\n<li>标准卡片由卡片应用向用户申请权限</li>\n<li>轻卡无 js 逻辑，不存在权限申请</li>\n</ul>\n</li>\n<li>权限共享：\n<ul>\n<li>同一包名下已授权的权限可共享，可不用重复申请。</li>\n</ul>\n</li>\n</ul></body></html></div>", "content_text": "概述\n更新时间：\n2025-10-09 11:25:10\n本节介绍卡片的定义、分类、模块架构和运行原理。\n什么是卡片\n卡片是一种轻量的应用形态。它可以嵌入到各类场景应用的页面中（如负一屏，桌面，全搜，锁屏，浏览器，语音助手等），为用户提供快速、直观且高度关联的服务体验。通过精准和便捷地展示信息或功能，卡片不仅提高了用户获取服务的效率，也为应用带来了更多曝光机会和用户参与度。\n卡片分类\n蓝河系统卡片分为\n标准卡\n和\n轻卡\n，不同的卡片的特点和使用场景不一样，下面是两种卡片的对比说明。\n分类\n标准卡\n轻卡\n介绍\n功能完备，具备完整数据处理及逻辑闭环\n轻量，依赖外部数据和逻辑支持\n特点\n1.有 JS 代码\n2.支持 UI 组件\n3.支持 JS 组件动画\n4.不支持外部提供数据\n1. 无 JS 代码\n2. 支持 UI 组件\n3.不支持 JS 组件动画\n4.支持外部提供数据\n适用场景\nUI 和交互上需求更复杂的卡片\n由外部提供数据，动效和交互不复杂的场景\n模块架构\n卡片提供方：\n包含卡片的应用，提供卡片的显示内容、布局以及控件点击处理逻辑\n卡片页面：\n卡片 UI 模块，包含页面组件、布局、事件等显示和交互信息\nwidgetProvider:\n处理卡片的生命周期与回调方法，给卡片页面提供和更新数据。不同类型的卡片此模块有所区别：轻卡有此模块，标准卡中无此模块。\n配置文件：\n配置卡片刷新时间、尺寸、名称等信息\n卡片可跳转的页面：\n用户点击卡片内容可以拉起这些页面，此模块非必须。\n卡片使用方(Host)：\n如 launcher 应用的桌面页面，他是卡片的宿主应用，可以显示卡片内容，控制卡片展示的位置。\nwidget-container：\n用于渲染卡片的 UI 组件，可以在 Host 应用显示的卡片界面，卡片显示的内容可以交互，也可以刷新。\n内容显示：\n显示不同尺寸规格的内容界面，将卡片页面挂在 Host 应用界面的节点上\n跳转应用：\n点击卡片可以拉起卡片提供方应用的界面\n刷新数据：\n卡片显示的数据内容，可以进行刷新，其中标准卡可以自主刷新，轻卡需要借助 widgetProvider 来完成\n运行原理\nwidgetProvider\n回调方法：\n由 Action 调起，用于响应 Action。\n生命周期：\n卡片的创建、销毁等生命周期\nwidgetManager：\n用于更新卡片数据，可在生命周期和回调方法中使用\n卡片页面\n组件/样式：\n用于卡片页面布局\nuiData：\nUI 数据，可由 widgetProvider 或卡片页面 JS 更新\njavascript:\n标准卡：用于执行卡片所有业务逻辑。\nAction：\n一个功能概念，可以触发以下操作：\n页面跳转：跳转到卡片提供方页面。\n事件传递：调起 widgetProvider 的回调方法。\n从上也可以得出来\n两种卡片类型特点：\n标准卡：\n功能完备，具备完整数据处理及逻辑闭环，但是不够轻量\n轻卡：\n轻量，依赖外部数据和逻辑支持，但是无法执行复杂的 UI 交互\n存储沙箱\n卡片的存储沙箱机制遵守蓝河系统沙箱机制，即：同一包名的应用共享同一个应用存储沙箱。\n通常情况下，一个工程下的应用和卡片的应用沙箱存储共享，这意味着：\n共用存储目录（files/preferences/）\n共享数据库文件\n共享 storage 存储的数据\n共享缓存目录（cache/temp）\n由于卡片与主应用共用包名时，可无缝访问主应用存储数据，因此需要注意以下事项：\n敏感数据保护：应对重要数据进行加密处理，或采用独立包名机制\n版本管理：需建立主应用与卡片间的数据版本协同更新机制\n权限\n权限申请：\n标准卡片由卡片应用向用户申请权限\n轻卡无 js 逻辑，不存在权限申请\n权限共享：\n同一包名下已授权的权限可共享，可不用重复申请。", "code_examples": [], "frontmatter": {"title": "概述"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/widget/project-config/", "category": "tutorial", "crawl_time": "2025-11-24T02:23:37.978344", "status": "success", "title": "卡片配置", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"卡片配置\" style=\"position:relative;\"><a aria-label=\"卡片配置 permalink\" class=\"anchor before\" href=\"#%E5%8D%A1%E7%89%87%E9%85%8D%E7%BD%AE\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>卡片配置</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-10-09 11:25:10\">2025-10-09 11:25:10</time></p>\n<p>本节介绍卡片配置及工程目录，通过示例展示了轻卡和标准卡的具体配置方法。</p>\n<h2 id=\"工程目录\" style=\"position:relative;\"><a aria-label=\"工程目录 permalink\" class=\"anchor before\" href=\"#%E5%B7%A5%E7%A8%8B%E7%9B%AE%E5%BD%95\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>工程目录</h2>\n<p>在代码工程中支持两种卡片工程目录组织方式：</p>\n<ol>\n<li>一张卡片单独一个工程</li>\n<li>多张卡片和普通应用在同一个工程下，卡片和普通应用分属不同的文件目录。</li>\n</ol>\n<p><strong>仅卡片</strong></p>\n<blockquote>\n<p>注意：卡片工程中不存在 app.ux 文件。</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><div id=\"copyBtn0\"><pre class=\"language-bash\"><code class=\"language-bash\">└── src\n│   ├── widgets                 <span class=\"token comment\"># 统一存放项目快应用卡片代码</span>\n│   │    ├── widget1            <span class=\"token comment\"># 表示卡片1的目录</span>\n│   │    │     ├──i18n          <span class=\"token comment\"># 卡片1的国际化资料目录</span>\n│   │    │     ├──assets        <span class=\"token comment\"># 卡片1的资源文件（卡片使用的非代码资源必须放在卡片目录下）</span>\n│   │    │     └──index.ux      <span class=\"token comment\"># 卡片的ux和逻辑实现文件</span>\n│   │    └── widget2            <span class=\"token comment\"># 表示卡片2的目录</span>\n│   └── manifest.json           <span class=\"token comment\"># 配置应用基本信息</span>\n└── package.json                <span class=\"token comment\"># 定义项目需要的各种模块及配置信息</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><div id=\"copyBtn1\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># 打包结果</span>\n- com.example.demo.rpks\n  - com.example.demo_widgets.widget1.rpk\n  - com.example.demo_widgets.widget2.rpk</code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<p><strong>普通应用 + 卡片</strong></p>\n<blockquote>\n<p>注意：为了保证卡片的打包体积最小化，卡片不得使用根目录下的 assets 资源文件。</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><div id=\"copyBtn2\"><pre class=\"language-bash\"><code class=\"language-bash\">└── src\n│   ├── widgets                 <span class=\"token comment\"># 统一存放项目快应用卡片代码</span>\n│   │    ├── widget1            <span class=\"token comment\"># 表示卡片1的目录</span>\n│   │    │     ├──i18n          <span class=\"token comment\"># 卡片1的国际化资料目录</span>\n│   │    │     ├──assets        <span class=\"token comment\"># 卡片1的资源文件（卡片使用的非代码资源必须放在卡片目录下）</span>\n│   │    │     └──index.ux      <span class=\"token comment\"># 卡片的ux和逻辑实现文件</span>\n│   │    └── widget2            <span class=\"token comment\"># 表示卡片2的目录</span>\n│   ├── assets                  <span class=\"token comment\"># 应用的资源(Images/Styles/字体...)</span>\n│   ├── helper                  <span class=\"token comment\"># 项目自定义辅助各类工具</span>\n│   ├── pages                   <span class=\"token comment\"># 统一存放项目快应用页面级代码</span>\n│   │    ├── page1              <span class=\"token comment\"># 表示页面1的目录</span>\n│   │    │     └──index.ux      <span class=\"token comment\"># 页面的ux和逻辑实现文件</span>\n│   │    └── page2              <span class=\"token comment\"># 表示页面2的目录</span>\n│   ├── app.ux                  <span class=\"token comment\"># 快应用应用程序代码的入口文件</span>\n│   └── manifest.json           <span class=\"token comment\"># 配置应用基本信息</span>\n└── package.json                <span class=\"token comment\"># 定义项目需要的各种模块及配置信息</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn2\">复制代码</div></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><div id=\"copyBtn3\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># 打包结果</span>\n- com.example.demo.rpks\n  - com.example.demo.rpk\n  - com.example.demo_widgets.widget1.rpk\n  - com.example.demo_widgets.widget2.rpk</code></pre></div><div class=\"warp-content\" id=\"copyBtn3\">复制代码</div></div>\n<h2 id=\"manifest\" style=\"position:relative;\"><a aria-label=\"manifest permalink\" class=\"anchor before\" href=\"#manifest\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>manifest</h2>\n<p>标准卡和轻卡统一都在 manifest.json 下的 router.widgets 字段下配置，通过 type 区分</p>\n<h3 id=\"routerwidgets\" style=\"position:relative;\"><a aria-label=\"routerwidgets permalink\" class=\"anchor before\" href=\"#routerwidgets\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>router.widgets</h3>\n<p>卡片的定义通过 manifest.json 中的 router.widgets 字段进行定义。</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>必填</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>widgets</strong></td>\n<td>Record&lt;string, <a href=\"#widget\">Widget</a>&gt;</td>\n<td>否</td>\n<td>卡片信息，key 值为卡片名称，value 为卡片详细配置 widget</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>例如： <code class=\"language-text\">widgets/Widget1</code> 对应 <code class=\"language-text\">widgets/Widget1</code>目录，它也是卡片访问路径和卡片的唯一标识</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn4\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"router\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"widgets\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"widgets/widget1\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn4\">复制代码</div></div>\n<h3 id=\"widget\" style=\"position:relative;\"><a aria-label=\"widget permalink\" class=\"anchor before\" href=\"#widget\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>Widget</h3>\n<p>用于定义卡片的路由信息。</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>必填</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>type</td>\n<td>js | lite</td>\n<td>是</td>\n<td>卡片类型，<code class=\"language-text\">js</code> 表示标准卡，<code class=\"language-text\">lite</code> 表示轻卡</td>\n</tr>\n<tr>\n<td>name</td>\n<td>string</td>\n<td>是</td>\n<td>卡片名称</td>\n</tr>\n<tr>\n<td>description</td>\n<td>string</td>\n<td>否</td>\n<td>卡片描述</td>\n</tr>\n<tr>\n<td>component</td>\n<td>string</td>\n<td>是</td>\n<td>卡片对应的组件名，与 ux 文件名保持一致，例如'widget' 对应 'widget.ux'</td>\n</tr>\n<tr>\n<td>minCardPlatformVersion</td>\n<td>number</td>\n<td>是</td>\n<td>支持的最小卡片平台版本号</td>\n</tr>\n<tr>\n<td>versionCode</td>\n<td>number</td>\n<td>是</td>\n<td>卡片版本号，如：2</td>\n</tr>\n<tr>\n<td>versionName</td>\n<td>string</td>\n<td>是</td>\n<td>卡片版本名称，如：<code class=\"language-text\">\"1.0\"</code></td>\n</tr>\n<tr>\n<td>targetManufacturers</td>\n<td>string[]</td>\n<td>否</td>\n<td>目标厂商，若配置此字段，则需要指定对应厂商，如不指定，可能不能在对应的厂商上架。可选值<code class=\"language-text\">vivo</code>、 <code class=\"language-text\">OPPO</code>、<code class=\"language-text\">xiaomi</code>、<code class=\"language-text\">honor</code></td>\n</tr>\n<tr>\n<td>features</td>\n<td><a href=\"#featureinfo\">FeatureInfo</a>[]</td>\n<td>否</td>\n<td>卡片使用的 feature 列表，卡片的 feature 列表单独定义</td>\n</tr>\n<tr>\n<td>permissions</td>\n<td><a href=\"/reference/configuration/manifest/#permissioninfo\">PermissionInfo</a>[]</td>\n<td>否</td>\n<td>权限申请，示例: <code class=\"language-text\">[{ \"name\": \"watch.permission.LOCATION\" }]</code></td>\n</tr>\n<tr>\n<td>sizes</td>\n<td><a href=\"#size\">Size</a>[]</td>\n<td>是</td>\n<td>卡片支持的外观尺寸选项，如：<code class=\"language-text\">[\"2x2\",\"2x1\"]</code></td>\n</tr>\n<tr>\n<td>deviceTypeList</td>\n<td><a href=\"#devicetype\">DeviceType</a>[]</td>\n<td>否</td>\n<td>卡片支持的设备类型，如：<code class=\"language-text\">[\"phone\",\"watch\"]</code></td>\n</tr>\n<tr>\n<td>previewImages</td>\n<td><a href=\"#previewimage\">PreviewImage</a>[]</td>\n<td>是</td>\n<td>卡片各个尺寸下预览图。如在普通应用中新建卡片，预览图应放在卡片工程目录中。</td>\n</tr>\n</tbody>\n</table>\n<p>轻卡独有字段：</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>必填</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>providerUri</td>\n<td><a href=\"#provideruri\">ProviderUri</a></td>\n<td>是</td>\n<td>widgetProvider 的 uri 标识</td>\n</tr>\n<tr>\n<td>providerPackage</td>\n<td>string</td>\n<td>是</td>\n<td>widgetProvider 所在应用的包名</td>\n</tr>\n<tr>\n<td>minProviderVersion</td>\n<td>number</td>\n<td>是</td>\n<td>widgetProvider 所在应用的最小版本号</td>\n</tr>\n<tr>\n<td>refreshDuration</td>\n<td>number</td>\n<td>否</td>\n<td>1、表示定时数据刷新间隔，以秒为单位<br/>2、此字段会影响卡片的刷新执行，两次曝光的间隔小于数据刷新间隔值时，数据不会被拉取<br/>3、支持运营配置<br/>4、默认值 30x60=1800 （30 分钟）（小于默认值，上架会审核）</td>\n</tr>\n<tr>\n<td>scheduledRefreshTime</td>\n<td>string[]</td>\n<td>否</td>\n<td>1、表示卡片的定点刷新的时刻，采用 24 小时制，精确到分钟，如[\"10:30\", \"21:30\"]。 2、和 refreshDuration 同时指定时，scheduledRefreshTime 优先，指定多个定点刷新时刻，时刻间隔需大于 refreshDuration。</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"devicetype\" style=\"position:relative;\"><a aria-label=\"devicetype permalink\" class=\"anchor before\" href=\"#devicetype\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>DeviceType</h3>\n<p>卡片支持的设备类型枚举，当前只支持 watch 和 phone</p>\n<table>\n<thead>\n<tr>\n<th>类型值</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>watch</td>\n<td>手表</td>\n</tr>\n<tr>\n<td>phone</td>\n<td>手机，暂不支持</td>\n</tr>\n<tr>\n<td>tv</td>\n<td>电视，暂不支持</td>\n</tr>\n<tr>\n<td>car</td>\n<td>汽车，暂不支持</td>\n</tr>\n<tr>\n<td>band</td>\n<td>手环，暂不支持</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"provideruri\" style=\"position:relative;\"><a aria-label=\"provideruri permalink\" class=\"anchor before\" href=\"#provideruri\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>ProviderUri</h3>\n<p>专用于轻卡平台的字段，代表 widgetProvider 的 URI 标识。</p>\n<table>\n<thead>\n<tr>\n<th>分类</th>\n<th>规范</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>蓝河应用</td>\n<td><code class=\"language-text\">widget-provider://$packageName/$name</code></td>\n<td>蓝河应用提供数据</td>\n</tr>\n<tr>\n<td>手机安卓应用</td>\n<td><code class=\"language-text\">content://$authority/$path/$id</code></td>\n<td>手机安卓应用提供数据</td>\n</tr>\n<tr>\n<td>服务端</td>\n<td><code class=\"language-text\">https://$authority/$path</code></td>\n<td>服务端提供数据</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"featureinfo\" style=\"position:relative;\"><a aria-label=\"featureinfo permalink\" class=\"anchor before\" href=\"#featureinfo\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>FeatureInfo</h3>\n<p>需要使用的 feature 声明，例如：</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><div id=\"copyBtn5\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token punctuation\">{</span>\n  <span class=\"token string-property property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"blueos.network.fetch\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn5\">复制代码</div></div>\n<h3 id=\"size\" style=\"position:relative;\"><a aria-label=\"size permalink\" class=\"anchor before\" href=\"#size\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>Size</h3>\n<p>卡片在布局网格中的占位大小（宽度和高度，以栅格个数为单位），支持 \"FULL\"（全宽/全高）、\"AUTO\" (宽度/高度自适应)与具体数值的组合，并通过格式如 \"2x2\"、\"FULLx4\"、\"1xFULL\"、\"4xAUTO\"来定义。</p>\n<p><strong>注意</strong>：<code class=\"language-text\">2x2</code>中间没有空格。</p>\n<h3 id=\"previewimage\" style=\"position:relative;\"><a aria-label=\"previewimage permalink\" class=\"anchor before\" href=\"#previewimage\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>PreviewImage</h3>\n<p>卡片预览图</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn6\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"size\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1x1\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"images\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"/assest/a.png\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"/assest/b.png\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn6\">复制代码</div></div>\n<h2 id=\"实践示例\" style=\"position:relative;\"><a aria-label=\"实践示例 permalink\" class=\"anchor before\" href=\"#%E5%AE%9E%E8%B7%B5%E7%A4%BA%E4%BE%8B\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>实践示例</h2>\n<h3 id=\"标准卡\" style=\"position:relative;\"><a aria-label=\"标准卡 permalink\" class=\"anchor before\" href=\"#%E6%A0%87%E5%87%86%E5%8D%A1\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>标准卡</h3>\n<p>工程目录：</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><div id=\"copyBtn7\"><pre class=\"language-sh\"><code class=\"language-sh\">└── src\n│   ├── widgets                 <span class=\"token comment\"># 统一存放项目快应用卡片代码</span>\n│   │    └── widget1            <span class=\"token comment\"># 表示卡片1的目录</span>\n│   │          ├──i18n          <span class=\"token comment\"># 卡片1的国际化资料目录</span>\n│   │          ├──assets        <span class=\"token comment\"># 卡片1的资源文件（卡片使用的非代码资源必须放在卡片目录下）</span>\n│   │          └──index.ux      <span class=\"token comment\"># 卡片的ux和逻辑实现文件</span>\n│   └── manifest.json           <span class=\"token comment\"># 配置应用基本信息</span>\n└── package.json                <span class=\"token comment\"># 定义项目需要的各种模块及配置信息</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn7\">复制代码</div></div>\n<p>对应的 manifest.json：</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn8\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"router\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"widgets\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"widgets/widget1\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"js\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"xx卡片\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"这是一个xx卡片\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"component\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"index\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"features\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"blueos.network.fetch\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"minCardPlatformVersion\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"sizes\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"2x2\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"2x1\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"deviceTypeList\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"phone\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"watch\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"previewImages\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"size\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2x2\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"images\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"/assest/a.png\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"/assest/b.png\"</span><span class=\"token punctuation\">]</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"size\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2x1\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"images\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"/assest/c.png\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"/assest/d.png\"</span><span class=\"token punctuation\">]</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn8\">复制代码</div></div>\n<h3 id=\"轻卡\" style=\"position:relative;\"><a aria-label=\"轻卡 permalink\" class=\"anchor before\" href=\"#%E8%BD%BB%E5%8D%A1\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>轻卡</h3>\n<p>工程目录：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><div id=\"copyBtn9\"><pre class=\"language-bash\"><code class=\"language-bash\">└── src\n│   ├── widgets                 <span class=\"token comment\"># 统一存放项目快应用卡片代码</span>\n│   │    └── widget1            <span class=\"token comment\"># 表示卡片1的目录</span>\n│   │          ├──i18n          <span class=\"token comment\"># 卡片1的国际化资料目录</span>\n│   │          ├──assets        <span class=\"token comment\"># 卡片1的资源文件（卡片使用的非代码资源必须放在卡片目录下）</span>\n│   │          └──index.ux      <span class=\"token comment\"># 卡片的ux和逻辑实现文件</span>\n│   └── manifest.json           <span class=\"token comment\"># 配置应用基本信息</span>\n└── package.json                <span class=\"token comment\"># 定义项目需要的各种模块及配置信息</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn9\">复制代码</div></div>\n<p>对应的 manifest.json：</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn10\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"router\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"widgets\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"widget/widget1\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"lite\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"轻卡\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"这是一张轻卡\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"component\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"index\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"providerUri\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"widget-provider://com.example.demo/mymusic\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"providerPackage\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"com.example.demo\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"minProviderVersion\"</span><span class=\"token operator\">:</span> <span class=\"token number\">80801</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"refreshDuration\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1800000</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"scheduledRefreshTime\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"10:30\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"21:30\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"minCardPlatformVersion\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"sizes\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"2x2\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"2x1\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"deviceTypeList\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"watch\"</span><span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn10\">复制代码</div></div></body></html></div>", "content_text": "卡片配置\n更新时间：\n2025-10-09 11:25:10\n本节介绍卡片配置及工程目录，通过示例展示了轻卡和标准卡的具体配置方法。\n工程目录\n在代码工程中支持两种卡片工程目录组织方式：\n一张卡片单独一个工程\n多张卡片和普通应用在同一个工程下，卡片和普通应用分属不同的文件目录。\n仅卡片\n注意：卡片工程中不存在 app.ux 文件。\n└── src\n│   ├── widgets\n# 统一存放项目快应用卡片代码\n│   │    ├── widget1\n# 表示卡片1的目录\n│   │    │     ├──i18n\n# 卡片1的国际化资料目录\n│   │    │     ├──assets\n# 卡片1的资源文件（卡片使用的非代码资源必须放在卡片目录下）\n│   │    │     └──index.ux\n# 卡片的ux和逻辑实现文件\n│   │    └── widget2\n# 表示卡片2的目录\n│   └── manifest.json\n# 配置应用基本信息\n└── package.json\n# 定义项目需要的各种模块及配置信息\n复制代码\n# 打包结果\n- com.example.demo.rpks\n  - com.example.demo_widgets.widget1.rpk\n  - com.example.demo_widgets.widget2.rpk\n复制代码\n普通应用 + 卡片\n注意：为了保证卡片的打包体积最小化，卡片不得使用根目录下的 assets 资源文件。\n└── src\n│   ├── widgets\n# 统一存放项目快应用卡片代码\n│   │    ├── widget1\n# 表示卡片1的目录\n│   │    │     ├──i18n\n# 卡片1的国际化资料目录\n│   │    │     ├──assets\n# 卡片1的资源文件（卡片使用的非代码资源必须放在卡片目录下）\n│   │    │     └──index.ux\n# 卡片的ux和逻辑实现文件\n│   │    └── widget2\n# 表示卡片2的目录\n│   ├── assets\n# 应用的资源(Images/Styles/字体...)\n│   ├── helper\n# 项目自定义辅助各类工具\n│   ├── pages\n# 统一存放项目快应用页面级代码\n│   │    ├── page1\n# 表示页面1的目录\n│   │    │     └──index.ux\n# 页面的ux和逻辑实现文件\n│   │    └── page2\n# 表示页面2的目录\n│   ├── app.ux\n# 快应用应用程序代码的入口文件\n│   └── manifest.json\n# 配置应用基本信息\n└── package.json\n# 定义项目需要的各种模块及配置信息\n复制代码\n# 打包结果\n- com.example.demo.rpks\n  - com.example.demo.rpk\n  - com.example.demo_widgets.widget1.rpk\n  - com.example.demo_widgets.widget2.rpk\n复制代码\nmanifest\n标准卡和轻卡统一都在 manifest.json 下的 router.widgets 字段下配置，通过 type 区分\nrouter.widgets\n卡片的定义通过 manifest.json 中的 router.widgets 字段进行定义。\n属性\n类型\n必填\n说明\nwidgets\nRecord<string,\nWidget\n>\n否\n卡片信息，key 值为卡片名称，value 为卡片详细配置 widget\n例如：\nwidgets/Widget1\n对应\nwidgets/Widget1\n目录，它也是卡片访问路径和卡片的唯一标识\n{\n\"router\"\n:\n{\n\"widgets\"\n:\n{\n\"widgets/widget1\"\n:\n{\n}\n}\n}\n}\n复制代码\nWidget\n用于定义卡片的路由信息。\n属性\n类型\n必填\n描述\ntype\njs | lite\n是\n卡片类型，\njs\n表示标准卡，\nlite\n表示轻卡\nname\nstring\n是\n卡片名称\ndescription\nstring\n否\n卡片描述\ncomponent\nstring\n是\n卡片对应的组件名，与 ux 文件名保持一致，例如'widget' 对应 'widget.ux'\nminCardPlatformVersion\nnumber\n是\n支持的最小卡片平台版本号\nversionCode\nnumber\n是\n卡片版本号，如：2\nversionName\nstring\n是\n卡片版本名称，如：\n\"1.0\"\ntargetManufacturers\nstring[]\n否\n目标厂商，若配置此字段，则需要指定对应厂商，如不指定，可能不能在对应的厂商上架。可选值\nvivo\n、\nOPPO\n、\nxiaomi\n、\nhonor\nfeatures\nFeatureInfo\n[]\n否\n卡片使用的 feature 列表，卡片的 feature 列表单独定义\npermissions\nPermissionInfo\n[]\n否\n权限申请，示例:\n[{ \"name\": \"watch.permission.LOCATION\" }]\nsizes\nSize\n[]\n是\n卡片支持的外观尺寸选项，如：\n[\"2x2\",\"2x1\"]\ndeviceTypeList\nDeviceType\n[]\n否\n卡片支持的设备类型，如：\n[\"phone\",\"watch\"]\npreviewImages\nPreviewImage\n[]\n是\n卡片各个尺寸下预览图。如在普通应用中新建卡片，预览图应放在卡片工程目录中。\n轻卡独有字段：\n属性\n类型\n必填\n描述\nproviderUri\nProviderUri\n是\nwidgetProvider 的 uri 标识\nproviderPackage\nstring\n是\nwidgetProvider 所在应用的包名\nminProviderVersion\nnumber\n是\nwidgetProvider 所在应用的最小版本号\nrefreshDuration\nnumber\n否\n1、表示定时数据刷新间隔，以秒为单位\n2、此字段会影响卡片的刷新执行，两次曝光的间隔小于数据刷新间隔值时，数据不会被拉取\n3、支持运营配置\n4、默认值 30x60=1800 （30 分钟）（小于默认值，上架会审核）\nscheduledRefreshTime\nstring[]\n否\n1、表示卡片的定点刷新的时刻，采用 24 小时制，精确到分钟，如[\"10:30\", \"21:30\"]。 2、和 refreshDuration 同时指定时，scheduledRefreshTime 优先，指定多个定点刷新时刻，时刻间隔需大于 refreshDuration。\nDeviceType\n卡片支持的设备类型枚举，当前只支持 watch 和 phone\n类型值\n说明\nwatch\n手表\nphone\n手机，暂不支持\ntv\n电视，暂不支持\ncar\n汽车，暂不支持\nband\n手环，暂不支持\nProviderUri\n专用于轻卡平台的字段，代表 widgetProvider 的 URI 标识。\n分类\n规范\n说明\n蓝河应用\nwidget-provider://$packageName/$name\n蓝河应用提供数据\n手机安卓应用\ncontent://$authority/$path/$id\n手机安卓应用提供数据\n服务端\nhttps://$authority/$path\n服务端提供数据\nFeatureInfo\n需要使用的 feature 声明，例如：\n{\n\"name\"\n:\n\"blueos.network.fetch\"\n}\n复制代码\nSize\n卡片在布局网格中的占位大小（宽度和高度，以栅格个数为单位），支持 \"FULL\"（全宽/全高）、\"AUTO\" (宽度/高度自适应)与具体数值的组合，并通过格式如 \"2x2\"、\"FULLx4\"、\"1xFULL\"、\"4xAUTO\"来定义。\n注意\n：\n2x2\n中间没有空格。\nPreviewImage\n卡片预览图\n{\n\"size\"\n:\n\"1x1\"\n,\n\"images\"\n:\n[\n\"/assest/a.png\"\n,\n\"/assest/b.png\"\n]\n}\n复制代码\n实践示例\n标准卡\n工程目录：\n└── src\n│   ├── widgets\n# 统一存放项目快应用卡片代码\n│   │    └── widget1\n# 表示卡片1的目录\n│   │          ├──i18n\n# 卡片1的国际化资料目录\n│   │          ├──assets\n# 卡片1的资源文件（卡片使用的非代码资源必须放在卡片目录下）\n│   │          └──index.ux\n# 卡片的ux和逻辑实现文件\n│   └── manifest.json\n# 配置应用基本信息\n└── package.json\n# 定义项目需要的各种模块及配置信息\n复制代码\n对应的 manifest.json：\n{\n\"router\"\n:\n{\n\"widgets\"\n:\n{\n\"widgets/widget1\"\n:\n{\n\"type\"\n:\n\"js\"\n,\n\"name\"\n:\n\"xx卡片\"\n,\n\"description\"\n:\n\"这是一个xx卡片\"\n,\n\"component\"\n:\n\"index\"\n,\n\"features\"\n:\n[\n{\n\"name\"\n:\n\"blueos.network.fetch\"\n}\n]\n,\n\"minCardPlatformVersion\"\n:\n2000\n,\n\"sizes\"\n:\n[\n\"2x2\"\n,\n\"2x1\"\n]\n,\n\"deviceTypeList\"\n:\n[\n\"phone\"\n,\n\"watch\"\n]\n,\n\"previewImages\"\n:\n[\n{\n\"size\"\n:\n\"2x2\"\n,\n\"images\"\n:\n[\n\"/assest/a.png\"\n,\n\"/assest/b.png\"\n]\n}\n,\n{\n\"size\"\n:\n\"2x1\"\n,\n\"images\"\n:\n[\n\"/assest/c.png\"\n,\n\"/assest/d.png\"\n]\n}\n]\n}\n}\n}\n}\n复制代码\n轻卡\n工程目录：\n└── src\n│   ├── widgets\n# 统一存放项目快应用卡片代码\n│   │    └── widget1\n# 表示卡片1的目录\n│   │          ├──i18n\n# 卡片1的国际化资料目录\n│   │          ├──assets\n# 卡片1的资源文件（卡片使用的非代码资源必须放在卡片目录下）\n│   │          └──index.ux\n# 卡片的ux和逻辑实现文件\n│   └── manifest.json\n# 配置应用基本信息\n└── package.json\n# 定义项目需要的各种模块及配置信息\n复制代码\n对应的 manifest.json：\n{\n\"router\"\n:\n{\n\"widgets\"\n:\n{\n\"widget/widget1\"\n:\n{\n\"type\"\n:\n\"lite\"\n,\n\"name\"\n:\n\"轻卡\"\n,\n\"description\"\n:\n\"这是一张轻卡\"\n,\n\"component\"\n:\n\"index\"\n,\n\"providerUri\"\n:\n\"widget-provider://com.example.demo/mymusic\"\n,\n\"providerPackage\"\n:\n\"com.example.demo\"\n,\n\"minProviderVersion\"\n:\n80801\n,\n\"refreshDuration\"\n:\n1800000\n,\n\"scheduledRefreshTime\"\n:\n[\n\"10:30\"\n,\n\"21:30\"\n]\n,\n\"minCardPlatformVersion\"\n:\n2000\n,\n\"sizes\"\n:\n[\n\"2x2\"\n,\n\"2x1\"\n]\n,\n\"deviceTypeList\"\n:\n[\n\"watch\"\n]\n}\n}\n}\n}\n复制代码", "code_examples": [{"code": "└── src\n│   ├── widgets                 # 统一存放项目快应用卡片代码\n│   │    ├── widget1            # 表示卡片1的目录\n│   │    │     ├──i18n          # 卡片1的国际化资料目录\n│   │    │     ├──assets        # 卡片1的资源文件（卡片使用的非代码资源必须放在卡片目录下）\n│   │    │     └──index.ux      # 卡片的ux和逻辑实现文件\n│   │    └── widget2            # 表示卡片2的目录\n│   └── manifest.json           # 配置应用基本信息\n└── package.json                # 定义项目需要的各种模块及配置信息", "language": "bash", "index": 0}, {"code": "# 打包结果\n- com.example.demo.rpks\n  - com.example.demo_widgets.widget1.rpk\n  - com.example.demo_widgets.widget2.rpk", "language": "bash", "index": 1}, {"code": "└── src\n│   ├── widgets                 # 统一存放项目快应用卡片代码\n│   │    ├── widget1            # 表示卡片1的目录\n│   │    │     ├──i18n          # 卡片1的国际化资料目录\n│   │    │     ├──assets        # 卡片1的资源文件（卡片使用的非代码资源必须放在卡片目录下）\n│   │    │     └──index.ux      # 卡片的ux和逻辑实现文件\n│   │    └── widget2            # 表示卡片2的目录\n│   ├── assets                  # 应用的资源(Images/Styles/字体...)\n│   ├── helper                  # 项目自定义辅助各类工具\n│   ├── pages                   # 统一存放项目快应用页面级代码\n│   │    ├── page1              # 表示页面1的目录\n│   │    │     └──index.ux      # 页面的ux和逻辑实现文件\n│   │    └── page2              # 表示页面2的目录\n│   ├── app.ux                  # 快应用应用程序代码的入口文件\n│   └── manifest.json           # 配置应用基本信息\n└── package.json                # 定义项目需要的各种模块及配置信息", "language": "bash", "index": 2}, {"code": "# 打包结果\n- com.example.demo.rpks\n  - com.example.demo.rpk\n  - com.example.demo_widgets.widget1.rpk\n  - com.example.demo_widgets.widget2.rpk", "language": "bash", "index": 3}, {"code": "{\n  \"router\": {\n    \"widgets\": {\n      \"widgets/widget1\": {}\n    }\n  }\n}", "language": "json", "index": 4}, {"code": "{\n  \"name\": \"blueos.network.fetch\"\n}", "language": "ts", "index": 5}, {"code": "{\n  \"size\": \"1x1\",\n  \"images\": [\"/assest/a.png\", \"/assest/b.png\"]\n}", "language": "json", "index": 6}, {"code": "└── src\n│   ├── widgets                 # 统一存放项目快应用卡片代码\n│   │    └── widget1            # 表示卡片1的目录\n│   │          ├──i18n          # 卡片1的国际化资料目录\n│   │          ├──assets        # 卡片1的资源文件（卡片使用的非代码资源必须放在卡片目录下）\n│   │          └──index.ux      # 卡片的ux和逻辑实现文件\n│   └── manifest.json           # 配置应用基本信息\n└── package.json                # 定义项目需要的各种模块及配置信息", "language": "sh", "index": 7}, {"code": "{\n  \"router\": {\n    \"widgets\": {\n      \"widgets/widget1\": {\n        \"type\": \"js\",\n        \"name\": \"xx卡片\",\n        \"description\": \"这是一个xx卡片\",\n        \"component\": \"index\",\n        \"features\": [{ \"name\": \"blueos.network.fetch\" }],\n        \"minCardPlatformVersion\": 2000,\n        \"sizes\": [\"2x2\", \"2x1\"],\n        \"deviceTypeList\": [\"phone\", \"watch\"],\n        \"previewImages\": [\n          {\n            \"size\": \"2x2\",\n            \"images\": [\"/assest/a.png\", \"/assest/b.png\"]\n          },\n          {\n            \"size\": \"2x1\",\n            \"images\": [\"/assest/c.png\", \"/assest/d.png\"]\n          }\n        ]\n      }\n    }\n  }\n}", "language": "json", "index": 8}, {"code": "└── src\n│   ├── widgets                 # 统一存放项目快应用卡片代码\n│   │    └── widget1            # 表示卡片1的目录\n│   │          ├──i18n          # 卡片1的国际化资料目录\n│   │          ├──assets        # 卡片1的资源文件（卡片使用的非代码资源必须放在卡片目录下）\n│   │          └──index.ux      # 卡片的ux和逻辑实现文件\n│   └── manifest.json           # 配置应用基本信息\n└── package.json                # 定义项目需要的各种模块及配置信息", "language": "bash", "index": 9}, {"code": "{\n  \"router\": {\n    \"widgets\": {\n      \"widget/widget1\": {\n        \"type\": \"lite\",\n        \"name\": \"轻卡\",\n        \"description\": \"这是一张轻卡\",\n        \"component\": \"index\",\n        \"providerUri\": \"widget-provider://com.example.demo/mymusic\",\n        \"providerPackage\": \"com.example.demo\",\n        \"minProviderVersion\": 80801,\n        \"refreshDuration\": 1800000,\n        \"scheduledRefreshTime\": [\"10:30\", \"21:30\"],\n        \"minCardPlatformVersion\": 2000,\n        \"sizes\": [\"2x2\", \"2x1\"],\n        \"deviceTypeList\": [\"watch\"]\n      }\n    }\n  }\n}", "language": "json", "index": 10}], "frontmatter": {"title": "卡片配置"}, "has_content": true}
{"url": "https://developers-watch.vivo.com.cn/reference/widget/widget-provider/", "category": "tutorial", "crawl_time": "2025-11-24T02:23:41.106272", "status": "success", "title": "widgetProvider 开发", "breadcrumb": [], "content_html": "<div class=\"html-content\"><html><head></head><body><h1 id=\"widgetprovider-开发\" style=\"position:relative;\"><a aria-label=\"widgetprovider 开发 permalink\" class=\"anchor before\" href=\"#widgetprovider-%E5%BC%80%E5%8F%91\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>widgetProvider 开发</h1><p class=\"update-time\">更新时间：<time datetime=\"2025-10-09 11:25:10\">2025-10-09 11:25:10</time></p>\n<p>本节将介绍 widgetProvider 的核心概念和三种实现方式。鉴于不同平台的开发方式各有差异，开发者可以做在具体文档中查阅。本节重点讲解 widgetProvider 的顶层概念，通过理解这些概念，您将更容易掌握不同实现方式之间的互通性。</p>\n<h2 id=\"概述\" style=\"position:relative;\"><a aria-label=\"概述 permalink\" class=\"anchor before\" href=\"#%E6%A6%82%E8%BF%B0\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>概述</h2>\n<h3 id=\"widgetprovider-介绍\" style=\"position:relative;\"><a aria-label=\"widgetprovider 介绍 permalink\" class=\"anchor before\" href=\"#widgetprovider-%E4%BB%8B%E7%BB%8D\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>widgetProvider 介绍</h3>\n<p>widgetProvider 是轻卡的核心组成部分，它负责执行轻卡页面的逻辑，并与轻卡页面进行数据传递。</p>\n<p>根据数据来源的不同，widgetProvider 有三种不同的实现方式：</p>\n<table>\n<thead>\n<tr>\n<th>应用场景</th>\n<th>实现方式</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>蓝河应用给轻卡提供数据</td>\n<td>蓝河应用</td>\n</tr>\n<tr>\n<td>Android 手机应用给轻卡提供数据</td>\n<td>Android 应用</td>\n</tr>\n<tr>\n<td>服务端接口通过网络请求给轻卡提供数据</td>\n<td>服务端</td>\n</tr>\n</tbody>\n</table>\n<img alt=\"widgetProvider的实现\" src=\"/4cce57f10d0ab3ca89c117f5ccc713d6/WX20241128-204446.png\" style=\"zoom: 50%;\"/>\n<h3 id=\"核心组成与作用\" style=\"position:relative;\"><a aria-label=\"核心组成与作用 permalink\" class=\"anchor before\" href=\"#%E6%A0%B8%E5%BF%83%E7%BB%84%E6%88%90%E4%B8%8E%E4%BD%9C%E7%94%A8\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>核心组成与作用</h3>\n<img alt=\"widgetProvider组成\" src=\"/ab6c2a8e9658a62dad7c3e3e9592683c/WX20241128-211907.png\" style=\"zoom:67%;\"/>\n<h4 id=\"核心组成\" style=\"position:relative;\"><a aria-label=\"核心组成 permalink\" class=\"anchor before\" href=\"#%E6%A0%B8%E5%BF%83%E7%BB%84%E6%88%90\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>核心组成</h4>\n<p>widgetProvider 的组成部分为<strong>生命周期、回调方法和 widgetManager</strong>。</p>\n<ul>\n<li><strong>回调方法：</strong> 响应轻卡页面传递过来的数据。</li>\n<li><strong>生命周期：</strong> 响应轻卡的创建、销毁等生命周期</li>\n<li><strong>widgetManager：</strong> 用于更新卡片数据</li>\n</ul>\n<h4 id=\"响应卡片生命周期\" style=\"position:relative;\"><a aria-label=\"响应卡片生命周期 permalink\" class=\"anchor before\" href=\"#%E5%93%8D%E5%BA%94%E5%8D%A1%E7%89%87%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>响应卡片生命周期</h4>\n<p>widgetProvider 通过下面的生命周期，来执行轻卡的页面的业务逻辑。</p>\n<ul>\n<li>创建：当卡片在入口被创建时触发</li>\n<li>刷新：定时或定点条件满足时触发</li>\n<li>销毁：销毁卡片时触发</li>\n<li>系统语言变化：监听系统语言改变</li>\n</ul>\n<p><strong>例如：</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><div id=\"copyBtn0\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">onWidgetCreate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'卡片创建'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">onWidgetUpdate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'满足时刷新条件'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">onWidgetDestroy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'销毁卡片'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">onConfigurationChanged</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'系统语言改变'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn0\">复制代码</div></div>\n<h4 id=\"响应卡片页面自定义事件\" style=\"position:relative;\"><a aria-label=\"响应卡片页面自定义事件 permalink\" class=\"anchor before\" href=\"#%E5%93%8D%E5%BA%94%E5%8D%A1%E7%89%87%E9%A1%B5%E9%9D%A2%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>响应卡片页面自定义事件</h4>\n<p>widgetProvider 上的 onWidgetEvent 回调可以响应卡片页面发过来的自定义事件和事件数据。</p>\n<p><strong>例如：</strong></p>\n<blockquote>\n<p>widgetProvider 接受数据</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><div id=\"copyBtn1\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">onWidgetEvent</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span> event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'收到卡片页面的事件'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn1\">复制代码</div></div>\n<blockquote>\n<p>卡片页面发送事件</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn2\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\">onTextClick</span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>hello<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn2\">复制代码</div></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn3\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"actions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"onTextClick\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"message.md\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"params\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"content\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"hello\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn3\">复制代码</div></div>\n<h4 id=\"刷新轻卡数据\" style=\"position:relative;\"><a aria-label=\"刷新轻卡数据 permalink\" class=\"anchor before\" href=\"#%E5%88%B7%E6%96%B0%E8%BD%BB%E5%8D%A1%E6%95%B0%E6%8D%AE\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>刷新轻卡数据</h4>\n<p>widgetProvider 还通过接口来刷新 轻卡 UI 页面中的 uiData 数据。</p>\n<blockquote>\n<p>widgetProvider 发送数据给页面</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><div id=\"copyBtn4\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> widgetManager <span class=\"token keyword\">from</span> <span class=\"token string\">'@blueos.app.widgetManager'</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 卡片创建时触发</span>\n  <span class=\"token function\">onWidgetCreate</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    widgetManager<span class=\"token punctuation\">.</span><span class=\"token function\">updateUiData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      instanceId<span class=\"token operator\">:</span> id<span class=\"token punctuation\">,</span>\n      uiData<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> cityName<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Shenzhen</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn4\">复制代码</div></div>\n<blockquote>\n<p>卡片页面编写</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn5\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{cityName}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn5\">复制代码</div></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn6\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"uiData\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"cityName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn6\">复制代码</div></div>\n<h3 id=\"权限与限制\" style=\"position:relative;\"><a aria-label=\"权限与限制 permalink\" class=\"anchor before\" href=\"#%E6%9D%83%E9%99%90%E4%B8%8E%E9%99%90%E5%88%B6\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>权限与限制</h3>\n<p><strong>权限申请：</strong> 当运行 widgetProvider 时需要用户授权，权限申请的主体应为 widgetProvider 所在的应用。</p>\n<p><strong>跳转限制：</strong> 为了防止 widgetProvider 随意启动应用并浪费系统资源，widgetProvider 中禁止跳转到其他应用页面。</p>\n<h2 id=\"开发实践\" style=\"position:relative;\"><a aria-label=\"开发实践 permalink\" class=\"anchor before\" href=\"#%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>开发实践</h2>\n<h3 id=\"注册-widgetprovider\" style=\"position:relative;\"><a aria-label=\"注册 widgetprovider permalink\" class=\"anchor before\" href=\"#%E6%B3%A8%E5%86%8C-widgetprovider\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>注册 widgetProvider</h3>\n<p>在蓝河应用的 manifest.json 中配置如下信息</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn7\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"widgetProvider\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"mymusic\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"path\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/widgetProvider/index.js\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn7\">复制代码</div></div>\n<p>此时对应轻卡需存在配置如下： <strong>注意：需要卡片应用签名和蓝河应用签名一致才可以提供数据</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn8\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"router\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"widgets\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"widget/lite_widget\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"providerUri\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"widget-provider://com.example.demo/mymusic\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"providerPackage\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"com.example.demo\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn8\">复制代码</div></div>\n<h3 id=\"实现-widgetprovider\" style=\"position:relative;\"><a aria-label=\"实现 widgetprovider permalink\" class=\"anchor before\" href=\"#%E5%AE%9E%E7%8E%B0-widgetprovider\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>实现 widgetProvider</h3>\n<p>需要在 <code class=\"language-text\">/widgetProvider/index.js</code> 完成 widgetProvider 功能。</p>\n<p>可参考 <a href=\"/api/system/widget-provider/\">widgetProvider</a> 和 <a href=\"/api/system/widget-manager/\">widgetManager</a></p>\n<table>\n<thead>\n<tr>\n<th>生命周期/回调</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>onWidgetCreate</td>\n<td>当卡片在入口被创建时触发</td>\n</tr>\n<tr>\n<td>onWidgetUpdate</td>\n<td>定时或定点条件满足时，卡片请求提供方刷新卡片</td>\n</tr>\n<tr>\n<td>onWidgetEvent</td>\n<td>当卡片页面触发 Action 的 message 事件时被调用</td>\n</tr>\n<tr>\n<td>onWidgetDestroy</td>\n<td>销毁卡片时触发，提供方可以做对应的释放</td>\n</tr>\n<tr>\n<td>onConfigurationChanged</td>\n<td>监听系统语言改变</td>\n</tr>\n</tbody>\n</table>\n<p><strong>示例：</strong></p>\n<p>下面示例实现了，点击播放/停止音乐，定位等功能。</p>\n<blockquote>\n<p>widgetProvider/index.js</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><div id=\"copyBtn9\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> widgetManager <span class=\"token keyword\">from</span> <span class=\"token string\">'@blueos.app.widgetManager'</span>\n<span class=\"token keyword\">import</span> geolocation <span class=\"token keyword\">from</span> <span class=\"token string\">'@blueos.hardware.location'</span>\n<span class=\"token keyword\">import</span> media <span class=\"token keyword\">from</span> <span class=\"token string\">'@blueos.media.audio.mediaManager'</span>\n\n<span class=\"token keyword\">let</span> audioPlayer\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getLocation</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token builtin\">Promise</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">,</span> reject<span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    geolocation<span class=\"token punctuation\">.</span><span class=\"token function\">getLocation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      success<span class=\"token operator\">:</span> resolve<span class=\"token punctuation\">,</span>\n      fail<span class=\"token operator\">:</span> reject<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">async</span> <span class=\"token function\">onWidgetCreate</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 初始化数据</span>\n    audioPlayer <span class=\"token operator\">=</span> media<span class=\"token punctuation\">.</span><span class=\"token function\">createAudioPlayer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">async</span> <span class=\"token function\">onWidgetUpdate</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 实现定时更新位置功能</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> longitude<span class=\"token punctuation\">,</span> latitude <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getLocation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    widgetManager<span class=\"token punctuation\">.</span><span class=\"token function\">updateUiData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      instanceId<span class=\"token operator\">:</span> id<span class=\"token punctuation\">,</span>\n      uiData<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> longitude<span class=\"token punctuation\">,</span> latitude <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">onWidgetEvent</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> event <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 实现点击音乐播放的功能</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> type <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> event\n    <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">case</span> <span class=\"token string\">'play'</span><span class=\"token operator\">:</span>\n        audioPlayer<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> <span class=\"token string\">'xxxx'</span>\n        audioPlayer<span class=\"token punctuation\">.</span><span class=\"token function\">play</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">break</span>\n      <span class=\"token keyword\">case</span> <span class=\"token string\">'stop'</span><span class=\"token operator\">:</span>\n        audioPlayer<span class=\"token punctuation\">.</span><span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">break</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token function\">onWidgetDestroy</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    audioPlayer<span class=\"token punctuation\">.</span><span class=\"token function\">release</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token function\">onConfigurationChanged</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span> event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 实现改变语言</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>event <span class=\"token operator\">&amp;&amp;</span> event<span class=\"token punctuation\">.</span>type <span class=\"token operator\">&amp;&amp;</span> event<span class=\"token punctuation\">.</span>type <span class=\"token operator\">===</span> <span class=\"token string\">'locale'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      widgetManager<span class=\"token punctuation\">.</span><span class=\"token function\">updateUiData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        instanceId<span class=\"token operator\">:</span> id<span class=\"token punctuation\">,</span>\n        uiData<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> songTitle<span class=\"token operator\">:</span> <span class=\"token string\">'flute solo'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn9\">复制代码</div></div>\n<blockquote>\n<p>对应卡片界面</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"html\"><div id=\"copyBtn10\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{songTitle}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">&gt;</span></span>{{longitude}}, {{latitude}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>play<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>play<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stop<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>stop<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div><div class=\"warp-content\" id=\"copyBtn10\">复制代码</div></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><div id=\"copyBtn11\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"uiData\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"songTitle\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"笛子独奏\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"longitude\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"latitude\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"actions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"play\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"message.md\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"params\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"play\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"stop\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"message.md\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"params\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"stop\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><div class=\"warp-content\" id=\"copyBtn11\">复制代码</div></div>\n<h2 id=\"其他平台-widgetprovider-实现\" style=\"position:relative;\"><a aria-label=\"其他平台 widgetprovider 实现 permalink\" class=\"anchor before\" href=\"#%E5%85%B6%E4%BB%96%E5%B9%B3%E5%8F%B0-widgetprovider-%E5%AE%9E%E7%8E%B0\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>其他平台 widgetProvider 实现</h2>\n<p>当手机 Android 应用或服务端需要为轻卡提供数据时，可以使用 Android 应用和服务端开发 widgetProvider。</p>\n<p>这两种实现方式的原理与蓝河实现相同，可以参考<a href=\"https://www.quickapp.cn/document?menu=2%252C143&amp;pathUrl=%252Fdoc%252Flitewidget%252Fguide%252Finterface%252Fintro.html\">文档</a>进行具体实现。</p></body></html></div>", "content_text": "widgetProvider 开发\n更新时间：\n2025-10-09 11:25:10\n本节将介绍 widgetProvider 的核心概念和三种实现方式。鉴于不同平台的开发方式各有差异，开发者可以做在具体文档中查阅。本节重点讲解 widgetProvider 的顶层概念，通过理解这些概念，您将更容易掌握不同实现方式之间的互通性。\n概述\nwidgetProvider 介绍\nwidgetProvider 是轻卡的核心组成部分，它负责执行轻卡页面的逻辑，并与轻卡页面进行数据传递。\n根据数据来源的不同，widgetProvider 有三种不同的实现方式：\n应用场景\n实现方式\n蓝河应用给轻卡提供数据\n蓝河应用\nAndroid 手机应用给轻卡提供数据\nAndroid 应用\n服务端接口通过网络请求给轻卡提供数据\n服务端\n核心组成与作用\n核心组成\nwidgetProvider 的组成部分为\n生命周期、回调方法和 widgetManager\n。\n回调方法：\n响应轻卡页面传递过来的数据。\n生命周期：\n响应轻卡的创建、销毁等生命周期\nwidgetManager：\n用于更新卡片数据\n响应卡片生命周期\nwidgetProvider 通过下面的生命周期，来执行轻卡的页面的业务逻辑。\n创建：当卡片在入口被创建时触发\n刷新：定时或定点条件满足时触发\n销毁：销毁卡片时触发\n系统语言变化：监听系统语言改变\n例如：\nexport\ndefault\n{\nonWidgetCreate\n(\n)\n{\nconsole\n.\nlog\n(\n'卡片创建'\n)\n}\n,\nonWidgetUpdate\n(\n)\n{\nconsole\n.\nlog\n(\n'满足时刷新条件'\n)\n}\n,\nonWidgetDestroy\n(\n)\n{\nconsole\n.\nlog\n(\n'销毁卡片'\n)\n}\n,\nonConfigurationChanged\n(\n)\n{\nconsole\n.\nlog\n(\n'系统语言改变'\n)\n}\n,\n}\n复制代码\n响应卡片页面自定义事件\nwidgetProvider 上的 onWidgetEvent 回调可以响应卡片页面发过来的自定义事件和事件数据。\n例如：\nwidgetProvider 接受数据\nexport\ndefault\n{\nonWidgetEvent\n(\nid\n,\nevent\n)\n{\nconsole\n.\nlog\n(\n'收到卡片页面的事件'\n)\n}\n,\n}\n复制代码\n卡片页面发送事件\n<\ntext\nonclick\n=\n\"\nonTextClick\n\"\n>\nhello\n</\ntext\n>\n复制代码\n{\n\"actions\"\n:\n{\n\"onTextClick\"\n:\n{\n\"type\"\n:\n\"message.md\"\n,\n\"params\"\n:\n{\n\"content\"\n:\n\"hello\"\n}\n}\n}\n}\n复制代码\n刷新轻卡数据\nwidgetProvider 还通过接口来刷新 轻卡 UI 页面中的 uiData 数据。\nwidgetProvider 发送数据给页面\nimport\nwidgetManager\nfrom\n'@blueos.app.widgetManager'\nexport\ndefault\n{\n// 卡片创建时触发\nonWidgetCreate\n(\nid\n)\n{\nwidgetManager\n.\nupdateUiData\n(\n{\ninstanceId\n:\nid\n,\nuiData\n:\n{\ncityName\n:\n`\nShenzhen\n`\n}\n,\n}\n)\n}\n,\n}\n复制代码\n卡片页面编写\n<\ntext\n>\n{{cityName}}\n</\ntext\n>\n复制代码\n{\n\"uiData\"\n:\n{\n\"cityName\"\n:\n\"\"\n}\n}\n复制代码\n权限与限制\n权限申请：\n当运行 widgetProvider 时需要用户授权，权限申请的主体应为 widgetProvider 所在的应用。\n跳转限制：\n为了防止 widgetProvider 随意启动应用并浪费系统资源，widgetProvider 中禁止跳转到其他应用页面。\n开发实践\n注册 widgetProvider\n在蓝河应用的 manifest.json 中配置如下信息\n{\n\"widgetProvider\"\n:\n[\n{\n\"name\"\n:\n\"mymusic\"\n,\n\"path\"\n:\n\"/widgetProvider/index.js\"\n}\n]\n}\n复制代码\n此时对应轻卡需存在配置如下：\n注意：需要卡片应用签名和蓝河应用签名一致才可以提供数据\n{\n\"router\"\n:\n{\n\"widgets\"\n:\n{\n\"widget/lite_widget\"\n:\n{\n\"providerUri\"\n:\n\"widget-provider://com.example.demo/mymusic\"\n,\n\"providerPackage\"\n:\n\"com.example.demo\"\n}\n}\n}\n}\n复制代码\n实现 widgetProvider\n需要在\n/widgetProvider/index.js\n完成 widgetProvider 功能。\n可参考\nwidgetProvider\n和\nwidgetManager\n生命周期/回调\n描述\nonWidgetCreate\n当卡片在入口被创建时触发\nonWidgetUpdate\n定时或定点条件满足时，卡片请求提供方刷新卡片\nonWidgetEvent\n当卡片页面触发 Action 的 message 事件时被调用\nonWidgetDestroy\n销毁卡片时触发，提供方可以做对应的释放\nonConfigurationChanged\n监听系统语言改变\n示例：\n下面示例实现了，点击播放/停止音乐，定位等功能。\nwidgetProvider/index.js\nimport\nwidgetManager\nfrom\n'@blueos.app.widgetManager'\nimport\ngeolocation\nfrom\n'@blueos.hardware.location'\nimport\nmedia\nfrom\n'@blueos.media.audio.mediaManager'\nlet\naudioPlayer\nconst\ngetLocation\n=\n(\n)\n=>\n{\nreturn\nnew\nPromise\n(\n(\nresolve\n,\nreject\n)\n=>\n{\ngeolocation\n.\ngetLocation\n(\n{\nsuccess\n:\nresolve\n,\nfail\n:\nreject\n,\n}\n)\n}\n)\n}\nexport\ndefault\n{\nasync\nonWidgetCreate\n(\nid\n)\n{\n// 初始化数据\naudioPlayer\n=\nmedia\n.\ncreateAudioPlayer\n(\n)\n}\n,\nasync\nonWidgetUpdate\n(\nid\n)\n{\n// 实现定时更新位置功能\nconst\n{\nlongitude\n,\nlatitude\n}\n=\nawait\ngetLocation\n(\n)\nwidgetManager\n.\nupdateUiData\n(\n{\ninstanceId\n:\nid\n,\nuiData\n:\n{\nlongitude\n,\nlatitude\n}\n,\n}\n)\n}\n,\nonWidgetEvent\n(\nid\n,\n{\nevent\n}\n)\n{\n// 实现点击音乐播放的功能\nconst\n{\ntype\n}\n=\nevent\nswitch\n(\ntype\n)\n{\ncase\n'play'\n:\naudioPlayer\n.\nsrc\n=\n'xxxx'\naudioPlayer\n.\nplay\n(\n)\nbreak\ncase\n'stop'\n:\naudioPlayer\n.\nstop\n(\n)\nbreak\n}\n}\n,\nonWidgetDestroy\n(\nid\n)\n{\naudioPlayer\n.\nrelease\n(\n)\n}\n,\nonConfigurationChanged\n(\nid\n,\nevent\n)\n{\n// 实现改变语言\nif\n(\nevent\n&&\nevent\n.\ntype\n&&\nevent\n.\ntype\n===\n'locale'\n)\n{\nwidgetManager\n.\nupdateUiData\n(\n{\ninstanceId\n:\nid\n,\nuiData\n:\n{\nsongTitle\n:\n'flute solo'\n}\n,\n}\n)\n}\n}\n,\n}\n复制代码\n对应卡片界面\n<\ndiv\n>\n<\ntext\n>\n{{songTitle}}\n</\ntext\n>\n<\ntext\n>\n{{longitude}}, {{latitude}}\n</\ntext\n>\n<\ntext\n@click\n=\n\"\nplay\n\"\n>\nplay\n</\ntext\n>\n<\ntext\n@click\n=\n\"\nstop\n\"\n>\nstop\n</\ntext\n>\n</\ndiv\n>\n复制代码\n{\n\"uiData\"\n:\n{\n\"songTitle\"\n:\n\"笛子独奏\"\n,\n\"longitude\"\n:\n\"\"\n,\n\"latitude\"\n:\n\"\"\n}\n,\n\"actions\"\n:\n{\n\"play\"\n:\n{\n\"type\"\n:\n\"message.md\"\n,\n\"params\"\n:\n{\n\"type\"\n:\n\"play\"\n}\n}\n,\n\"stop\"\n:\n{\n\"type\"\n:\n\"message.md\"\n,\n\"params\"\n:\n{\n\"type\"\n:\n\"stop\"\n}\n}\n}\n}\n复制代码\n其他平台 widgetProvider 实现\n当手机 Android 应用或服务端需要为轻卡提供数据时，可以使用 Android 应用和服务端开发 widgetProvider。\n这两种实现方式的原理与蓝河实现相同，可以参考\n文档\n进行具体实现。", "code_examples": [{"code": "export default {\n  onWidgetCreate() {\n    console.log('卡片创建')\n  },\n  onWidgetUpdate() {\n    console.log('满足时刷新条件')\n  },\n  onWidgetDestroy() {\n    console.log('销毁卡片')\n  },\n  onConfigurationChanged() {\n    console.log('系统语言改变')\n  },\n}", "language": "ts", "index": 0}, {"code": "export default {\n  onWidgetEvent(id, event) {\n    console.log('收到卡片页面的事件')\n  },\n}", "language": "ts", "index": 1}, {"code": "<text onclick=\"onTextClick\">hello</text>", "language": "html", "index": 2}, {"code": "{\n  \"actions\": {\n    \"onTextClick\": {\n      \"type\": \"message.md\",\n      \"params\": {\n        \"content\": \"hello\"\n      }\n    }\n  }\n}", "language": "json", "index": 3}, {"code": "import widgetManager from '@blueos.app.widgetManager'\nexport default {\n  // 卡片创建时触发\n  onWidgetCreate(id) {\n    widgetManager.updateUiData({\n      instanceId: id,\n      uiData: { cityName: `Shenzhen` },\n    })\n  },\n}", "language": "ts", "index": 4}, {"code": "<text>{{cityName}}</text>", "language": "html", "index": 5}, {"code": "{\n  \"uiData\": {\n    \"cityName\": \"\"\n  }\n}", "language": "json", "index": 6}, {"code": "{\n  \"widgetProvider\": [\n    {\n      \"name\": \"mymusic\",\n      \"path\": \"/widgetProvider/index.js\"\n    }\n  ]\n}", "language": "json", "index": 7}, {"code": "{\n  \"router\": {\n    \"widgets\": {\n      \"widget/lite_widget\": {\n        \"providerUri\": \"widget-provider://com.example.demo/mymusic\",\n        \"providerPackage\": \"com.example.demo\"\n      }\n    }\n  }\n}", "language": "json", "index": 8}, {"code": "import widgetManager from '@blueos.app.widgetManager'\nimport geolocation from '@blueos.hardware.location'\nimport media from '@blueos.media.audio.mediaManager'\n\nlet audioPlayer\n\nconst getLocation = () => {\n  return new Promise((resolve, reject) => {\n    geolocation.getLocation({\n      success: resolve,\n      fail: reject,\n    })\n  })\n}\n\nexport default {\n  async onWidgetCreate(id) {\n    // 初始化数据\n    audioPlayer = media.createAudioPlayer()\n  },\n  async onWidgetUpdate(id) {\n    // 实现定时更新位置功能\n    const { longitude, latitude } = await getLocation()\n    widgetManager.updateUiData({\n      instanceId: id,\n      uiData: { longitude, latitude },\n    })\n  },\n  onWidgetEvent(id, { event }) {\n    // 实现点击音乐播放的功能\n    const { type } = event\n    switch (type) {\n      case 'play':\n        audioPlayer.src = 'xxxx'\n        audioPlayer.play()\n        break\n      case 'stop':\n        audioPlayer.stop()\n        break\n    }\n  },\n\n  onWidgetDestroy(id) {\n    audioPlayer.release()\n  },\n\n  onConfigurationChanged(id, event) {\n    // 实现改变语言\n    if (event && event.type && event.type === 'locale') {\n      widgetManager.updateUiData({\n        instanceId: id,\n        uiData: { songTitle: 'flute solo' },\n      })\n    }\n  },\n}", "language": "ts", "index": 9}, {"code": "<div>\n  <text>{{songTitle}}</text>\n  <text>{{longitude}}, {{latitude}}</text>\n  <text @click=\"play\">play</text>\n  <text @click=\"stop\">stop</text>\n</div>", "language": "html", "index": 10}, {"code": "{\n  \"uiData\": {\n    \"songTitle\": \"笛子独奏\",\n    \"longitude\": \"\",\n    \"latitude\": \"\"\n  },\n  \"actions\": {\n    \"play\": {\n      \"type\": \"message.md\",\n      \"params\": {\n        \"type\": \"play\"\n      }\n    },\n    \"stop\": {\n      \"type\": \"message.md\",\n      \"params\": {\n        \"type\": \"stop\"\n      }\n    }\n  }\n}", "language": "json", "index": 11}], "frontmatter": {"title": "widgetProvider 开发"}, "has_content": true}
